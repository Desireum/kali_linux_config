!function(e){var t=function(t){"use strict";e.__JSSDK_VERSION__={SDKVersion:"1.9.64",SDKUpdateVersion:"1.9.64.12",CommitHash:"6e83b8de3012d3187228fdfecf80881b4114495c"};var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var i=function(e){return e&&e.Math==Math&&e},a=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n&&n)||function(){return this}()||Function("return this")(),s=function(e){try{return!!e()}catch(e){return!0}},c=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,f={f:l&&!u.call({1:2},1)?function(e){var t=l(this,e);return!!t&&t.enumerable}:u},d=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,p=function(e){return h.call(e).slice(8,-1)},v="".split,g=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==p(e)?v.call(e,""):Object(e)}:Object,m=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},y=function(e){return g(m(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_=function(e,t){if(!b(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!b(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,S=function(e,t){return w.call(e,t)},k=a.document,T=b(k)&&b(k.createElement),E=function(e){return T?k.createElement(e):{}},C=!c&&!s((function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a})),I=Object.getOwnPropertyDescriptor,A={f:c?I:function(e,t){if(e=y(e),t=_(t,!0),C)try{return I(e,t)}catch(e){}if(S(e,t))return d(!f.f.call(e,t),e[t])}},M=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},O=Object.defineProperty,R={f:c?O:function(e,t,n){if(M(e),t=_(t,!0),M(n),C)try{return O(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},x=c?function(e,t,n){return R.f(e,t,d(1,n))}:function(e,t,n){return e[t]=n,e},P=function(e,t){try{x(a,e,t)}catch(n){a[e]=t}return t},N="__core-js_shared__",j=a[N]||P(N,{}),L=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(e){return L.call(e)});var D,B,F,U=j.inspectSource,q=a.WeakMap,W="function"==typeof q&&/native code/.test(U(q)),V=!1,z=o((function(e){(e.exports=function(e,t){return j[e]||(j[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.7.0",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),G=0,H=Math.random(),K=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++G+H).toString(36)},J=z("keys"),$=function(e){return J[e]||(J[e]=K(e))},Y={},Q=a.WeakMap;if(W){var X=j.state||(j.state=new Q),Z=X.get,ee=X.has,te=X.set;D=function(e,t){return t.facade=e,te.call(X,e,t),t},B=function(e){return Z.call(X,e)||{}},F=function(e){return ee.call(X,e)}}else{var ne=$("state");Y[ne]=!0,D=function(e,t){return t.facade=e,x(e,ne,t),t},B=function(e){return S(e,ne)?e[ne]:{}},F=function(e){return S(e,ne)}}var re={set:D,get:B,has:F,enforce:function(e){return F(e)?B(e):D(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=B(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},oe=o((function(e){var t=re.get,n=re.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var s,c=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||S(o,"name")||x(o,"name",t),(s=n(o)).source||(s.source=r.join("string"==typeof t?t:""))),e!==a?(c?!l&&e[t]&&(u=!0):delete e[t],u?e[t]=o:x(e,t,o)):u?e[t]=o:P(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||U(this)}))})),ie=a,ae=function(e){return"function"==typeof e?e:void 0},se=function(e,t){return arguments.length<2?ae(ie[e])||ae(a[e]):ie[e]&&ie[e][t]||a[e]&&a[e][t]},ce=Math.ceil,ue=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?ue:ce)(e)},fe=Math.min,de=function(e){return e>0?fe(le(e),9007199254740991):0},he=Math.max,pe=Math.min,ve=function(e,t){var n=le(e);return n<0?he(n+t,0):pe(n,t)},ge=function(e){return function(t,n,r){var o,i=y(t),a=de(i.length),s=ve(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},me={includes:ge(!0),indexOf:ge(!1)},ye=me.indexOf,be=function(e,t){var n,r=y(e),o=0,i=[];for(n in r)!S(Y,n)&&S(r,n)&&i.push(n);for(;t.length>o;)S(r,n=t[o++])&&(~ye(i,n)||i.push(n));return i},_e=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],we=_e.concat("length","prototype"),Se={f:Object.getOwnPropertyNames||function(e){return be(e,we)}},ke={f:Object.getOwnPropertySymbols},Te=se("Reflect","ownKeys")||function(e){var t=Se.f(M(e)),n=ke.f;return n?t.concat(n(e)):t},Ee=function(e,t){for(var n=Te(t),r=R.f,o=A.f,i=0;i<n.length;i++){var a=n[i];S(e,a)||r(e,a,o(t,a))}},Ce=/#|\.prototype\./,Ie=function(e,t){var n=Me[Ae(e)];return n==Re||n!=Oe&&("function"==typeof t?s(t):!!t)},Ae=Ie.normalize=function(e){return String(e).replace(Ce,".").toLowerCase()},Me=Ie.data={},Oe=Ie.NATIVE="N",Re=Ie.POLYFILL="P",xe=Ie,Pe=A.f,Ne=function(e,t){var n,r,o,i,s,c=e.target,u=e.global,l=e.stat;if(n=u?a:l?a[c]||P(c,{}):(a[c]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(s=Pe(n,r))&&s.value:n[r],!xe(u?r:c+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ee(i,o)}(e.sham||o&&o.sham)&&x(i,"sham",!0),oe(n,r,i,e)}},je=!s((function(){return Object.isExtensible(Object.preventExtensions({}))})),Le=o((function(e){var t=R.f,n=K("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!b(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!S(e,n)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!S(e,n)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return je&&a.REQUIRED&&o(e)&&!S(e,n)&&i(e),e}};Y[n]=!0})),De=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())})),Be=De&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Fe=z("wks"),Ue=a.Symbol,qe=Be?Ue:Ue&&Ue.withoutSetter||K,We=function(e){return S(Fe,e)||(De&&S(Ue,e)?Fe[e]=Ue[e]:Fe[e]=qe("Symbol."+e)),Fe[e]},Ve={},ze=We("iterator"),Ge=Array.prototype,He=function(e){return void 0!==e&&(Ve.Array===e||Ge[ze]===e)},Ke=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Je=function(e,t,n){if(Ke(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},$e={};$e[We("toStringTag")]="z";var Ye="[object z]"===String($e),Qe=We("toStringTag"),Xe="Arguments"==p(function(){return arguments}()),Ze=Ye?p:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Qe))?n:Xe?p(t):"Object"==(r=p(t))&&"function"==typeof t.callee?"Arguments":r},et=We("iterator"),nt=function(e){if(null!=e)return e[et]||e["@@iterator"]||Ve[Ze(e)]},rt=function(e){var t=e.return;if(void 0!==t)return M(t.call(e)).value},ot=function(e,t){this.stopped=e,this.result=t},it=function(e,t,n){var r,o,i,a,s,c,u,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=Je(t,l,1+f+h),v=function(e){return r&&rt(r),new ot(!0,e)},g=function(e){return f?(M(e),h?p(e[0],e[1],v):p(e[0],e[1])):h?p(e,v):p(e)};if(d)r=e;else{if("function"!=typeof(o=nt(e)))throw TypeError("Target is not iterable");if(He(o)){for(i=0,a=de(e.length);a>i;i++)if((s=g(e[i]))&&s instanceof ot)return s;return new ot(!1)}r=o.call(e)}for(c=r.next;!(u=c.call(r)).done;){try{s=g(u.value)}catch(e){throw rt(r),e}if("object"==typeof s&&s&&s instanceof ot)return s}return new ot(!1)},at=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},st=We("iterator"),ct=!1;try{var ut=0,lt={next:function(){return{done:!!ut++}},return:function(){ct=!0}};lt[st]=function(){return this},Array.from(lt,(function(){throw 2}))}catch(e){}var ft,dt=function(e,t){if(!t&&!ct)return!1;var n=!1;try{var r={};r[st]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},ht=R.f,pt=We("toStringTag"),vt=function(e,t,n){e&&!S(e=n?e:e.prototype,pt)&&ht(e,pt,{configurable:!0,value:t})},gt=function(e){if(!b(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},mt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return M(n),gt(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),yt=function(e,t,n){var r,o;return mt&&"function"==typeof(r=t.constructor)&&r!==n&&b(o=r.prototype)&&o!==n.prototype&&mt(e,o),e},bt=function(e,t,n){var r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),i=r?"set":"add",c=a[e],u=c&&c.prototype,l=c,f={},d=function(e){var t=u[e];oe(u,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!b(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!b(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!b(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(xe(e,"function"!=typeof c||!(o||u.forEach&&!s((function(){(new c).entries().next()})))))l=n.getConstructor(t,e,r,i),Le.REQUIRED=!0;else if(xe(e,!0)){var h=new l,p=h[i](o?{}:-0,1)!=h,v=s((function(){h.has(1)})),g=dt((function(e){new c(e)})),m=!o&&s((function(){for(var e=new c,t=5;t--;)e[i](t,t);return!e.has(-0)}));g||((l=t((function(t,n){at(t,l,e);var o=yt(new c,t,l);return null!=n&&it(n,o[i],{that:o,AS_ENTRIES:r}),o}))).prototype=u,u.constructor=l),(v||m)&&(d("delete"),d("has"),r&&d("get")),(m||p)&&d(i),o&&u.clear&&delete u.clear}return f[e]=l,Ne({global:!0,forced:l!=c},f),vt(l,e),o||n.setStrong(l,e,r),l},_t=Object.keys||function(e){return be(e,_e)},wt=c?Object.defineProperties:function(e,t){M(e);for(var n,r=_t(t),o=r.length,i=0;o>i;)R.f(e,n=r[i++],t[n]);return e},St=se("document","documentElement"),kt=$("IE_PROTO"),Tt=function(){},Et=function(e){return"<script>"+e+"</"+"script>"},Ct=function(){try{ft=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Ct=ft?function(e){e.write(Et("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ft):((t=E("iframe")).style.display="none",St.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Et("document.F=Object")),e.close(),e.F);for(var n=_e.length;n--;)delete Ct.prototype[_e[n]];return Ct()};Y[kt]=!0;var It,At,Mt,Ot=Object.create||function(e,t){var n;return null!==e?(Tt.prototype=M(e),n=new Tt,Tt.prototype=null,n[kt]=e):n=Ct(),void 0===t?n:wt(n,t)},Rt=function(e,t,n){for(var r in t)oe(e,r,t[r],n);return e},xt=function(e){return Object(m(e))},Pt=!s((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Nt=$("IE_PROTO"),jt=Object.prototype,Lt=Pt?Object.getPrototypeOf:function(e){return e=xt(e),S(e,Nt)?e[Nt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?jt:null},Dt=We("iterator"),Bt=!1;[].keys&&("next"in(Mt=[].keys())?(At=Lt(Lt(Mt)))!==Object.prototype&&(It=At):Bt=!0),null==It&&(It={}),S(It,Dt)||x(It,Dt,(function(){return this}));var Ft={IteratorPrototype:It,BUGGY_SAFARI_ITERATORS:Bt},Ut=Ft.IteratorPrototype,qt=function(){return this},Wt=function(e,t,n){var r=t+" Iterator";return e.prototype=Ot(Ut,{next:d(1,n)}),vt(e,r,!1),Ve[r]=qt,e},Vt=Ft.IteratorPrototype,zt=Ft.BUGGY_SAFARI_ITERATORS,Gt=We("iterator"),Ht="keys",Kt="values",Jt="entries",$t=function(){return this},Yt=function(e,t,n,r,o,i,a){Wt(n,t,r);var s,c,u,l=function(e){if(e===o&&v)return v;if(!zt&&e in h)return h[e];switch(e){case Ht:case Kt:case Jt:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,h=e.prototype,p=h[Gt]||h["@@iterator"]||o&&h[o],v=!zt&&p||l(o),g="Array"==t&&h.entries||p;if(g&&(s=Lt(g.call(new e)),Vt!==Object.prototype&&s.next&&(Lt(s)!==Vt&&(mt?mt(s,Vt):"function"!=typeof s[Gt]&&x(s,Gt,$t)),vt(s,f,!0))),o==Kt&&p&&p.name!==Kt&&(d=!0,v=function(){return p.call(this)}),h[Gt]!==v&&x(h,Gt,v),Ve[t]=v,o)if(c={values:l(Kt),keys:i?v:l(Ht),entries:l(Jt)},a)for(u in c)(zt||d||!(u in h))&&oe(h,u,c[u]);else Ne({target:t,proto:!0,forced:zt||d},c);return c},Qt=We("species"),Xt=function(e){var t=se(e),n=R.f;c&&t&&!t[Qt]&&n(t,Qt,{configurable:!0,get:function(){return this}})},Zt=R.f,en=Le.fastKey,tn=re.set,nn=re.getterFor,rn={getConstructor:function(e,t,n,r){var o=e((function(e,i){at(e,o,t),tn(e,{type:t,index:Ot(null),first:void 0,last:void 0,size:0}),c||(e.size=0),null!=i&&it(i,e[r],{that:e,AS_ENTRIES:n})})),i=nn(t),a=function(e,t,n){var r,o,a=i(e),u=s(e,t);return u?u.value=n:(a.last=u={index:o=en(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=u),r&&(r.next=u),c?a.size++:e.size++,"F"!==o&&(a.index[o]=u)),e},s=function(e,t){var n,r=i(e),o=en(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Rt(o.prototype,{clear:function(){for(var e=i(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,c?e.size=0:this.size=0},delete:function(e){var t=this,n=i(t),r=s(t,e);if(r){var o=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=o),o&&(o.previous=a),n.first==r&&(n.first=o),n.last==r&&(n.last=a),c?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=i(this),r=Je(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),Rt(o.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),c&&Zt(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=nn(t),i=nn(r);Yt(e,t,(function(e,t){tn(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Xt(t)}},on=bt("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),rn),an=function(e,t){var n=this;if(!(n instanceof an))return new an(e,t);mt&&(n=mt(new Error(void 0),Lt(n))),void 0!==t&&x(n,"message",String(t));var r=[];return it(e,r.push,{that:r}),x(n,"errors",r),n};an.prototype=Ot(Error.prototype,{constructor:d(5,an),message:d(5,""),name:d(5,"AggregateError")}),Ne({global:!0},{AggregateError:an});var sn=We("unscopables"),cn=Array.prototype;null==cn[sn]&&R.f(cn,sn,{configurable:!0,value:Ot(null)});var un=function(e){cn[sn][e]=!0},ln=R.f;c&&!("lastIndex"in[])&&(ln(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=xt(this),t=de(e.length);return 0==t?0:t-1}}),un("lastIndex"));var fn=R.f;c&&!("lastItem"in[])&&(fn(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=xt(this),t=de(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=xt(this),n=de(t.length);return t[0==n?0:n-1]=e}}),un("lastItem"));var dn=Array.isArray||function(e){return"Array"==p(e)},hn=We("species"),pn=function(e,t){var n;return dn(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!dn(n.prototype)?b(n)&&null===(n=n[hn])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},vn=[].push,gn=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=5==e||i;return function(s,c,u,l){for(var f,d,h=xt(s),p=g(h),v=Je(c,u,3),m=de(p.length),y=0,b=l||pn,_=t?b(s,m):n?b(s,0):void 0;m>y;y++)if((a||y in p)&&(d=v(f=p[y],y,h),e))if(t)_[y]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:vn.call(_,f)}else if(o)return!1;return i?-1:r||o?o:_}},mn={forEach:gn(0),map:gn(1),filter:gn(2),some:gn(3),every:gn(4),find:gn(5),findIndex:gn(6)},yn=Le.getWeakData,bn=re.set,_n=re.getterFor,wn=mn.find,Sn=mn.findIndex,kn=0,Tn=function(e){return e.frozen||(e.frozen=new En)},En=function(){this.entries=[]},Cn=function(e,t){return wn(e.entries,(function(e){return e[0]===t}))};En.prototype={get:function(e){var t=Cn(this,e);if(t)return t[1]},has:function(e){return!!Cn(this,e)},set:function(e,t){var n=Cn(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=Sn(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}};var In={getConstructor:function(e,t,n,r){var o=e((function(e,i){at(e,o,t),bn(e,{type:t,id:kn++,frozen:void 0}),null!=i&&it(i,e[r],{that:e,AS_ENTRIES:n})})),i=_n(t),a=function(e,t,n){var r=i(e),o=yn(M(t),!0);return!0===o?Tn(r).set(t,n):o[r.id]=n,e};return Rt(o.prototype,{delete:function(e){var t=i(this);if(!b(e))return!1;var n=yn(e);return!0===n?Tn(t).delete(e):n&&S(n,t.id)&&delete n[t.id]},has:function(e){var t=i(this);if(!b(e))return!1;var n=yn(e);return!0===n?Tn(t).has(e):n&&S(n,t.id)}}),Rt(o.prototype,n?{get:function(e){var t=i(this);if(b(e)){var n=yn(e);return!0===n?Tn(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),o}},An=o((function(e){var t,n=re.enforce,r=!a.ActiveXObject&&"ActiveXObject"in a,o=Object.isExtensible,i=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},s=e.exports=bt("WeakMap",i,In);if(W&&r){t=In.getConstructor(i,"WeakMap",!0),Le.REQUIRED=!0;var c=s.prototype,u=c.delete,l=c.has,f=c.get,d=c.set;Rt(c,{delete:function(e){if(b(e)&&!o(e)){var r=n(this);return r.frozen||(r.frozen=new t),u.call(this,e)||r.frozen.delete(e)}return u.call(this,e)},has:function(e){if(b(e)&&!o(e)){var r=n(this);return r.frozen||(r.frozen=new t),l.call(this,e)||r.frozen.has(e)}return l.call(this,e)},get:function(e){if(b(e)&&!o(e)){var r=n(this);return r.frozen||(r.frozen=new t),l.call(this,e)?f.call(this,e):r.frozen.get(e)}return f.call(this,e)},set:function(e,r){if(b(e)&&!o(e)){var i=n(this);i.frozen||(i.frozen=new t),l.call(this,e)?d.call(this,e,r):i.frozen.set(e,r)}else d.call(this,e,r);return this}})}})),Mn=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=Ot(null)};Mn.prototype.get=function(e,t){return this[e]||(this[e]=t())},Mn.prototype.next=function(e,t,n){var r=n?this.objectsByIndex[e]||(this.objectsByIndex[e]=new An):this.primitives||(this.primitives=new on),o=r.get(t);return o||r.set(t,o=new Mn),o};var On=new Mn,Rn=function(){var e,t,n=On,r=arguments.length;for(e=0;e<r;e++)b(t=arguments[e])&&(n=n.next(e,t,!0));if(this===Object&&n===On)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)b(t=arguments[e])||(n=n.next(e,t,!1));return n},xn=function(){var e=se("Object","freeze");return e?e(Ot(null)):Ot(null)};Ne({global:!0},{compositeKey:function(){return Rn.apply(Object,arguments).get("object",xn)}}),Ne({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?se("Symbol").for(arguments[0]):Rn.apply(null,arguments).get("symbol",se("Symbol"))}}),Ne({global:!0},{globalThis:a});var Pn=function(){for(var e,t=M(this),n=Ke(t.delete),r=!0,o=0,i=arguments.length;o<i;o++)e=n.call(t,arguments[o]),r=r&&e;return!!r};Ne({target:"Map",proto:!0,real:!0,forced:V},{deleteAll:function(){return Pn.apply(this,arguments)}});var Nn=function(e){var t=nt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return M(t.call(e))},jn=function(e){return Map.prototype.entries.call(e)};Ne({target:"Map",proto:!0,real:!0,forced:V},{every:function(e){var t=M(this),n=jn(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3);return!it(n,(function(e,n,o){if(!r(n,e,t))return o()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Ln=We("species"),Dn=function(e,t){var n,r=M(e).constructor;return void 0===r||null==(n=M(r)[Ln])?t:Ke(n)};Ne({target:"Map",proto:!0,real:!0,forced:V},{filter:function(e){var t=M(this),n=jn(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3),o=new(Dn(t,se("Map"))),i=Ke(o.set);return it(n,(function(e,n){r(n,e,t)&&i.call(o,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{find:function(e){var t=M(this),n=jn(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3);return it(n,(function(e,n,o){if(r(n,e,t))return o(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{findKey:function(e){var t=M(this),n=jn(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3);return it(n,(function(e,n,o){if(r(n,e,t))return o(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Bn=function(e){var t,n,r,o,i=arguments.length,a=i>1?arguments[1]:void 0;return Ke(this),(t=void 0!==a)&&Ke(a),null==e?new this:(n=[],t?(r=0,o=Je(a,i>2?arguments[2]:void 0,2),it(e,(function(e){n.push(o(e,r++))}))):it(e,n.push,{that:n}),new this(n))};Ne({target:"Map",stat:!0},{from:Bn}),Ne({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;Ke(t);var r=Ke(n.has),o=Ke(n.get),i=Ke(n.set);return it(e,(function(e){var a=t(e);r.call(n,a)?o.call(n,a).push(e):i.call(n,a,[e])})),n}});Ne({target:"Map",proto:!0,real:!0,forced:V},{includes:function(e){return it(jn(M(this)),(function(t,n,r){if(function(e,t){return e===t||e!=e&&t!=t}(n,e))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;Ke(t);var r=Ke(n.set);return it(e,(function(e){r.call(n,t(e),e)})),n}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{keyOf:function(e){return it(jn(M(this)),(function(t,n,r){if(n===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{mapKeys:function(e){var t=M(this),n=jn(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3),o=new(Dn(t,se("Map"))),i=Ke(o.set);return it(n,(function(e,n){i.call(o,r(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{mapValues:function(e){var t=M(this),n=jn(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3),o=new(Dn(t,se("Map"))),i=Ke(o.set);return it(n,(function(e,n){i.call(o,e,r(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{merge:function(e){for(var t=M(this),n=Ke(t.set),r=0;r<arguments.length;)it(arguments[r++],n,{that:t,AS_ENTRIES:!0});return t}});var Fn=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)};Ne({target:"Map",stat:!0},{of:Fn}),Ne({target:"Map",proto:!0,real:!0,forced:V},{reduce:function(e){var t=M(this),n=jn(t),r=arguments.length<2,o=r?void 0:arguments[1];if(Ke(e),it(n,(function(n,i){r?(r=!1,o=i):o=e(o,i,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return o}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{some:function(e){var t=M(this),n=jn(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3);return it(n,(function(e,n,o){if(r(n,e,t))return o()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{update:function(e,t){var n=M(this),r=arguments.length;Ke(t);var o=n.has(e);if(!o&&r<3)throw TypeError("Updating absent value");var i=o?n.get(e):Ke(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(i,e,n)),n}});var Un=Math.min,qn=Math.max;Ne({target:"Math",stat:!0},{clamp:function(e,t,n){return Un(n,qn(t,e))}}),Ne({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180});var Wn=180/Math.PI;Ne({target:"Math",stat:!0},{degrees:function(e){return e*Wn}});var Vn=Math.scale||function(e,t,n,r,o){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-r)/(n-t)+r},zn=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1},Gn=Math.abs,Hn=Math.pow,Kn=Hn(2,-52),Jn=Hn(2,-23),$n=Hn(2,127)*(2-Jn),Yn=Hn(2,-126),Qn=Math.fround||function(e){var t,n,r=Gn(e),o=zn(e);return r<Yn?o*(r/Yn/Jn+1/Kn-1/Kn)*Yn*Jn:(n=(t=(1+Jn/Kn)*r)-(t-r))>$n||n!=n?o*(1/0):o*n};Ne({target:"Math",stat:!0},{fscale:function(e,t,n,r,o){return Qn(Vn(e,t,n,r,o))}}),Ne({target:"Math",stat:!0},{iaddh:function(e,t,n,r){var o=e>>>0,i=n>>>0;return(t>>>0)+(r>>>0)+((o&i|(o|i)&~(o+i>>>0))>>>31)|0}}),Ne({target:"Math",stat:!0},{imulh:function(e,t){var n=65535,r=+e,o=+t,i=r&n,a=o&n,s=r>>16,c=o>>16,u=(s*a>>>0)+(i*a>>>16);return s*c+(u>>16)+((i*c>>>0)+(u&n)>>16)}}),Ne({target:"Math",stat:!0},{isubh:function(e,t,n,r){var o=e>>>0,i=n>>>0;return(t>>>0)-(r>>>0)-((~o&i|~(o^i)&o-i>>>0)>>>31)|0}}),Ne({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI});var Xn=Math.PI/180;Ne({target:"Math",stat:!0},{radians:function(e){return e*Xn}}),Ne({target:"Math",stat:!0},{scale:Vn});var Zn=a.isFinite,er=Number.isFinite||function(e){return"number"==typeof e&&Zn(e)},tr="Seeded Random",nr="Seeded Random Generator",rr=re.set,or=re.getterFor(nr),ir=Wt((function(e){rr(this,{type:nr,seed:e%2147483647})}),tr,(function(){var e=or(this);return{value:(1073741823&(e.seed=(1103515245*e.seed+12345)%2147483647))/1073741823,done:!1}}));Ne({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=M(e).seed;if(!er(t))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new ir(t)}}),Ne({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&0==e?1/e==-1/0:e<0}}),Ne({target:"Math",stat:!0},{umulh:function(e,t){var n=65535,r=+e,o=+t,i=r&n,a=o&n,s=r>>>16,c=o>>>16,u=(s*a>>>0)+(i*a>>>16);return s*c+(u>>>16)+((i*c>>>0)+(u&n)>>>16)}});var ar="\t\n\v\f\r                　\u2028\u2029\ufeff",sr="["+ar+"]",cr=RegExp("^"+sr+sr+"*"),ur=RegExp(sr+sr+"*$"),lr=function(e){return function(t){var n=String(m(t));return 1&e&&(n=n.replace(cr,"")),2&e&&(n=n.replace(ur,"")),n}},fr={start:lr(1),end:lr(2),trim:lr(3)},dr=fr.trim,hr=a.parseInt,pr=/^[+-]?0[Xx]/,vr=8!==hr(ar+"08")||22!==hr(ar+"0x16")?function(e,t){var n=dr(String(e));return hr(n,t>>>0||(pr.test(n)?16:10))}:hr,gr="Invalid number representation",mr=/^[\da-z]+$/;Ne({target:"Number",stat:!0},{fromString:function(e,t){var n,r,o=1;if("string"!=typeof e)throw TypeError(gr);if(!e.length)throw SyntaxError(gr);if("-"==e.charAt(0)&&(o=-1,!(e=e.slice(1)).length))throw SyntaxError(gr);if((n=void 0===t?10:le(t))<2||n>36)throw RangeError("Invalid radix");if(!mr.test(e)||(r=vr(e,n)).toString(n)!==e)throw SyntaxError(gr);return o*r}});var yr=function(e,t){var n=a.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},br=R.f,_r=We("observable"),wr=re.get,Sr=re.set,kr=function(e){return null==e?void 0:Ke(e)},Tr=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(e){yr(e)}}},Er=function(e){return void 0===e.observer},Cr=function(e,t){if(!c){e.closed=!0;var n=t.subscriptionObserver;n&&(n.closed=!0)}t.observer=void 0},Ir=function(e,t){var n,r=Sr(this,{cleanup:void 0,observer:M(e),subscriptionObserver:void 0});c||(this.closed=!1);try{(n=kr(e.start))&&n.call(e,this)}catch(e){yr(e)}if(!Er(r)){var o=r.subscriptionObserver=new Ar(this);try{var i=t(o),a=i;null!=i&&(r.cleanup="function"==typeof i.unsubscribe?function(){a.unsubscribe()}:Ke(i))}catch(e){return void o.error(e)}Er(r)&&Tr(r)}};Ir.prototype=Rt({},{unsubscribe:function(){var e=wr(this);Er(e)||(Cr(this,e),Tr(e))}}),c&&br(Ir.prototype,"closed",{configurable:!0,get:function(){return Er(wr(this))}});var Ar=function(e){Sr(this,{subscription:e}),c||(this.closed=!1)};Ar.prototype=Rt({},{next:function(e){var t=wr(wr(this).subscription);if(!Er(t)){var n=t.observer;try{var r=kr(n.next);r&&r.call(n,e)}catch(e){yr(e)}}},error:function(e){var t=wr(this).subscription,n=wr(t);if(!Er(n)){var r=n.observer;Cr(t,n);try{var o=kr(r.error);o?o.call(r,e):yr(e)}catch(e){yr(e)}Tr(n)}},complete:function(){var e=wr(this).subscription,t=wr(e);if(!Er(t)){var n=t.observer;Cr(e,t);try{var r=kr(n.complete);r&&r.call(n)}catch(e){yr(e)}Tr(t)}}}),c&&br(Ar.prototype,"closed",{configurable:!0,get:function(){return Er(wr(wr(this).subscription))}});var Mr=function(e){at(this,Mr,"Observable"),Sr(this,{subscriber:Ke(e)})};Rt(Mr.prototype,{subscribe:function(e){var t=arguments.length;return new Ir("function"==typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:b(e)?e:{},wr(this).subscriber)}}),Rt(Mr,{from:function(e){var t="function"==typeof this?this:Mr,n=kr(M(e)[_r]);if(n){var r=M(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}var o=Nn(e);return new t((function(e){it(o,(function(t,n){if(e.next(t),e.closed)return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}),e.complete()}))},of:function(){for(var e="function"==typeof this?this:Mr,t=arguments.length,n=new Array(t),r=0;r<t;)n[r]=arguments[r++];return new e((function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()}))}}),x(Mr.prototype,_r,(function(){return this})),Ne({global:!0},{Observable:Mr}),Xt("Observable");var Or=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Ke(t),this.reject=Ke(n)},Rr={f:function(e){return new Or(e)}},xr=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}};Ne({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Rr.f(t),r=n.resolve,o=n.reject,i=xr((function(){var n=Ke(t.resolve),o=[],i=0,a=1;it(e,(function(e){var s=i++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[s]={status:"fulfilled",value:e},--a||r(o))}),(function(e){c||(c=!0,o[s]={status:"rejected",reason:e},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var Pr="No one promise resolved";Ne({target:"Promise",stat:!0},{any:function(e){var t=this,n=Rr.f(t),r=n.resolve,o=n.reject,i=xr((function(){var n=Ke(t.resolve),i=[],a=0,s=1,c=!1;it(e,(function(e){var u=a++,l=!1;i.push(void 0),s++,n.call(t,e).then((function(e){l||c||(c=!0,r(e))}),(function(e){l||c||(l=!0,i[u]=e,--s||o(new(se("AggregateError"))(i,Pr)))}))})),--s||o(new(se("AggregateError"))(i,Pr))}));return i.error&&o(i.value),n.promise}}),Ne({target:"Promise",stat:!0},{try:function(e){var t=Rr.f(this),n=xr(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var Nr=z("metadata"),jr=Nr.store||(Nr.store=new An),Lr=function(e,t,n){var r=jr.get(e);if(!r){if(!n)return;jr.set(e,r=new on)}var o=r.get(t);if(!o){if(!n)return;r.set(t,o=new on)}return o},Dr={store:jr,getMap:Lr,has:function(e,t,n){var r=Lr(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=Lr(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){Lr(n,r,!0).set(e,t)},keys:function(e,t){var n=Lr(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},toKey:function(e){return void 0===e||"symbol"==typeof e?e:String(e)}},Br=Dr.toKey,Fr=Dr.set;Ne({target:"Reflect",stat:!0},{defineMetadata:function(e,t,n){var r=arguments.length<4?void 0:Br(arguments[3]);Fr(e,t,M(n),r)}});var Ur=Dr.toKey,qr=Dr.getMap,Wr=Dr.store;Ne({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var n=arguments.length<3?void 0:Ur(arguments[2]),r=qr(M(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var o=Wr.get(t);return o.delete(n),!!o.size||Wr.delete(t)}});var Vr=Dr.has,zr=Dr.get,Gr=Dr.toKey,Hr=function(e,t,n){if(Vr(e,t,n))return zr(e,t,n);var r=Lt(t);return null!==r?Hr(e,r,n):void 0};Ne({target:"Reflect",stat:!0},{getMetadata:function(e,t){var n=arguments.length<3?void 0:Gr(arguments[2]);return Hr(e,M(t),n)}});var Kr=bt("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),rn),Jr=Dr.keys,$r=Dr.toKey,Yr=function(e,t){var n=Jr(e,t),r=Lt(e);if(null===r)return n;var o,i,a=Yr(r,t);return a.length?n.length?(o=new Kr(n.concat(a)),it(o,(i=[]).push,{that:i}),i):a:n};Ne({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:$r(arguments[1]);return Yr(M(e),t)}});var Qr=Dr.get,Xr=Dr.toKey;Ne({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var n=arguments.length<3?void 0:Xr(arguments[2]);return Qr(e,M(t),n)}});var Zr=Dr.keys,eo=Dr.toKey;Ne({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:eo(arguments[1]);return Zr(M(e),t)}});var to=Dr.has,no=Dr.toKey,ro=function(e,t,n){if(to(e,t,n))return!0;var r=Lt(t);return null!==r&&ro(e,r,n)};Ne({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var n=arguments.length<3?void 0:no(arguments[2]);return ro(e,M(t),n)}});var oo=Dr.has,io=Dr.toKey;Ne({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var n=arguments.length<3?void 0:io(arguments[2]);return oo(e,M(t),n)}});var ao=Dr.toKey,so=Dr.set;Ne({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){so(e,t,M(n),ao(r))}}});var co=function(){for(var e=M(this),t=Ke(e.add),n=0,r=arguments.length;n<r;n++)t.call(e,arguments[n]);return e};Ne({target:"Set",proto:!0,real:!0,forced:V},{addAll:function(){return co.apply(this,arguments)}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{deleteAll:function(){return Pn.apply(this,arguments)}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{difference:function(e){var t=M(this),n=new(Dn(t,se("Set")))(t),r=Ke(n.delete);return it(e,(function(e){r.call(n,e)})),n}});var uo=function(e){return Set.prototype.values.call(e)};Ne({target:"Set",proto:!0,real:!0,forced:V},{every:function(e){var t=M(this),n=uo(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3);return!it(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{filter:function(e){var t=M(this),n=uo(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3),o=new(Dn(t,se("Set"))),i=Ke(o.add);return it(n,(function(e){r(e,e,t)&&i.call(o,e)}),{IS_ITERATOR:!0}),o}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{find:function(e){var t=M(this),n=uo(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3);return it(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ne({target:"Set",stat:!0},{from:Bn}),Ne({target:"Set",proto:!0,real:!0,forced:V},{intersection:function(e){var t=M(this),n=new(Dn(t,se("Set"))),r=Ke(t.has),o=Ke(n.add);return it(e,(function(e){r.call(t,e)&&o.call(n,e)})),n}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{isDisjointFrom:function(e){var t=M(this),n=Ke(t.has);return!it(e,(function(e,r){if(!0===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{isSubsetOf:function(e){var t=Nn(this),n=M(e),r=n.has;return"function"!=typeof r&&(n=new(se("Set"))(e),r=Ke(n.has)),!it(t,(function(e,t){if(!1===r.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{isSupersetOf:function(e){var t=M(this),n=Ke(t.has);return!it(e,(function(e,r){if(!1===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{join:function(e){var t=M(this),n=uo(t),r=void 0===e?",":String(e),o=[];return it(n,o.push,{that:o,IS_ITERATOR:!0}),o.join(r)}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{map:function(e){var t=M(this),n=uo(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3),o=new(Dn(t,se("Set"))),i=Ke(o.add);return it(n,(function(e){i.call(o,r(e,e,t))}),{IS_ITERATOR:!0}),o}}),Ne({target:"Set",stat:!0},{of:Fn}),Ne({target:"Set",proto:!0,real:!0,forced:V},{reduce:function(e){var t=M(this),n=uo(t),r=arguments.length<2,o=r?void 0:arguments[1];if(Ke(e),it(n,(function(n){r?(r=!1,o=n):o=e(o,n,n,t)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return o}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{some:function(e){var t=M(this),n=uo(t),r=Je(e,arguments.length>1?arguments[1]:void 0,3);return it(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{symmetricDifference:function(e){var t=M(this),n=new(Dn(t,se("Set")))(t),r=Ke(n.delete),o=Ke(n.add);return it(e,(function(e){r.call(n,e)||o.call(n,e)})),n}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{union:function(e){var t=M(this),n=new(Dn(t,se("Set")))(t);return it(e,Ke(n.add),{that:n}),n}});var lo=function(e){return function(t,n){var r,o,i=String(m(t)),a=le(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):r:e?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},fo={codeAt:lo(!1),charAt:lo(!0)},ho=fo.charAt;Ne({target:"String",proto:!0},{at:function(e){return ho(this,e)}});var po=fo.codeAt,vo=fo.charAt,go="String Iterator",mo=re.set,yo=re.getterFor(go),bo=Wt((function(e){mo(this,{type:go,string:e,index:0})}),"String",(function(){var e,t=yo(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=vo(n,r),t.index+=e.length,{value:{codePoint:po(e,0),position:r},done:!1})}));Ne({target:"String",proto:!0},{codePoints:function(){return new bo(String(m(this)))}});var _o=We("match"),wo=function(e){var t;return b(e)&&(void 0!==(t=e[_o])?!!t:"RegExp"==p(e))},So=function(){var e=M(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},ko=fo.charAt,To=function(e,t,n){return t+(n?ko(e,t).length:1)},Eo=We("matchAll"),Co="RegExp String",Io="RegExp String Iterator",Ao=re.set,Mo=re.getterFor(Io),Oo=RegExp.prototype,Ro=Oo.exec,xo="".matchAll,Po=!!xo&&!s((function(){"a".matchAll(/./)})),No=Wt((function(e,t,n,r){Ao(this,{type:Io,regexp:e,string:t,global:n,unicode:r,done:!1})}),Co,(function(){var e=Mo(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=function(e,t){var n,r=e.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(e,t)))throw TypeError("Incorrect exec result");return n}return Ro.call(e,t)}(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=To(n,de(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),jo=function(e){var t,n,r,o,i,a,s=M(this),c=String(e);return t=Dn(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in Oo)&&(n=So.call(s)),r=void 0===n?"":String(n),o=new t(t===RegExp?s.source:s,r),i=!!~r.indexOf("g"),a=!!~r.indexOf("u"),o.lastIndex=de(s.lastIndex),new No(o,c,i,a)};Ne({target:"String",proto:!0,forced:Po},{matchAll:function(e){var t,n,r=m(this);if(null!=e){if(wo(e)&&!~String(m("flags"in Oo?e.flags:So.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(Po)return xo.apply(r,arguments);if(null!=(n=e[Eo]))return Ke(n).call(e,r)}else if(Po)return xo.apply(r,arguments);return t=String(r),new RegExp(e,"g")[Eo](t)}}),Eo in Oo||x(Oo,Eo,jo);var Lo=We("replace"),Do=RegExp.prototype;Ne({target:"String",proto:!0},{replaceAll:function e(t,n){var r,o,i,a,s,c,u,l=m(this);if(null!=t){if(wo(t)&&!~String(m("flags"in Do?t.flags:So.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(r=t[Lo]))return r.call(t,l,n)}if(o=String(l),""===(i=String(t)))return e.call(o,/(?:)/g,n);if(a=o.split(i),"function"!=typeof n)return a.join(String(n));for(c=(s=a[0]).length,u=1;u<a.length;u++)s+=String(n(i,c,o)),c+=i.length+a[u].length,s+=a[u];return s}});var Bo={f:We},Fo=R.f,Uo=function(e){var t=ie.Symbol||(ie.Symbol={});S(t,e)||Fo(t,e,{value:Bo.f(e)})};Uo("dispose"),Uo("observable"),Uo("patternMatch"),Ne({target:"WeakMap",proto:!0,real:!0,forced:V},{deleteAll:function(){return Pn.apply(this,arguments)}}),Ne({target:"WeakMap",stat:!0},{from:Bn}),Ne({target:"WeakMap",stat:!0},{of:Fn}),Ne({target:"WeakSet",proto:!0,real:!0,forced:V},{addAll:function(){return co.apply(this,arguments)}}),Ne({target:"WeakSet",proto:!0,real:!0,forced:V},{deleteAll:function(){return Pn.apply(this,arguments)}}),Ne({target:"WeakSet",stat:!0},{from:Bn}),Ne({target:"WeakSet",stat:!0},{of:Fn});var qo=fo.charAt,Wo="String Iterator",Vo=re.set,zo=re.getterFor(Wo);Yt(String,"String",(function(e){Vo(this,{type:Wo,string:String(e),index:0})}),(function(){var e,t=zo(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=qo(n,r),t.index+=e.length,{value:e,done:!1})}));var Go=We("iterator"),Ho=!s((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Go]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Ko=Object.assign,Jo=Object.defineProperty,$o=!Ko||s((function(){if(c&&1!==Ko({b:1},Ko(Jo({},"a",{enumerable:!0,get:function(){Jo(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Ko({},e)[n]||_t(Ko({},t)).join("")!=r}))?function(e,t){for(var n=xt(e),r=arguments.length,o=1,i=ke.f,a=f.f;r>o;)for(var s,u=g(arguments[o++]),l=i?_t(u).concat(i(u)):_t(u),d=l.length,h=0;d>h;)s=l[h++],c&&!a.call(u,s)||(n[s]=u[s]);return n}:Ko,Yo=function(e,t,n,r){try{return r?t(M(n)[0],n[1]):t(n)}catch(t){throw rt(e),t}},Qo=function(e,t,n){var r=_(t);r in e?R.f(e,r,d(0,n)):e[r]=n},Xo=function(e){var t,n,r,o,i,a,s=xt(e),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=nt(s),h=0;if(f&&(l=Je(l,u>2?arguments[2]:void 0,2)),null==d||c==Array&&He(d))for(n=new c(t=de(s.length));t>h;h++)a=f?l(s[h],h):s[h],Qo(n,h,a);else for(i=(o=d.call(s)).next,n=new c;!(r=i.call(o)).done;h++)a=f?Yo(o,l,[r.value,h],!0):r.value,Qo(n,h,a);return n.length=h,n},Zo=2147483647,ei=/[^\0-\u007E]/,ti=/[.\u3002\uFF0E\uFF61]/g,ni="Overflow: input needs wider integers to process",ri=Math.floor,oi=String.fromCharCode,ii=function(e){return e+22+75*(e<26)},ai=function(e,t,n){var r=0;for(e=n?ri(e/700):e>>1,e+=ri(e/t);e>455;r+=36)e=ri(e/35);return ri(r+36*e/(e+38))},si=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,i=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(oi(n));var c=r.length,u=c;for(c&&r.push("-");u<o;){var l=Zo;for(t=0;t<e.length;t++)(n=e[t])>=i&&n<l&&(l=n);var f=u+1;if(l-i>ri((Zo-a)/f))throw RangeError(ni);for(a+=(l-i)*f,i=l,t=0;t<e.length;t++){if((n=e[t])<i&&++a>Zo)throw RangeError(ni);if(n==i){for(var d=a,h=36;;h+=36){var p=h<=s?1:h>=s+26?26:h-s;if(d<p)break;var v=d-p,g=36-p;r.push(oi(ii(p+v%g))),d=ri(v/g)}r.push(oi(ii(d))),s=ai(a,f,u==c),a=0,++u}}++a,++i}return r.join("")},ci="Array Iterator",ui=re.set,li=re.getterFor(ci),fi=Yt(Array,"Array",(function(e,t){ui(this,{type:ci,target:y(e),index:0,kind:t})}),(function(){var e=li(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Ve.Arguments=Ve.Array,un("keys"),un("values"),un("entries");var di=se("fetch"),hi=se("Headers"),pi=We("iterator"),vi="URLSearchParams",gi="URLSearchParamsIterator",mi=re.set,yi=re.getterFor(vi),bi=re.getterFor(gi),_i=/\+/g,wi=Array(4),Si=function(e){return wi[e-1]||(wi[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},ki=function(e){try{return decodeURIComponent(e)}catch(t){return e}},Ti=function(e){var t=e.replace(_i," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(Si(n--),ki);return t}},Ei=/[!'()~]|%20/g,Ci={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ii=function(e){return Ci[e]},Ai=function(e){return encodeURIComponent(e).replace(Ei,Ii)},Mi=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:Ti(r.shift()),value:Ti(r.join("="))}))},Oi=function(e){this.entries.length=0,Mi(this.entries,e)},Ri=function(e,t){if(e<t)throw TypeError("Not enough arguments")},xi=Wt((function(e,t){mi(this,{type:gi,iterator:Nn(yi(e).entries),kind:t})}),"Iterator",(function(){var e=bi(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),Pi=function(){at(this,Pi,vi);var e,t,n,r,o,i,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(mi(l,{type:vi,entries:f,updateURL:function(){},updateSearchParams:Oi}),void 0!==u)if(b(u))if("function"==typeof(e=nt(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((a=(i=(o=Nn(M(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(c in u)S(u,c)&&f.push({key:c,value:u[c]+""});else Mi(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},Ni=Pi.prototype;Rt(Ni,{append:function(e,t){Ri(arguments.length,2);var n=yi(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Ri(arguments.length,1);for(var t=yi(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){Ri(arguments.length,1);for(var t=yi(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Ri(arguments.length,1);for(var t=yi(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){Ri(arguments.length,1);for(var t=yi(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Ri(arguments.length,1);for(var n,r=yi(this),o=r.entries,i=!1,a=e+"",s=t+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=yi(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=yi(this).entries,r=Je(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new xi(this,"keys")},values:function(){return new xi(this,"values")},entries:function(){return new xi(this,"entries")}},{enumerable:!0}),oe(Ni,pi,Ni.entries),oe(Ni,"toString",(function(){for(var e,t=yi(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(Ai(e.key)+"="+Ai(e.value));return n.join("&")}),{enumerable:!0}),vt(Pi,vi),Ne({global:!0,forced:!Ho},{URLSearchParams:Pi}),Ho||"function"!=typeof di||"function"!=typeof hi||Ne({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(b(t=arguments[1])&&(n=t.body,Ze(n)===vi&&((r=t.headers?new hi(t.headers):new hi).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=Ot(t,{body:d(0,String(n)),headers:d(0,r)}))),o.push(t)),di.apply(this,o)}});var ji,Li={URLSearchParams:Pi,getState:yi},Di=fo.codeAt,Bi=a.URL,Fi=Li.URLSearchParams,Ui=Li.getState,qi=re.set,Wi=re.getterFor("URL"),Vi=Math.floor,zi=Math.pow,Gi="Invalid scheme",Hi="Invalid host",Ki="Invalid port",Ji=/[A-Za-z]/,$i=/[\d+-.A-Za-z]/,Yi=/\d/,Qi=/^(0x|0X)/,Xi=/^[0-7]+$/,Zi=/^\d+$/,ea=/^[\dA-Fa-f]+$/,ta=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,na=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ra=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,oa=/[\u0009\u000A\u000D]/g,ia=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return Hi;if(!(n=sa(t.slice(1,-1))))return Hi;e.host=n}else if(va(e)){if(t=function(e){var t,n,r=[],o=e.toLowerCase().replace(ti,".").split(".");for(t=0;t<o.length;t++)n=o[t],r.push(ei.test(n)?"xn--"+si(n):n);return r.join(".")}(t),ta.test(t))return Hi;if(null===(n=aa(t)))return Hi;e.host=n}else{if(na.test(t))return Hi;for(n="",r=Xo(t),o=0;o<r.length;o++)n+=ha(r[o],ua);e.host=n}},aa=function(e){var t,n,r,o,i,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=Qi.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?Zi:8==i?Xi:ea).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=zi(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*zi(256,3-r);return s},sa=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&ea.test(d());)t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,u>6)return;for(r=0;d();){if(o=null,r>0){if(!("."==d()&&r<4))return;f++}if(!Yi.test(d()))return;for(;Yi.test(d());){if(i=parseInt(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},ca=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Vi(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},ua={},la=$o({},ua,{" ":1,'"':1,"<":1,">":1,"`":1}),fa=$o({},la,{"#":1,"?":1,"{":1,"}":1}),da=$o({},fa,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ha=function(e,t){var n=Di(e,0);return n>32&&n<127&&!S(t,e)?e:encodeURIComponent(e)},pa={ftp:21,file:null,http:80,https:443,ws:80,wss:443},va=function(e){return S(pa,e.scheme)},ga=function(e){return""!=e.username||""!=e.password},ma=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ya=function(e,t){var n;return 2==e.length&&Ji.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ba=function(e){var t;return e.length>1&&ya(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},_a=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&ya(t[0],!0)||t.pop()},wa=function(e){return"."===e||"%2e"===e.toLowerCase()},Sa={},ka={},Ta={},Ea={},Ca={},Ia={},Aa={},Ma={},Oa={},Ra={},xa={},Pa={},Na={},ja={},La={},Da={},Ba={},Fa={},Ua={},qa={},Wa={},Va=function(e,t,n,r){var o,i,a,s,c,u=n||Sa,l=0,f="",d=!1,h=!1,p=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(ra,"")),t=t.replace(oa,""),o=Xo(t);l<=o.length;){switch(i=o[l],u){case Sa:if(!i||!Ji.test(i)){if(n)return Gi;u=Ta;continue}f+=i.toLowerCase(),u=ka;break;case ka:if(i&&($i.test(i)||"+"==i||"-"==i||"."==i))f+=i.toLowerCase();else{if(":"!=i){if(n)return Gi;f="",u=Ta,l=0;continue}if(n&&(va(e)!=S(pa,f)||"file"==f&&(ga(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(va(e)&&pa[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=ja:va(e)&&r&&r.scheme==e.scheme?u=Ea:va(e)?u=Ma:"/"==o[l+1]?(u=Ca,l++):(e.cannotBeABaseURL=!0,e.path.push(""),u=Ua)}break;case Ta:if(!r||r.cannotBeABaseURL&&"#"!=i)return Gi;if(r.cannotBeABaseURL&&"#"==i){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Wa;break}u="file"==r.scheme?ja:Ia;continue;case Ea:if("/"!=i||"/"!=o[l+1]){u=Ia;continue}u=Oa,l++;break;case Ca:if("/"==i){u=Ra;break}u=Fa;continue;case Ia:if(e.scheme=r.scheme,i==ji)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==i||"\\"==i&&va(e))u=Aa;else if("?"==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=qa;else{if("#"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=Fa;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Wa}break;case Aa:if(!va(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=Fa;continue}u=Ra}else u=Oa;break;case Ma:if(u=Oa,"/"!=i||"/"!=f.charAt(l+1))continue;l++;break;case Oa:if("/"!=i&&"\\"!=i){u=Ra;continue}break;case Ra:if("@"==i){d&&(f="%40"+f),d=!0,a=Xo(f);for(var v=0;v<a.length;v++){var g=a[v];if(":"!=g||p){var m=ha(g,da);p?e.password+=m:e.username+=m}else p=!0}f=""}else if(i==ji||"/"==i||"?"==i||"#"==i||"\\"==i&&va(e)){if(d&&""==f)return"Invalid authority";l-=Xo(f).length+1,f="",u=xa}else f+=i;break;case xa:case Pa:if(n&&"file"==e.scheme){u=Da;continue}if(":"!=i||h){if(i==ji||"/"==i||"?"==i||"#"==i||"\\"==i&&va(e)){if(va(e)&&""==f)return Hi;if(n&&""==f&&(ga(e)||null!==e.port))return;if(s=ia(e,f))return s;if(f="",u=Ba,n)return;continue}"["==i?h=!0:"]"==i&&(h=!1),f+=i}else{if(""==f)return Hi;if(s=ia(e,f))return s;if(f="",u=Na,n==Pa)return}break;case Na:if(!Yi.test(i)){if(i==ji||"/"==i||"?"==i||"#"==i||"\\"==i&&va(e)||n){if(""!=f){var y=parseInt(f,10);if(y>65535)return Ki;e.port=va(e)&&y===pa[e.scheme]?null:y,f=""}if(n)return;u=Ba;continue}return Ki}f+=i;break;case ja:if(e.scheme="file","/"==i||"\\"==i)u=La;else{if(!r||"file"!=r.scheme){u=Fa;continue}if(i==ji)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==i)e.host=r.host,e.path=r.path.slice(),e.query="",u=qa;else{if("#"!=i){ba(o.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),_a(e)),u=Fa;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Wa}}break;case La:if("/"==i||"\\"==i){u=Da;break}r&&"file"==r.scheme&&!ba(o.slice(l).join(""))&&(ya(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=Fa;continue;case Da:if(i==ji||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&ya(f))u=Fa;else if(""==f){if(e.host="",n)return;u=Ba}else{if(s=ia(e,f))return s;if("localhost"==e.host&&(e.host=""),n)return;f="",u=Ba}continue}f+=i;break;case Ba:if(va(e)){if(u=Fa,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=ji&&(u=Fa,"/"!=i))continue}else e.fragment="",u=Wa;else e.query="",u=qa;break;case Fa:if(i==ji||"/"==i||"\\"==i&&va(e)||!n&&("?"==i||"#"==i)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(_a(e),"/"==i||"\\"==i&&va(e)||e.path.push("")):wa(f)?"/"==i||"\\"==i&&va(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ya(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(i==ji||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",u=qa):"#"==i&&(e.fragment="",u=Wa)}else f+=ha(i,fa);break;case Ua:"?"==i?(e.query="",u=qa):"#"==i?(e.fragment="",u=Wa):i!=ji&&(e.path[0]+=ha(i,ua));break;case qa:n||"#"!=i?i!=ji&&("'"==i&&va(e)?e.query+="%27":e.query+="#"==i?"%23":ha(i,ua)):(e.fragment="",u=Wa);break;case Wa:i!=ji&&(e.fragment+=ha(i,la))}l++}},za=function(e){var t,n,r=at(this,za,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),a=qi(r,{type:"URL"});if(void 0!==o)if(o instanceof za)t=Wi(o);else if(n=Va(t={},String(o)))throw TypeError(n);if(n=Va(a,i,null,t))throw TypeError(n);var s=a.searchParams=new Fi,u=Ui(s);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(s)||null},c||(r.href=Ha.call(r),r.origin=Ka.call(r),r.protocol=Ja.call(r),r.username=$a.call(r),r.password=Ya.call(r),r.host=Qa.call(r),r.hostname=Xa.call(r),r.port=Za.call(r),r.pathname=es.call(r),r.search=ts.call(r),r.searchParams=ns.call(r),r.hash=rs.call(r))},Ga=za.prototype,Ha=function(){var e=Wi(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",ga(e)&&(u+=n+(r?":"+r:"")+"@"),u+=ca(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Ka=function(){var e=Wi(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&va(e)?t+"://"+ca(e.host)+(null!==n?":"+n:""):"null"},Ja=function(){return Wi(this).scheme+":"},$a=function(){return Wi(this).username},Ya=function(){return Wi(this).password},Qa=function(){var e=Wi(this),t=e.host,n=e.port;return null===t?"":null===n?ca(t):ca(t)+":"+n},Xa=function(){var e=Wi(this).host;return null===e?"":ca(e)},Za=function(){var e=Wi(this).port;return null===e?"":String(e)},es=function(){var e=Wi(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ts=function(){var e=Wi(this).query;return e?"?"+e:""},ns=function(){return Wi(this).searchParams},rs=function(){var e=Wi(this).fragment;return e?"#"+e:""},os=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(c&&wt(Ga,{href:os(Ha,(function(e){var t=Wi(this),n=String(e),r=Va(t,n);if(r)throw TypeError(r);Ui(t.searchParams).updateSearchParams(t.query)})),origin:os(Ka),protocol:os(Ja,(function(e){var t=Wi(this);Va(t,String(e)+":",Sa)})),username:os($a,(function(e){var t=Wi(this),n=Xo(String(e));if(!ma(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=ha(n[r],da)}})),password:os(Ya,(function(e){var t=Wi(this),n=Xo(String(e));if(!ma(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=ha(n[r],da)}})),host:os(Qa,(function(e){var t=Wi(this);t.cannotBeABaseURL||Va(t,String(e),xa)})),hostname:os(Xa,(function(e){var t=Wi(this);t.cannotBeABaseURL||Va(t,String(e),Pa)})),port:os(Za,(function(e){var t=Wi(this);ma(t)||(""==(e=String(e))?t.port=null:Va(t,e,Na))})),pathname:os(es,(function(e){var t=Wi(this);t.cannotBeABaseURL||(t.path=[],Va(t,e+"",Ba))})),search:os(ts,(function(e){var t=Wi(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Va(t,e,qa)),Ui(t.searchParams).updateSearchParams(t.query)})),searchParams:os(ns),hash:os(rs,(function(e){var t=Wi(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Va(t,e,Wa)):t.fragment=null}))}),oe(Ga,"toJSON",(function(){return Ha.call(this)}),{enumerable:!0}),oe(Ga,"toString",(function(){return Ha.call(this)}),{enumerable:!0}),Bi){var is=Bi.createObjectURL,as=Bi.revokeObjectURL;is&&oe(za,"createObjectURL",(function(e){return is.apply(Bi,arguments)})),as&&oe(za,"revokeObjectURL",(function(e){return as.apply(Bi,arguments)}))}vt(za,"URL"),Ne({global:!0,forced:!Ho,sham:!c},{URL:za}),Ne({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}}),TMAConfig&&"ios"===TMAConfig.platform&&TMAConfig.sysVersion&&TMAConfig.sysVersion.startsWith("10.0")&&(Promise={});var ss,cs=o((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0})),us=o((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return cs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cs(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0})),ls=r(o((function(e){e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=us(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}))),fs=["info","warn","error","debug","log"],ds=["error","warn"],hs=["group","groupEnd"],ps=new(function(){function e(){var e=this;this.prefix="[TMA]",this.type="",this.deprecated=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.warn.apply(e,["废弃:"].concat(n))},this.removeAt=function(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=console).warn.apply(n,[e.prefix+"[WARN][DEV]","废弃(>= "+t.sdkVersion+" 后移除):"].concat(o))};for(var t,n=ls(fs);!(t=n()).done;){var r=t.value;this[r]=this.createLogMethod(r)}for(var o,i=ls(hs);!(o=i()).done;){var a=o.value;this[a]=this.createControlMethod(a)}}var t=e.prototype;return t.setPrefix=function(e){this.prefix=e},t.createLogMethod=function(e){var t=this;if(!ds.includes(e))return function(){};var n=e.toUpperCase();return function(){for(var r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];(r=console)[e].apply(r,[t.prefix+"["+n+"][RUNTIME]"].concat(i))}},t.createControlMethod=function(e){return function(){}},e}()),vs=r(o((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0})));!function(e){e[e.NONE=0]="NONE",e[e.INITED=1]="INITED",e[e.DESTROYED=2]="DESTROYED"}(ss||(ss={}));var gs,ms=function(){function e(){this._lifeState=ss.NONE,this._setupHandlers=[],this._teardownHandlers=[]}var t=e.prototype;return t.setup=function(){var e=this;this._setupHandlers.forEach((function(t){var n=t();"function"==typeof n&&e._teardownHandlers.push(n)}))},t.teardown=function(){this._teardownHandlers.forEach((function(e){return e()}))},t.addSetupHandler=function(e){this._setupHandlers.push(e)},t.addTeardownHandler=function(e){this._teardownHandlers.push(e)},t._runSetup=function(){this._lifeState===ss.NONE&&(this._lifeState=ss.INITED,this.setup())},t._runTeardown=function(){this._lifeState===ss.INITED&&(this._lifeState=ss.DESTROYED,this.teardown())},vs(e,[{key:"isReady",get:function(){return this._lifeState===ss.INITED}},{key:"isDestroyed",get:function(){return this._lifeState===ss.DESTROYED}}]),e}();function ys(e){e._runSetup()}function bs(e){e._runTeardown()}var _s=[];function ws(){return gs}function Ss(e){_s.push(e)}var ks=1,Ts={},Es=new Function("return this")(),Cs=function(e,t,n){return function(r){return Ts[r]=t,"number"!=typeof n&&(n=0),ws().ttJSCore.setTimer(e,r,n),r}(ks++)},Is=function(e,t){"function"==typeof Ts[t]&&(Ts[t]=void 0,ws().ttJSCore.clearTimer(e,t))};Es.nativeInvokeTimer=function(e,t){"function"==typeof Ts[t]&&Ts[t].call(Es),"Timeout"===e&&(Ts[t]=void 0)},"undefined"==typeof setTimeout&&(Es.setTimeout=Cs.bind(Es,"Timeout"),Es.clearTimeout=Is.bind(Es,"Timeout"),Es.setInterval=Cs.bind(Es,"Interval"),Es.clearInterval=Is.bind(Es,"Interval"));var As=Se.f,Ms={}.toString,Os="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Rs={f:function(e){return Os&&"[object Window]"==Ms.call(e)?function(e){try{return As(e)}catch(e){return Os.slice()}}(e):As(y(e))}},xs=mn.forEach,Ps=$("hidden"),Ns="Symbol",js=We("toPrimitive"),Ls=re.set,Ds=re.getterFor(Ns),Bs=Object.prototype,Fs=a.Symbol,Us=se("JSON","stringify"),qs=A.f,Ws=R.f,Vs=Rs.f,zs=f.f,Gs=z("symbols"),Hs=z("op-symbols"),Ks=z("string-to-symbol-registry"),Js=z("symbol-to-string-registry"),$s=z("wks"),Ys=a.QObject,Qs=!Ys||!Ys.prototype||!Ys.prototype.findChild,Xs=c&&s((function(){return 7!=Ot(Ws({},"a",{get:function(){return Ws(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=qs(Bs,t);r&&delete Bs[t],Ws(e,t,n),r&&e!==Bs&&Ws(Bs,t,r)}:Ws,Zs=function(e,t){var n=Gs[e]=Ot(Fs.prototype);return Ls(n,{type:Ns,tag:e,description:t}),c||(n.description=t),n},ec=Be?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Fs},tc=function(e,t,n){e===Bs&&tc(Hs,t,n),M(e);var r=_(t,!0);return M(n),S(Gs,r)?(n.enumerable?(S(e,Ps)&&e[Ps][r]&&(e[Ps][r]=!1),n=Ot(n,{enumerable:d(0,!1)})):(S(e,Ps)||Ws(e,Ps,d(1,{})),e[Ps][r]=!0),Xs(e,r,n)):Ws(e,r,n)},nc=function(e,t){M(e);var n=y(t),r=_t(n).concat(ac(n));return xs(r,(function(t){c&&!rc.call(n,t)||tc(e,t,n[t])})),e},rc=function(e){var t=_(e,!0),n=zs.call(this,t);return!(this===Bs&&S(Gs,t)&&!S(Hs,t))&&(!(n||!S(this,t)||!S(Gs,t)||S(this,Ps)&&this[Ps][t])||n)},oc=function(e,t){var n=y(e),r=_(t,!0);if(n!==Bs||!S(Gs,r)||S(Hs,r)){var o=qs(n,r);return!o||!S(Gs,r)||S(n,Ps)&&n[Ps][r]||(o.enumerable=!0),o}},ic=function(e){var t=Vs(y(e)),n=[];return xs(t,(function(e){S(Gs,e)||S(Y,e)||n.push(e)})),n},ac=function(e){var t=e===Bs,n=Vs(t?Hs:y(e)),r=[];return xs(n,(function(e){!S(Gs,e)||t&&!S(Bs,e)||r.push(Gs[e])})),r};if(De||(oe((Fs=function(){if(this instanceof Fs)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=K(e),n=function(e){this===Bs&&n.call(Hs,e),S(this,Ps)&&S(this[Ps],t)&&(this[Ps][t]=!1),Xs(this,t,d(1,e))};return c&&Qs&&Xs(Bs,t,{configurable:!0,set:n}),Zs(t,e)}).prototype,"toString",(function(){return Ds(this).tag})),oe(Fs,"withoutSetter",(function(e){return Zs(K(e),e)})),f.f=rc,R.f=tc,A.f=oc,Se.f=Rs.f=ic,ke.f=ac,Bo.f=function(e){return Zs(We(e),e)},c&&(Ws(Fs.prototype,"description",{configurable:!0,get:function(){return Ds(this).description}}),oe(Bs,"propertyIsEnumerable",rc,{unsafe:!0}))),Ne({global:!0,wrap:!0,forced:!De,sham:!De},{Symbol:Fs}),xs(_t($s),(function(e){Uo(e)})),Ne({target:Ns,stat:!0,forced:!De},{for:function(e){var t=String(e);if(S(Ks,t))return Ks[t];var n=Fs(t);return Ks[t]=n,Js[n]=t,n},keyFor:function(e){if(!ec(e))throw TypeError(e+" is not a symbol");if(S(Js,e))return Js[e]},useSetter:function(){Qs=!0},useSimple:function(){Qs=!1}}),Ne({target:"Object",stat:!0,forced:!De,sham:!c},{create:function(e,t){return void 0===t?Ot(e):nc(Ot(e),t)},defineProperty:tc,defineProperties:nc,getOwnPropertyDescriptor:oc}),Ne({target:"Object",stat:!0,forced:!De},{getOwnPropertyNames:ic,getOwnPropertySymbols:ac}),Ne({target:"Object",stat:!0,forced:s((function(){ke.f(1)}))},{getOwnPropertySymbols:function(e){return ke.f(xt(e))}}),Us){var sc=!De||s((function(){var e=Fs();return"[null]"!=Us([e])||"{}"!=Us({a:e})||"{}"!=Us(Object(e))}));Ne({target:"JSON",stat:!0,forced:sc},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(b(t)||void 0!==e)&&!ec(e))return dn(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ec(t))return t}),o[1]=t,Us.apply(null,o)}})}Fs.prototype[js]||x(Fs.prototype,js,Fs.prototype.valueOf),vt(Fs,Ns),Y[Ps]=!0;var cc=R.f,uc=a.Symbol;if(c&&"function"==typeof uc&&(!("description"in uc.prototype)||void 0!==uc().description)){var lc={},fc=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof fc?new uc(e):void 0===e?uc():uc(e);return""===e&&(lc[t]=!0),t};Ee(fc,uc);var dc=fc.prototype=uc.prototype;dc.constructor=fc;var hc=dc.toString,pc="Symbol(test)"==String(uc("test")),vc=/^Symbol\((.*)\)[^)]+$/;cc(dc,"description",{configurable:!0,get:function(){var e=b(this)?this.valueOf():this,t=hc.call(e);if(S(lc,e))return"";var n=pc?t.slice(7,-1):t.replace(vc,"$1");return""===n?void 0:n}}),Ne({global:!0,forced:!0},{Symbol:fc})}Uo("asyncIterator"),Uo("hasInstance"),Uo("isConcatSpreadable"),Uo("iterator"),Uo("match"),Uo("replace"),Uo("search"),Uo("species"),Uo("split"),Uo("toPrimitive"),Uo("toStringTag"),Uo("unscopables");var gc,mc,yc=se("navigator","userAgent")||"",bc=a.process,_c=bc&&bc.versions,wc=_c&&_c.v8;wc?mc=(gc=wc.split("."))[0]+gc[1]:yc&&(!(gc=yc.match(/Edge\/(\d+)/))||gc[1]>=74)&&(gc=yc.match(/Chrome\/(\d+)/))&&(mc=gc[1]);var Sc=mc&&+mc,kc=We("species"),Tc=function(e){return Sc>=51||!s((function(){var t=[];return(t.constructor={})[kc]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Ec=We("isConcatSpreadable"),Cc=9007199254740991,Ic="Maximum allowed index exceeded",Ac=Sc>=51||!s((function(){var e=[];return e[Ec]=!1,e.concat()[0]!==e})),Mc=Tc("concat"),Oc=function(e){if(!b(e))return!1;var t=e[Ec];return void 0!==t?!!t:dn(e)};Ne({target:"Array",proto:!0,forced:!Ac||!Mc},{concat:function(e){var t,n,r,o,i,a=xt(this),s=pn(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(Oc(i=-1===t?a:arguments[t])){if(c+(o=de(i.length))>Cc)throw TypeError(Ic);for(n=0;n<o;n++,c++)n in i&&Qo(s,c,i[n])}else{if(c>=Cc)throw TypeError(Ic);Qo(s,c++,i)}return s.length=c,s}});var Rc=Math.min,xc=[].copyWithin||function(e,t){var n=xt(this),r=de(n.length),o=ve(e,r),i=ve(t,r),a=arguments.length>2?arguments[2]:void 0,s=Rc((void 0===a?r:ve(a,r))-i,r-o),c=1;for(i<o&&o<i+s&&(c=-1,i+=s-1,o+=s-1);s-- >0;)i in n?n[o]=n[i]:delete n[o],o+=c,i+=c;return n};Ne({target:"Array",proto:!0},{copyWithin:xc}),un("copyWithin");var Pc=function(e){for(var t=xt(this),n=de(t.length),r=arguments.length,o=ve(r>1?arguments[1]:void 0,n),i=r>2?arguments[2]:void 0,a=void 0===i?n:ve(i,n);a>o;)t[o++]=e;return t};Ne({target:"Array",proto:!0},{fill:Pc}),un("fill");var Nc=Object.defineProperty,jc={},Lc=function(e){throw e},Dc=function(e,t){if(S(jc,e))return jc[e];t||(t={});var n=[][e],r=!!S(t,"ACCESSORS")&&t.ACCESSORS,o=S(t,0)?t[0]:Lc,i=S(t,1)?t[1]:void 0;return jc[e]=!!n&&!s((function(){if(r&&!c)return!0;var e={length:-1};r?Nc(e,1,{enumerable:!0,get:Lc}):e[1]=1,n.call(e,o,i)}))},Bc=mn.filter,Fc=Tc("filter"),Uc=Dc("filter");Ne({target:"Array",proto:!0,forced:!Fc||!Uc},{filter:function(e){return Bc(this,e,arguments.length>1?arguments[1]:void 0)}});var qc=mn.find,Wc="find",Vc=!0,zc=Dc(Wc);Wc in[]&&Array(1).find((function(){Vc=!1})),Ne({target:"Array",proto:!0,forced:Vc||!zc},{find:function(e){return qc(this,e,arguments.length>1?arguments[1]:void 0)}}),un(Wc);var Gc=mn.findIndex,Hc="findIndex",Kc=!0,Jc=Dc(Hc);Hc in[]&&Array(1).findIndex((function(){Kc=!1})),Ne({target:"Array",proto:!0,forced:Kc||!Jc},{findIndex:function(e){return Gc(this,e,arguments.length>1?arguments[1]:void 0)}}),un(Hc);var $c=function(e,t,n,r,o,i,a,s){for(var c,u=o,l=0,f=!!a&&Je(a,s,3);l<r;){if(l in n){if(c=f?f(n[l],l,t):n[l],i>0&&dn(c))u=$c(e,t,c,de(c.length),u,i-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=c}u++}l++}return u},Yc=$c;Ne({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=xt(this),n=de(t.length),r=pn(t,0);return r.length=Yc(r,t,t,n,0,void 0===e?1:le(e)),r}}),Ne({target:"Array",proto:!0},{flatMap:function(e){var t,n=xt(this),r=de(n.length);return Ke(e),(t=pn(n,0)).length=Yc(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Qc=!dt((function(e){Array.from(e)}));Ne({target:"Array",stat:!0,forced:Qc},{from:Xo});var Xc=me.includes,Zc=Dc("indexOf",{ACCESSORS:!0,1:0});Ne({target:"Array",proto:!0,forced:!Zc},{includes:function(e){return Xc(this,e,arguments.length>1?arguments[1]:void 0)}}),un("includes");var eu=function(e,t){var n=[][e];return!!n&&s((function(){n.call(null,t||function(){throw 1},1)}))},tu=me.indexOf,nu=[].indexOf,ru=!!nu&&1/[1].indexOf(1,-0)<0,ou=eu("indexOf"),iu=Dc("indexOf",{ACCESSORS:!0,1:0});Ne({target:"Array",proto:!0,forced:ru||!ou||!iu},{indexOf:function(e){return ru?nu.apply(this,arguments)||0:tu(this,e,arguments.length>1?arguments[1]:void 0)}});var au=Math.min,su=[].lastIndexOf,cu=!!su&&1/[1].lastIndexOf(1,-0)<0,uu=eu("lastIndexOf"),lu=Dc("indexOf",{ACCESSORS:!0,1:0}),fu=cu||!uu||!lu?function(e){if(cu)return su.apply(this,arguments)||0;var t=y(this),n=de(t.length),r=n-1;for(arguments.length>1&&(r=au(r,le(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:su;Ne({target:"Array",proto:!0,forced:fu!==[].lastIndexOf},{lastIndexOf:fu});var du=mn.map,hu=Tc("map"),pu=Dc("map");Ne({target:"Array",proto:!0,forced:!hu||!pu},{map:function(e){return du(this,e,arguments.length>1?arguments[1]:void 0)}});var vu=s((function(){function e(){}return!(Array.of.call(e)instanceof e)}));Ne({target:"Array",stat:!0,forced:vu},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)Qo(n,e,arguments[e++]);return n.length=t,n}});var gu=function(e){return function(t,n,r,o){Ke(n);var i=xt(t),a=g(i),s=de(i.length),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){o=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(o=n(o,a[c],c,i));return o}},mu={left:gu(!1),right:gu(!0)},yu="process"==p(a.process),bu=mu.left,_u=eu("reduce"),wu=Dc("reduce",{1:0});Ne({target:"Array",proto:!0,forced:!_u||!wu||!yu&&Sc>79&&Sc<83},{reduce:function(e){return bu(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Su=mu.right,ku=eu("reduceRight"),Tu=Dc("reduce",{1:0});Ne({target:"Array",proto:!0,forced:!ku||!Tu||!yu&&Sc>79&&Sc<83},{reduceRight:function(e){return Su(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Eu=[].reverse,Cu=[1,2];Ne({target:"Array",proto:!0,forced:String(Cu)===String(Cu.reverse())},{reverse:function(){return dn(this)&&(this.length=this.length),Eu.call(this)}});var Iu=Tc("slice"),Au=Dc("slice",{ACCESSORS:!0,0:0,1:2}),Mu=We("species"),Ou=[].slice,Ru=Math.max;Ne({target:"Array",proto:!0,forced:!Iu||!Au},{slice:function(e,t){var n,r,o,i=y(this),a=de(i.length),s=ve(e,a),c=ve(void 0===t?a:t,a);if(dn(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!dn(n.prototype)?b(n)&&null===(n=n[Mu])&&(n=void 0):n=void 0,n===Array||void 0===n))return Ou.call(i,s,c);for(r=new(void 0===n?Array:n)(Ru(c-s,0)),o=0;s<c;s++,o++)s in i&&Qo(r,o,i[s]);return r.length=o,r}});var xu=[],Pu=xu.sort,Nu=s((function(){xu.sort(void 0)})),ju=s((function(){xu.sort(null)})),Lu=eu("sort");Ne({target:"Array",proto:!0,forced:Nu||!ju||!Lu},{sort:function(e){return void 0===e?Pu.call(xt(this)):Pu.call(xt(this),Ke(e))}}),Xt("Array");var Du=Tc("splice"),Bu=Dc("splice",{ACCESSORS:!0,0:0,1:2}),Fu=Math.max,Uu=Math.min,qu=9007199254740991,Wu="Maximum allowed length exceeded";Ne({target:"Array",proto:!0,forced:!Du||!Bu},{splice:function(e,t){var n,r,o,i,a,s,c=xt(this),u=de(c.length),l=ve(e,u),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=u-l):(n=f-2,r=Uu(Fu(le(t),0),u-l)),u+n-r>qu)throw TypeError(Wu);for(o=pn(c,r),i=0;i<r;i++)(a=l+i)in c&&Qo(o,i,c[a]);if(o.length=r,n<r){for(i=l;i<u-r;i++)s=i+n,(a=i+r)in c?c[s]=c[a]:delete c[s];for(i=u;i>u-r+n;i--)delete c[i-1]}else if(n>r)for(i=u-r;i>l;i--)s=i+n-1,(a=i+r-1)in c?c[s]=c[a]:delete c[s];for(i=0;i<n;i++)c[i+l]=arguments[i+2];return c.length=u-r+n,o}}),un("flat"),un("flatMap");var Vu="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,zu=function(e){if(void 0===e)return 0;var t=le(e),n=de(t);if(t!==n)throw RangeError("Wrong length or index");return n},Gu=1/0,Hu=Math.abs,Ku=Math.pow,Ju=Math.floor,$u=Math.log,Yu=Math.LN2,Qu=function(e,t,n){var r,o,i,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?Ku(2,-24)-Ku(2,-77):0,f=e<0||0===e&&1/e<0?1:0,d=0;for((e=Hu(e))!=e||e===Gu?(o=e!=e?1:0,r=c):(r=Ju($u(e)/Yu),e*(i=Ku(2,-r))<1&&(r--,i*=2),(e+=r+u>=1?l/i:l*Ku(2,1-u))*i>=2&&(r++,i/=2),r+u>=c?(o=0,r=c):r+u>=1?(o=(e*i-1)*Ku(2,t),r+=u):(o=e*Ku(2,u-1)*Ku(2,t),r=0));t>=8;a[d++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a},Xu=function(e,t){var n,r=e.length,o=8*r-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;n=256*n+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===i)return n?NaN:u?-1/0:Gu;n+=Ku(2,t),l-=a}return(u?-1:1)*n*Ku(2,l-t)},Zu=Se.f,el=R.f,tl=re.get,nl=re.set,rl="ArrayBuffer",ol="DataView",il="Wrong index",al=a.ArrayBuffer,sl=al,cl=a.DataView,ul=cl&&cl.prototype,ll=Object.prototype,fl=a.RangeError,dl=Qu,hl=Xu,pl=function(e){return[255&e]},vl=function(e){return[255&e,e>>8&255]},gl=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},ml=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},yl=function(e){return dl(e,23,4)},bl=function(e){return dl(e,52,8)},_l=function(e,t){el(e.prototype,t,{get:function(){return tl(this)[t]}})},wl=function(e,t,n,r){var o=zu(n),i=tl(e);if(o+t>i.byteLength)throw fl(il);var a=tl(i.buffer).bytes,s=o+i.byteOffset,c=a.slice(s,s+t);return r?c:c.reverse()},Sl=function(e,t,n,r,o,i){var a=zu(n),s=tl(e);if(a+t>s.byteLength)throw fl(il);for(var c=tl(s.buffer).bytes,u=a+s.byteOffset,l=r(+o),f=0;f<t;f++)c[u+f]=l[i?f:t-f-1]};if(Vu){if(!s((function(){al(1)}))||!s((function(){new al(-1)}))||s((function(){return new al,new al(1.5),new al(NaN),al.name!=rl}))){for(var kl,Tl=(sl=function(e){return at(this,sl),new al(zu(e))}).prototype=al.prototype,El=Zu(al),Cl=0;El.length>Cl;)(kl=El[Cl++])in sl||x(sl,kl,al[kl]);Tl.constructor=sl}mt&&Lt(ul)!==ll&&mt(ul,ll);var Il=new cl(new sl(2)),Al=ul.setInt8;Il.setInt8(0,2147483648),Il.setInt8(1,2147483649),!Il.getInt8(0)&&Il.getInt8(1)||Rt(ul,{setInt8:function(e,t){Al.call(this,e,t<<24>>24)},setUint8:function(e,t){Al.call(this,e,t<<24>>24)}},{unsafe:!0})}else sl=function(e){at(this,sl,rl);var t=zu(e);nl(this,{bytes:Pc.call(new Array(t),0),byteLength:t}),c||(this.byteLength=t)},cl=function(e,t,n){at(this,cl,ol),at(e,sl,ol);var r=tl(e).byteLength,o=le(t);if(o<0||o>r)throw fl("Wrong offset");if(o+(n=void 0===n?r-o:de(n))>r)throw fl("Wrong length");nl(this,{buffer:e,byteLength:n,byteOffset:o}),c||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},c&&(_l(sl,"byteLength"),_l(cl,"buffer"),_l(cl,"byteLength"),_l(cl,"byteOffset")),Rt(cl.prototype,{getInt8:function(e){return wl(this,1,e)[0]<<24>>24},getUint8:function(e){return wl(this,1,e)[0]},getInt16:function(e){var t=wl(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=wl(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return ml(wl(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return ml(wl(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return hl(wl(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return hl(wl(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Sl(this,1,e,pl,t)},setUint8:function(e,t){Sl(this,1,e,pl,t)},setInt16:function(e,t){Sl(this,2,e,vl,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Sl(this,2,e,vl,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Sl(this,4,e,gl,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Sl(this,4,e,gl,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Sl(this,4,e,yl,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Sl(this,8,e,bl,t,arguments.length>2?arguments[2]:void 0)}});vt(sl,rl),vt(cl,ol);var Ml={ArrayBuffer:sl,DataView:cl},Ol="ArrayBuffer",Rl=Ml.ArrayBuffer,xl=a.ArrayBuffer;Ne({global:!0,forced:xl!==Rl},{ArrayBuffer:Rl}),Xt(Ol);var Pl,Nl=R.f,jl=a.Int8Array,Ll=jl&&jl.prototype,Dl=a.Uint8ClampedArray,Bl=Dl&&Dl.prototype,Fl=jl&&Lt(jl),Ul=Ll&&Lt(Ll),ql=Object.prototype,Wl=ql.isPrototypeOf,Vl=We("toStringTag"),zl=K("TYPED_ARRAY_TAG"),Gl=Vu&&!!mt&&"Opera"!==Ze(a.opera),Hl=!1,Kl={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Jl=function(e){return b(e)&&S(Kl,Ze(e))};for(Pl in Kl)a[Pl]||(Gl=!1);if((!Gl||"function"!=typeof Fl||Fl===Function.prototype)&&(Fl=function(){throw TypeError("Incorrect invocation")},Gl))for(Pl in Kl)a[Pl]&&mt(a[Pl],Fl);if((!Gl||!Ul||Ul===ql)&&(Ul=Fl.prototype,Gl))for(Pl in Kl)a[Pl]&&mt(a[Pl].prototype,Ul);if(Gl&&Lt(Bl)!==Ul&&mt(Bl,Ul),c&&!S(Ul,Vl))for(Pl in Hl=!0,Nl(Ul,Vl,{get:function(){return b(this)?this[zl]:void 0}}),Kl)a[Pl]&&x(a[Pl],zl,Pl);var $l={NATIVE_ARRAY_BUFFER_VIEWS:Gl,TYPED_ARRAY_TAG:Hl&&zl,aTypedArray:function(e){if(Jl(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(mt){if(Wl.call(Fl,e))return e}else for(var t in Kl)if(S(Kl,Pl)){var n=a[t];if(n&&(e===n||Wl.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(c){if(n)for(var r in Kl){var o=a[r];o&&S(o.prototype,e)&&delete o.prototype[e]}Ul[e]&&!n||oe(Ul,e,n?t:Gl&&Ll[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(c){if(mt){if(n)for(r in Kl)(o=a[r])&&S(o,e)&&delete o[e];if(Fl[e]&&!n)return;try{return oe(Fl,e,n?t:Gl&&jl[e]||t)}catch(e){}}for(r in Kl)!(o=a[r])||o[e]&&!n||oe(o,e,t)}},isView:function(e){var t=Ze(e);return"DataView"===t||S(Kl,t)},isTypedArray:Jl,TypedArray:Fl,TypedArrayPrototype:Ul};Ne({target:"ArrayBuffer",stat:!0,forced:!$l.NATIVE_ARRAY_BUFFER_VIEWS},{isView:$l.isView});var Yl=Ml.ArrayBuffer,Ql=Ml.DataView,Xl=Yl.prototype.slice,Zl=s((function(){return!new Yl(2).slice(1,void 0).byteLength}));Ne({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Zl},{slice:function(e,t){if(void 0!==Xl&&void 0===t)return Xl.call(M(this),e);for(var n=M(this).byteLength,r=ve(e,n),o=ve(void 0===t?n:t,n),i=new(Dn(this,Yl))(de(o-r)),a=new Ql(this),s=new Ql(i),c=0;r<o;)s.setUint8(c++,a.getUint8(r++));return i}});var ef=s((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));Ne({target:"Date",proto:!0,forced:ef},{toJSON:function(e){var t=xt(this),n=_(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}});var tf=We("toPrimitive"),nf=Date.prototype;tf in nf||x(nf,tf,(function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return _(M(this),"number"!==e)}));var rf=We("hasInstance"),of=Function.prototype;rf in of||R.f(of,rf,{value:function(e){if("function"!=typeof this||!b(e))return!1;if(!b(this.prototype))return e instanceof this;for(;e=Lt(e);)if(this.prototype===e)return!0;return!1}}),vt(a.JSON,"JSON",!0);var af=Math.log,sf=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:af(1+e)},cf=Math.acosh,uf=Math.log,lf=Math.sqrt,ff=Math.LN2,df=!cf||710!=Math.floor(cf(Number.MAX_VALUE))||cf(1/0)!=1/0;Ne({target:"Math",stat:!0,forced:df},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?uf(e)+ff:sf(e-1+lf(e-1)*lf(e+1))}});var hf=Math.asinh,pf=Math.log,vf=Math.sqrt;Ne({target:"Math",stat:!0,forced:!(hf&&1/hf(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):pf(t+vf(t*t+1)):t}});var gf=Math.atanh,mf=Math.log;Ne({target:"Math",stat:!0,forced:!(gf&&1/gf(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:mf((1+e)/(1-e))/2}});var yf=Math.abs,bf=Math.pow;Ne({target:"Math",stat:!0},{cbrt:function(e){return zn(e=+e)*bf(yf(e),1/3)}});var _f=Math.floor,wf=Math.log,Sf=Math.LOG2E;Ne({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-_f(wf(e+.5)*Sf):32}});var kf=Math.expm1,Tf=Math.exp,Ef=!kf||kf(10)>22025.465794806718||kf(10)<22025.465794806718||-2e-17!=kf(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Tf(e)-1}:kf,Cf=Math.cosh,If=Math.abs,Af=Math.E;Ne({target:"Math",stat:!0,forced:!Cf||Cf(710)===1/0},{cosh:function(e){var t=Ef(If(e)-1)+1;return(t+1/(t*Af*Af))*(Af/2)}}),Ne({target:"Math",stat:!0,forced:Ef!=Math.expm1},{expm1:Ef}),Ne({target:"Math",stat:!0},{fround:Qn});var Mf=Math.hypot,Of=Math.abs,Rf=Math.sqrt,xf=!!Mf&&Mf(1/0,NaN)!==1/0;Ne({target:"Math",stat:!0,forced:xf},{hypot:function(e,t){for(var n,r,o=0,i=0,a=arguments.length,s=0;i<a;)s<(n=Of(arguments[i++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Rf(o)}});var Pf=Math.log,Nf=Math.LOG10E;Ne({target:"Math",stat:!0},{log10:function(e){return Pf(e)*Nf}}),Ne({target:"Math",stat:!0},{log1p:sf});var jf=Math.log,Lf=Math.LN2;Ne({target:"Math",stat:!0},{log2:function(e){return jf(e)/Lf}}),Ne({target:"Math",stat:!0},{sign:zn});var Df=Math.abs,Bf=Math.exp,Ff=Math.E,Uf=s((function(){return-2e-17!=Math.sinh(-2e-17)}));Ne({target:"Math",stat:!0,forced:Uf},{sinh:function(e){return Df(e=+e)<1?(Ef(e)-Ef(-e))/2:(Bf(e-1)-Bf(-e-1))*(Ff/2)}});var qf=Math.exp;Ne({target:"Math",stat:!0},{tanh:function(e){var t=Ef(e=+e),n=Ef(-e);return t==1/0?1:n==1/0?-1:(t-n)/(qf(e)+qf(-e))}}),vt(Math,"Math",!0);var Wf=Math.ceil,Vf=Math.floor;Ne({target:"Math",stat:!0},{trunc:function(e){return(e>0?Vf:Wf)(e)}});var zf=Se.f,Gf=A.f,Hf=R.f,Kf=fr.trim,Jf="Number",$f=a.Number,Yf=$f.prototype,Qf=p(Ot(Yf))==Jf,Xf=function(e){var t,n,r,o,i,a,s,c,u=_(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=Kf(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=u.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+u};if(xe(Jf,!$f(" 0o1")||!$f("0b1")||$f("+0x1"))){for(var Zf,ed=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof ed&&(Qf?s((function(){Yf.valueOf.call(n)})):p(n)!=Jf)?yt(new $f(Xf(t)),n,ed):Xf(t)},td=c?zf($f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),nd=0;td.length>nd;nd++)S($f,Zf=td[nd])&&!S(ed,Zf)&&Hf(ed,Zf,Gf($f,Zf));ed.prototype=Yf,Yf.constructor=ed,oe(a,Jf,ed)}Ne({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var rd=Math.floor,od=function(e){return!b(e)&&isFinite(e)&&rd(e)===e};Ne({target:"Number",stat:!0},{isInteger:od});var id=Math.abs;Ne({target:"Number",stat:!0},{isSafeInteger:function(e){return od(e)&&id(e)<=9007199254740991}}),Ne({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Ne({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var ad=fr.trim,sd=a.parseFloat,cd=1/sd(ar+"-0")!=-1/0?function(e){var t=ad(String(e)),n=sd(t);return 0===n&&"-"==t.charAt(0)?-0:n}:sd;Ne({target:"Number",stat:!0,forced:Number.parseFloat!=cd},{parseFloat:cd}),Ne({target:"Number",stat:!0,forced:Number.parseInt!=vr},{parseInt:vr}),Ne({target:"Object",stat:!0,forced:Object.assign!==$o},{assign:$o});var ud=!s((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete a[e]}));c&&Ne({target:"Object",proto:!0,forced:ud},{__defineGetter__:function(e,t){R.f(xt(this),e,{get:Ke(t),enumerable:!0,configurable:!0})}}),c&&Ne({target:"Object",proto:!0,forced:ud},{__defineSetter__:function(e,t){R.f(xt(this),e,{set:Ke(t),enumerable:!0,configurable:!0})}});var ld=f.f,fd=function(e){return function(t){for(var n,r=y(t),o=_t(r),i=o.length,a=0,s=[];i>a;)n=o[a++],c&&!ld.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}},dd={entries:fd(!0),values:fd(!1)},hd=dd.entries;Ne({target:"Object",stat:!0},{entries:function(e){return hd(e)}});var pd=Le.onFreeze,vd=Object.freeze,gd=s((function(){vd(1)}));Ne({target:"Object",stat:!0,forced:gd,sham:!je},{freeze:function(e){return vd&&b(e)?vd(pd(e)):e}}),Ne({target:"Object",stat:!0},{fromEntries:function(e){var t={};return it(e,(function(e,n){Qo(t,e,n)}),{AS_ENTRIES:!0}),t}});var md=A.f,yd=s((function(){md(1)}));Ne({target:"Object",stat:!0,forced:!c||yd,sham:!c},{getOwnPropertyDescriptor:function(e,t){return md(y(e),t)}}),Ne({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){for(var t,n,r=y(e),o=A.f,i=Te(r),a={},s=0;i.length>s;)void 0!==(n=o(r,t=i[s++]))&&Qo(a,t,n);return a}});var bd=Rs.f,_d=s((function(){return!Object.getOwnPropertyNames(1)}));Ne({target:"Object",stat:!0,forced:_d},{getOwnPropertyNames:bd});var wd=s((function(){Lt(1)}));Ne({target:"Object",stat:!0,forced:wd,sham:!Pt},{getPrototypeOf:function(e){return Lt(xt(e))}});var Sd=Object.isExtensible,kd=s((function(){Sd(1)}));Ne({target:"Object",stat:!0,forced:kd},{isExtensible:function(e){return!!b(e)&&(!Sd||Sd(e))}});var Td=Object.isFrozen,Ed=s((function(){Td(1)}));Ne({target:"Object",stat:!0,forced:Ed},{isFrozen:function(e){return!b(e)||!!Td&&Td(e)}});var Cd=Object.isSealed,Id=s((function(){Cd(1)}));Ne({target:"Object",stat:!0,forced:Id},{isSealed:function(e){return!b(e)||!!Cd&&Cd(e)}});var Ad=s((function(){_t(1)}));Ne({target:"Object",stat:!0,forced:Ad},{keys:function(e){return _t(xt(e))}});var Md=A.f;c&&Ne({target:"Object",proto:!0,forced:ud},{__lookupGetter__:function(e){var t,n=xt(this),r=_(e,!0);do{if(t=Md(n,r))return t.get}while(n=Lt(n))}});var Od=A.f;c&&Ne({target:"Object",proto:!0,forced:ud},{__lookupSetter__:function(e){var t,n=xt(this),r=_(e,!0);do{if(t=Od(n,r))return t.set}while(n=Lt(n))}});var Rd=Le.onFreeze,xd=Object.preventExtensions,Pd=s((function(){xd(1)}));Ne({target:"Object",stat:!0,forced:Pd,sham:!je},{preventExtensions:function(e){return xd&&b(e)?xd(Rd(e)):e}});var Nd=Le.onFreeze,jd=Object.seal,Ld=s((function(){jd(1)}));Ne({target:"Object",stat:!0,forced:Ld,sham:!je},{seal:function(e){return jd&&b(e)?jd(Nd(e)):e}}),Ne({target:"Object",stat:!0},{setPrototypeOf:mt});var Dd=Ye?{}.toString:function(){return"[object "+Ze(this)+"]"};Ye||oe(Object.prototype,"toString",Dd,{unsafe:!0});var Bd=dd.values;Ne({target:"Object",stat:!0},{values:function(e){return Bd(e)}}),Ne({global:!0,forced:parseFloat!=cd},{parseFloat:cd}),Ne({global:!0,forced:parseInt!=vr},{parseInt:vr});var Fd,Ud,qd,Wd=a.Promise,Vd=/(iphone|ipod|ipad).*applewebkit/i.test(yc),zd=a.location,Gd=a.setImmediate,Hd=a.clearImmediate,Kd=a.process,Jd=a.MessageChannel,$d=a.Dispatch,Yd=0,Qd={},Xd="onreadystatechange",Zd=function(e){if(Qd.hasOwnProperty(e)){var t=Qd[e];delete Qd[e],t()}},eh=function(e){return function(){Zd(e)}},th=function(e){Zd(e.data)},nh=function(e){a.postMessage(e+"",zd.protocol+"//"+zd.host)};Gd&&Hd||(Gd=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Qd[++Yd]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Fd(Yd),Yd},Hd=function(e){delete Qd[e]},yu?Fd=function(e){Kd.nextTick(eh(e))}:$d&&$d.now?Fd=function(e){$d.now(eh(e))}:Jd&&!Vd?(qd=(Ud=new Jd).port2,Ud.port1.onmessage=th,Fd=Je(qd.postMessage,qd,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&zd&&"file:"!==zd.protocol&&!s(nh)?(Fd=nh,a.addEventListener("message",th,!1)):Fd=Xd in E("script")?function(e){St.appendChild(E("script")).onreadystatechange=function(){St.removeChild(this),Zd(e)}}:function(e){setTimeout(eh(e),0)});var rh,oh,ih,ah,sh,ch,uh,lh,fh={set:Gd,clear:Hd},dh=A.f,hh=fh.set,ph=a.MutationObserver||a.WebKitMutationObserver,vh=a.document,gh=a.process,mh=a.Promise,yh=dh(a,"queueMicrotask"),bh=yh&&yh.value;bh||(rh=function(){var e,t;for(yu&&(e=gh.domain)&&e.exit();oh;){t=oh.fn,oh=oh.next;try{t()}catch(e){throw oh?ah():ih=void 0,e}}ih=void 0,e&&e.enter()},!Vd&&!yu&&ph&&vh?(sh=!0,ch=vh.createTextNode(""),new ph(rh).observe(ch,{characterData:!0}),ah=function(){ch.data=sh=!sh}):mh&&mh.resolve?(uh=mh.resolve(void 0),lh=uh.then,ah=function(){lh.call(uh,rh)}):ah=yu?function(){gh.nextTick(rh)}:function(){hh.call(a,rh)});var _h,wh,Sh,kh,Th=bh||function(e){var t={fn:e,next:void 0};ih&&(ih.next=t),oh||(oh=t,ah()),ih=t},Eh=function(e,t){if(M(e),b(t)&&t.constructor===e)return t;var n=Rr.f(e);return(0,n.resolve)(t),n.promise},Ch=fh.set,Ih=We("species"),Ah="Promise",Mh=re.get,Oh=re.set,Rh=re.getterFor(Ah),xh=Wd,Ph=a.TypeError,Nh=a.document,jh=a.process,Lh=se("fetch"),Dh=Rr.f,Bh=Dh,Fh=!!(Nh&&Nh.createEvent&&a.dispatchEvent),Uh="function"==typeof PromiseRejectionEvent,qh="unhandledrejection",Wh=xe(Ah,(function(){if(!(U(xh)!==String(xh))){if(66===Sc)return!0;if(!yu&&!Uh)return!0}if(Sc>=51&&/native code/.test(xh))return!1;var e=xh.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Ih]=t,!(e.then((function(){}))instanceof t)})),Vh=Wh||!dt((function(e){xh.all(e).catch((function(){}))})),zh=function(e){var t;return!(!b(e)||"function"!=typeof(t=e.then))&&t},Gh=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;Th((function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,s,c,u=n[i++],l=o?u.ok:u.fail,f=u.resolve,d=u.reject,h=u.domain;try{l?(o||(2===e.rejection&&$h(e),e.rejection=1),!0===l?a=r:(h&&h.enter(),a=l(r),h&&(h.exit(),c=!0)),a===u.promise?d(Ph("Promise-chain cycle")):(s=zh(a))?s.call(a,f,d):f(a)):d(r)}catch(e){h&&!c&&h.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Kh(e)}))}},Hh=function(e,t,n){var r,o;Fh?((r=Nh.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),a.dispatchEvent(r)):r={promise:t,reason:n},!Uh&&(o=a["on"+e])?o(r):e===qh&&yr("Unhandled promise rejection",n)},Kh=function(e){Ch.call(a,(function(){var t,n=e.facade,r=e.value;if(Jh(e)&&(t=xr((function(){yu?jh.emit("unhandledRejection",r,n):Hh(qh,n,r)})),e.rejection=yu||Jh(e)?2:1,t.error))throw t.value}))},Jh=function(e){return 1!==e.rejection&&!e.parent},$h=function(e){Ch.call(a,(function(){var t=e.facade;yu?jh.emit("rejectionHandled",t):Hh("rejectionhandled",t,e.value)}))},Yh=function(e,t,n){return function(r){e(t,r,n)}},Qh=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Gh(e,!0))},Xh=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Ph("Promise can't be resolved itself");var r=zh(t);r?Th((function(){var n={done:!1};try{r.call(t,Yh(Xh,n,e),Yh(Qh,n,e))}catch(t){Qh(n,t,e)}})):(e.value=t,e.state=1,Gh(e,!1))}catch(t){Qh({done:!1},t,e)}}};Wh&&(xh=function(e){at(this,xh,Ah),Ke(e),_h.call(this);var t=Mh(this);try{e(Yh(Xh,t),Yh(Qh,t))}catch(e){Qh(t,e)}},(_h=function(e){Oh(this,{type:Ah,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Rt(xh.prototype,{then:function(e,t){var n=Rh(this),r=Dh(Dn(this,xh));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=yu?jh.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Gh(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),wh=function(){var e=new _h,t=Mh(e);this.promise=e,this.resolve=Yh(Xh,t),this.reject=Yh(Qh,t)},Rr.f=Dh=function(e){return e===xh||e===Sh?new wh(e):Bh(e)},"function"==typeof Wd&&(kh=Wd.prototype.then,oe(Wd.prototype,"then",(function(e,t){var n=this;return new xh((function(e,t){kh.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Lh&&Ne({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return Eh(xh,Lh.apply(a,arguments))}}))),Ne({global:!0,wrap:!0,forced:Wh},{Promise:xh}),vt(xh,Ah,!1),Xt(Ah),Sh=se(Ah),Ne({target:Ah,stat:!0,forced:Wh},{reject:function(e){var t=Dh(this);return t.reject.call(void 0,e),t.promise}}),Ne({target:Ah,stat:!0,forced:Wh},{resolve:function(e){return Eh(this,e)}}),Ne({target:Ah,stat:!0,forced:Vh},{all:function(e){var t=this,n=Dh(t),r=n.resolve,o=n.reject,i=xr((function(){var n=Ke(t.resolve),i=[],a=0,s=1;it(e,(function(e){var c=a++,u=!1;i.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=Dh(t),r=n.reject,o=xr((function(){var o=Ke(t.resolve);it(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var Zh=!!Wd&&s((function(){Wd.prototype.finally.call({then:function(){}},(function(){}))}));Ne({target:"Promise",proto:!0,real:!0,forced:Zh},{finally:function(e){var t=Dn(this,se("Promise")),n="function"==typeof e;return this.then(n?function(n){return Eh(t,e()).then((function(){return n}))}:e,n?function(n){return Eh(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof Wd||Wd.prototype.finally||oe(Wd.prototype,"finally",se("Promise").prototype.finally);var ep=se("Reflect","apply"),tp=Function.apply,np=!s((function(){ep((function(){}))}));Ne({target:"Reflect",stat:!0,forced:np},{apply:function(e,t,n){return Ke(e),M(n),ep?ep(e,t,n):tp.call(e,t,n)}});var rp=[].slice,op={},ip=function(e,t,n){if(!(t in op)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";op[t]=Function("C,a","return new C("+r.join(",")+")")}return op[t](e,n)},ap=Function.bind||function(e){var t=Ke(this),n=rp.call(arguments,1),r=function(){var o=n.concat(rp.call(arguments));return this instanceof r?ip(t,o.length,o):t.apply(e,o)};return b(t.prototype)&&(r.prototype=t.prototype),r},sp=se("Reflect","construct"),cp=s((function(){function e(){}return!(sp((function(){}),[],e)instanceof e)})),up=!s((function(){sp((function(){}))})),lp=cp||up;Ne({target:"Reflect",stat:!0,forced:lp,sham:lp},{construct:function(e,t){Ke(e),M(t);var n=arguments.length<3?e:Ke(arguments[2]);if(up&&!cp)return sp(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(ap.apply(e,r))}var o=n.prototype,i=Ot(b(o)?o:Object.prototype),a=Function.apply.call(e,i,t);return b(a)?a:i}});var fp=s((function(){Reflect.defineProperty(R.f({},1,{value:1}),1,{value:2})}));Ne({target:"Reflect",stat:!0,forced:fp,sham:!c},{defineProperty:function(e,t,n){M(e);var r=_(t,!0);M(n);try{return R.f(e,r,n),!0}catch(e){return!1}}});var dp=A.f;Ne({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=dp(M(e),t);return!(n&&!n.configurable)&&delete e[t]}}),Ne({target:"Reflect",stat:!0},{get:function e(t,n){var r,o,i=arguments.length<3?t:arguments[2];return M(t)===i?t[n]:(r=A.f(t,n))?S(r,"value")?r.value:void 0===r.get?void 0:r.get.call(i):b(o=Lt(t))?e(o,n,i):void 0}}),Ne({target:"Reflect",stat:!0,sham:!c},{getOwnPropertyDescriptor:function(e,t){return A.f(M(e),t)}}),Ne({target:"Reflect",stat:!0,sham:!Pt},{getPrototypeOf:function(e){return Lt(M(e))}}),Ne({target:"Reflect",stat:!0},{has:function(e,t){return t in e}});var hp=Object.isExtensible;Ne({target:"Reflect",stat:!0},{isExtensible:function(e){return M(e),!hp||hp(e)}}),Ne({target:"Reflect",stat:!0},{ownKeys:Te}),Ne({target:"Reflect",stat:!0,sham:!je},{preventExtensions:function(e){M(e);try{var t=se("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}});var pp=s((function(){var e=function(){},t=R.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}));function vp(e,t){return RegExp(e,t)}Ne({target:"Reflect",stat:!0,forced:pp},{set:function e(t,n,r){var o,i,a=arguments.length<4?t:arguments[3],s=A.f(M(t),n);if(!s){if(b(i=Lt(t)))return e(i,n,r,a);s=d(0)}if(S(s,"value")){if(!1===s.writable||!b(a))return!1;if(o=A.f(a,n)){if(o.get||o.set||!1===o.writable)return!1;o.value=r,R.f(a,n,o)}else R.f(a,n,d(0,r));return!0}return void 0!==s.set&&(s.set.call(a,r),!0)}}),mt&&Ne({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){M(e),gt(t);try{return mt(e,t),!0}catch(e){return!1}}});var gp={UNSUPPORTED_Y:s((function(){var e=vp("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:s((function(){var e=vp("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},mp=R.f,yp=Se.f,bp=re.set,_p=We("match"),wp=a.RegExp,Sp=wp.prototype,kp=/a/g,Tp=/a/g,Ep=new wp(kp)!==kp,Cp=gp.UNSUPPORTED_Y;if(c&&xe("RegExp",!Ep||Cp||s((function(){return Tp[_p]=!1,wp(kp)!=kp||wp(Tp)==Tp||"/a/i"!=wp(kp,"i")})))){for(var Ip=function(e,t){var n,r=this instanceof Ip,o=wo(e),i=void 0===t;if(!r&&o&&e.constructor===Ip&&i)return e;Ep?o&&!i&&(e=e.source):e instanceof Ip&&(i&&(t=So.call(e)),e=e.source),Cp&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=yt(Ep?new wp(e,t):wp(e,t),r?this:Sp,Ip);return Cp&&n&&bp(a,{sticky:n}),a},Ap=function(e){e in Ip||mp(Ip,e,{configurable:!0,get:function(){return wp[e]},set:function(t){wp[e]=t}})},Mp=yp(wp),Op=0;Mp.length>Op;)Ap(Mp[Op++]);Sp.constructor=Ip,Ip.prototype=Sp,oe(a,"RegExp",Ip)}Xt("RegExp");var Rp=RegExp.prototype.exec,xp=String.prototype.replace,Pp=Rp,Np=function(){var e=/a/,t=/b*/g;return Rp.call(e,"a"),Rp.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),jp=gp.UNSUPPORTED_Y||gp.BROKEN_CARET,Lp=void 0!==/()??/.exec("")[1];(Np||Lp||jp)&&(Pp=function(e){var t,n,r,o,i=this,a=jp&&i.sticky,s=So.call(i),c=i.source,u=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),Lp&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Np&&(t=i.lastIndex),r=Rp.call(a?n:i,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:Np&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),Lp&&r&&r.length>1&&xp.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var Dp=Pp;Ne({target:"RegExp",proto:!0,forced:/./.exec!==Dp},{exec:Dp}),c&&("g"!=/./g.flags||gp.UNSUPPORTED_Y)&&R.f(RegExp.prototype,"flags",{configurable:!0,get:So});var Bp="toString",Fp=RegExp.prototype,Up=Fp.toString,qp=s((function(){return"/a/b"!=Up.call({source:"a",flags:"b"})})),Wp=Up.name!=Bp;(qp||Wp)&&oe(RegExp.prototype,Bp,(function(){var e=M(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Fp)?So.call(e):n)}),{unsafe:!0});var Vp=fo.codeAt;Ne({target:"String",proto:!0},{codePointAt:function(e){return Vp(this,e)}});var zp,Gp=function(e){if(wo(e))throw TypeError("The method doesn't accept regular expressions");return e},Hp=We("match"),Kp=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Hp]=!1,"/./"[e](t)}catch(e){}}return!1},Jp=A.f,$p="".endsWith,Yp=Math.min,Qp=Kp("endsWith"),Xp=!(Qp||(zp=Jp(String.prototype,"endsWith"),!zp||zp.writable));Ne({target:"String",proto:!0,forced:!Xp&&!Qp},{endsWith:function(e){var t=String(m(this));Gp(e);var n=arguments.length>1?arguments[1]:void 0,r=de(t.length),o=void 0===n?r:Yp(de(n),r),i=String(e);return $p?$p.call(t,i,o):t.slice(o-i.length,o)===i}});var Zp=String.fromCharCode,ev=String.fromCodePoint,tv=!!ev&&1!=ev.length;Ne({target:"String",stat:!0,forced:tv},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],ve(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?Zp(t):Zp(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}}),Ne({target:"String",proto:!0,forced:!Kp("includes")},{includes:function(e){return!!~String(m(this)).indexOf(Gp(e),arguments.length>1?arguments[1]:void 0)}});var nv=We("species"),rv=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),ov="$0"==="a".replace(/./,"$0"),iv=We("replace"),av=!!/./[iv]&&""===/./[iv]("a","$0"),sv=!s((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),cv=function(e,t,n,r){var o=We(e),i=!s((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[nv]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||"replace"===e&&(!rv||!ov||av)||"split"===e&&!sv){var c=/./[o],u=n(o,""[e],(function(e,t,n,r,o){return t.exec===Dp?i&&!o?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:ov,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:av}),l=u[0],f=u[1];oe(String.prototype,e,l),oe(RegExp.prototype,o,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}r&&x(RegExp.prototype[o],"sham",!0)},uv=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==p(e))throw TypeError("RegExp#exec called on incompatible receiver");return Dp.call(e,t)};cv("match",1,(function(e,t,n){return[function(t){var n=m(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=M(e),i=String(this);if(!o.global)return uv(o,i);var a=o.unicode;o.lastIndex=0;for(var s,c=[],u=0;null!==(s=uv(o,i));){var l=String(s[0]);c[u]=l,""===l&&(o.lastIndex=To(i,de(o.lastIndex),a)),u++}return 0===u?null:c}]}));var lv="".repeat||function(e){var t=String(m(this)),n="",r=le(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},fv=Math.ceil,dv=function(e){return function(t,n,r){var o,i,a=String(m(t)),s=a.length,c=void 0===r?" ":String(r),u=de(n);return u<=s||""==c?a:(o=u-s,(i=lv.call(c,fv(o/c.length))).length>o&&(i=i.slice(0,o)),e?a+i:i+a)}},hv={start:dv(!1),end:dv(!0)},pv=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(yc),vv=hv.end;Ne({target:"String",proto:!0,forced:pv},{padEnd:function(e){return vv(this,e,arguments.length>1?arguments[1]:void 0)}});var gv=hv.start;Ne({target:"String",proto:!0,forced:pv},{padStart:function(e){return gv(this,e,arguments.length>1?arguments[1]:void 0)}}),Ne({target:"String",stat:!0},{raw:function(e){for(var t=y(e.raw),n=de(t.length),r=arguments.length,o=[],i=0;n>i;)o.push(String(t[i++])),i<r&&o.push(String(arguments[i]));return o.join("")}}),Ne({target:"String",proto:!0},{repeat:lv});var mv=Math.max,yv=Math.min,bv=Math.floor,_v=/\$([$&'`]|\d\d?|<[^>]*>)/g,wv=/\$([$&'`]|\d\d?)/g;cv("replace",2,(function(e,t,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(n,r){var o=m(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(a)){var c=n(t,e,this,r);if(c.done)return c.value}var u=M(e),l=String(this),f="function"==typeof r;f||(r=String(r));var d=u.global;if(d){var h=u.unicode;u.lastIndex=0}for(var p=[];;){var v=uv(u,l);if(null===v)break;if(p.push(v),!d)break;""===String(v[0])&&(u.lastIndex=To(l,de(u.lastIndex),h))}for(var g,m="",y=0,b=0;b<p.length;b++){v=p[b];for(var _=String(v[0]),w=mv(yv(le(v.index),l.length),0),S=[],k=1;k<v.length;k++)S.push(void 0===(g=v[k])?g:String(g));var T=v.groups;if(f){var E=[_].concat(S,w,l);void 0!==T&&E.push(T);var C=String(r.apply(void 0,E))}else C=s(_,l,w,S,T,r);w>=y&&(m+=l.slice(y,w)+C,y=w+_.length)}return m+l.slice(y)}];function s(e,n,r,o,i,a){var s=r+e.length,c=o.length,u=wv;return void 0!==i&&(i=xt(i),u=_v),t.call(a,u,(function(t,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=i[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var f=bv(l/10);return 0===f?t:f<=c?void 0===o[f-1]?a.charAt(1):o[f-1]+a.charAt(1):t}u=o[l-1]}return void 0===u?"":u}))}}));var Sv=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};cv("search",1,(function(e,t,n){return[function(t){var n=m(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=M(e),i=String(this),a=o.lastIndex;Sv(a,0)||(o.lastIndex=0);var s=uv(o,i);return Sv(o.lastIndex,a)||(o.lastIndex=a),null===s?-1:s.index}]}));var kv=[].push,Tv=Math.min,Ev=4294967295,Cv=!s((function(){return!RegExp(Ev,"y")}));cv("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(m(this)),o=void 0===n?Ev:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!wo(e))return t.call(r,e,o);for(var i,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,u+"g");(i=Dp.call(f,r))&&!((a=f.lastIndex)>l&&(c.push(r.slice(l,i.index)),i.length>1&&i.index<r.length&&kv.apply(c,i.slice(1)),s=i[0].length,l=a,c.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return l===r.length?!s&&f.test("")||c.push(""):c.push(r.slice(l)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=m(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var a=M(e),s=String(this),c=Dn(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Cv?"y":"g"),f=new c(Cv?a:"^(?:"+a.source+")",l),d=void 0===o?Ev:o>>>0;if(0===d)return[];if(0===s.length)return null===uv(f,s)?[s]:[];for(var h=0,p=0,v=[];p<s.length;){f.lastIndex=Cv?p:0;var g,m=uv(f,Cv?s:s.slice(p));if(null===m||(g=Tv(de(f.lastIndex+(Cv?0:p)),s.length))===h)p=To(s,p,u);else{if(v.push(s.slice(h,p)),v.length===d)return v;for(var y=1;y<=m.length-1;y++)if(v.push(m[y]),v.length===d)return v;p=h=g}}return v.push(s.slice(h)),v}]}),!Cv);var Iv=A.f,Av="".startsWith,Mv=Math.min,Ov=Kp("startsWith"),Rv=!Ov&&!!function(){var e=Iv(String.prototype,"startsWith");return e&&!e.writable}();Ne({target:"String",proto:!0,forced:!Rv&&!Ov},{startsWith:function(e){var t=String(m(this));Gp(e);var n=de(Mv(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Av?Av.call(t,r,n):t.slice(n,n+r.length)===r}});var xv=function(e){return s((function(){return!!ar[e]()||"​᠎"!="​᠎"[e]()||ar[e].name!==e}))},Pv=fr.trim;Ne({target:"String",proto:!0,forced:xv("trim")},{trim:function(){return Pv(this)}});var Nv=fr.end,jv=xv("trimEnd"),Lv=jv?function(){return Nv(this)}:"".trimEnd;Ne({target:"String",proto:!0,forced:jv},{trimEnd:Lv,trimRight:Lv});var Dv=fr.start,Bv=xv("trimStart"),Fv=Bv?function(){return Dv(this)}:"".trimStart;Ne({target:"String",proto:!0,forced:Bv},{trimStart:Fv,trimLeft:Fv});var Uv=$l.NATIVE_ARRAY_BUFFER_VIEWS,qv=a.ArrayBuffer,Wv=a.Int8Array,Vv=!Uv||!s((function(){Wv(1)}))||!s((function(){new Wv(-1)}))||!dt((function(e){new Wv,new Wv(null),new Wv(1.5),new Wv(e)}),!0)||s((function(){return 1!==new Wv(new qv(2),1,void 0).length})),zv=function(e,t){var n=function(e){var t=le(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}(e);if(n%t)throw RangeError("Wrong offset");return n},Gv=$l.aTypedArrayConstructor,Hv=function(e){var t,n,r,o,i,a,s=xt(e),c=arguments.length,u=c>1?arguments[1]:void 0,l=void 0!==u,f=nt(s);if(null!=f&&!He(f))for(a=(i=f.call(s)).next,s=[];!(o=a.call(i)).done;)s.push(o.value);for(l&&c>2&&(u=Je(u,arguments[2],2)),n=de(s.length),r=new(Gv(this))(n),t=0;n>t;t++)r[t]=l?u(s[t],t):s[t];return r},Kv=o((function(e){var t=Se.f,n=mn.forEach,r=re.get,o=re.set,i=R.f,s=A.f,u=Math.round,l=a.RangeError,f=Ml.ArrayBuffer,h=Ml.DataView,p=$l.NATIVE_ARRAY_BUFFER_VIEWS,v=$l.TYPED_ARRAY_TAG,g=$l.TypedArray,m=$l.TypedArrayPrototype,y=$l.aTypedArrayConstructor,w=$l.isTypedArray,k="BYTES_PER_ELEMENT",T="Wrong length",E=function(e,t){for(var n=0,r=t.length,o=new(y(e))(r);r>n;)o[n]=t[n++];return o},C=function(e,t){i(e,t,{get:function(){return r(this)[t]}})},I=function(e){var t;return e instanceof f||"ArrayBuffer"==(t=Ze(e))||"SharedArrayBuffer"==t},M=function(e,t){return w(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},O=function(e,t){return M(e,t=_(t,!0))?d(2,e[t]):s(e,t)},P=function(e,t,n){return!(M(e,t=_(t,!0))&&b(n)&&S(n,"value"))||S(n,"get")||S(n,"set")||n.configurable||S(n,"writable")&&!n.writable||S(n,"enumerable")&&!n.enumerable?i(e,t,n):(e[t]=n.value,e)};c?(p||(A.f=O,R.f=P,C(m,"buffer"),C(m,"byteOffset"),C(m,"byteLength"),C(m,"length")),Ne({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:O,defineProperty:P}),e.exports=function(e,s,c){var d=e.match(/\d+$/)[0]/8,y=e+(c?"Clamped":"")+"Array",_="get"+e,S="set"+e,C=a[y],A=C,M=A&&A.prototype,O={},R=function(e,t){i(e,t,{get:function(){return function(e,t){var n=r(e);return n.view[_](t*d+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=r(e);c&&(n=(n=u(n))<0?0:n>255?255:255&n),o.view[S](t*d+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};p?Vv&&(A=s((function(e,t,n,r){return at(e,A,y),yt(b(t)?I(t)?void 0!==r?new C(t,zv(n,d),r):void 0!==n?new C(t,zv(n,d)):new C(t):w(t)?E(A,t):Hv.call(A,t):new C(zu(t)),e,A)})),mt&&mt(A,g),n(t(C),(function(e){e in A||x(A,e,C[e])})),A.prototype=M):(A=s((function(e,t,n,r){at(e,A,y);var i,a,s,c=0,u=0;if(b(t)){if(!I(t))return w(t)?E(A,t):Hv.call(A,t);i=t,u=zv(n,d);var p=t.byteLength;if(void 0===r){if(p%d)throw l(T);if((a=p-u)<0)throw l(T)}else if((a=de(r)*d)+u>p)throw l(T);s=a/d}else s=zu(t),i=new f(a=s*d);for(o(e,{buffer:i,byteOffset:u,byteLength:a,length:s,view:new h(i)});c<s;)R(e,c++)})),mt&&mt(A,g),M=A.prototype=Ot(m)),M.constructor!==A&&x(M,"constructor",A),v&&x(M,v,y),O[y]=A,Ne({global:!0,forced:A!=C,sham:!p},O),k in A||x(A,k,d),k in M||x(M,k,d),Xt(y)}):e.exports=function(){}}));Kv("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Kv("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Kv("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Kv("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Kv("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Kv("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Kv("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0),Kv("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Kv("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Jv=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("copyWithin",(function(e,t){return xc.call(Jv(this),e,t,arguments.length>2?arguments[2]:void 0)}));var $v=mn.every,Yv=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("every",(function(e){return $v(Yv(this),e,arguments.length>1?arguments[1]:void 0)}));var Qv=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("fill",(function(e){return Pc.apply(Qv(this),arguments)}));var Xv=mn.filter,Zv=$l.aTypedArray,eg=$l.aTypedArrayConstructor;(0,$l.exportTypedArrayMethod)("filter",(function(e){for(var t=Xv(Zv(this),e,arguments.length>1?arguments[1]:void 0),n=Dn(this,this.constructor),r=0,o=t.length,i=new(eg(n))(o);o>r;)i[r]=t[r++];return i}));var tg=mn.find,ng=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("find",(function(e){return tg(ng(this),e,arguments.length>1?arguments[1]:void 0)}));var rg=mn.findIndex,og=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("findIndex",(function(e){return rg(og(this),e,arguments.length>1?arguments[1]:void 0)}));var ig=mn.forEach,ag=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("forEach",(function(e){ig(ag(this),e,arguments.length>1?arguments[1]:void 0)})),(0,$l.exportTypedArrayStaticMethod)("from",Hv,Vv);var sg=me.includes,cg=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("includes",(function(e){return sg(cg(this),e,arguments.length>1?arguments[1]:void 0)}));var ug=me.indexOf,lg=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("indexOf",(function(e){return ug(lg(this),e,arguments.length>1?arguments[1]:void 0)}));var fg=We("iterator"),dg=a.Uint8Array,hg=fi.values,pg=fi.keys,vg=fi.entries,gg=$l.aTypedArray,mg=$l.exportTypedArrayMethod,yg=dg&&dg.prototype[fg],bg=!!yg&&("values"==yg.name||null==yg.name),_g=function(){return hg.call(gg(this))};mg("entries",(function(){return vg.call(gg(this))})),mg("keys",(function(){return pg.call(gg(this))})),mg("values",_g,!bg),mg(fg,_g,!bg);var wg=$l.aTypedArray,Sg=[].join;(0,$l.exportTypedArrayMethod)("join",(function(e){return Sg.apply(wg(this),arguments)}));var kg=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("lastIndexOf",(function(e){return fu.apply(kg(this),arguments)}));var Tg=mn.map,Eg=$l.aTypedArray,Cg=$l.aTypedArrayConstructor;(0,$l.exportTypedArrayMethod)("map",(function(e){return Tg(Eg(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(Cg(Dn(e,e.constructor)))(t)}))}));var Ig=$l.aTypedArrayConstructor;(0,$l.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(Ig(this))(t);t>e;)n[e]=arguments[e++];return n}),Vv);var Ag=mu.left,Mg=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("reduce",(function(e){return Ag(Mg(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Og=mu.right,Rg=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("reduceRight",(function(e){return Og(Rg(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var xg=$l.aTypedArray,Pg=$l.exportTypedArrayMethod,Ng=Math.floor;Pg("reverse",(function(){for(var e,t=this,n=xg(t).length,r=Ng(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t}));var jg=$l.aTypedArray,Lg=$l.aTypedArrayConstructor,Dg=[].slice;(0,$l.exportTypedArrayMethod)("slice",(function(e,t){for(var n=Dg.call(jg(this),e,t),r=Dn(this,this.constructor),o=0,i=n.length,a=new(Lg(r))(i);i>o;)a[o]=n[o++];return a}),s((function(){new Int8Array(1).slice()})));var Bg=mn.some,Fg=$l.aTypedArray;(0,$l.exportTypedArrayMethod)("some",(function(e){return Bg(Fg(this),e,arguments.length>1?arguments[1]:void 0)}));var Ug=$l.aTypedArray,qg=[].sort;(0,$l.exportTypedArrayMethod)("sort",(function(e){return qg.call(Ug(this),e)}));var Wg=a.Int8Array,Vg=$l.aTypedArray,zg=$l.exportTypedArrayMethod,Gg=[].toLocaleString,Hg=[].slice,Kg=!!Wg&&s((function(){Gg.call(new Wg(1))}));zg("toLocaleString",(function(){return Gg.apply(Kg?Hg.call(Vg(this)):Vg(this),arguments)}),s((function(){return[1,2].toLocaleString()!=new Wg([1,2]).toLocaleString()}))||!s((function(){Wg.prototype.toLocaleString.call([1,2])})));var Jg=$l.exportTypedArrayMethod,$g=a.Uint8Array,Yg=$g&&$g.prototype||{},Qg=[].toString,Xg=[].join;s((function(){Qg.call({})}))&&(Qg=function(){return Xg.call(this)});var Zg=Yg.toString!=Qg;Jg("toString",Qg,Zg),bt("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),In);var em=o((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};b[i]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(M([])));w&&w!==n&&r.call(w,i)&&(b=w);var S=y.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function M(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=S.constructor=y,y.constructor=m,m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},k(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,s,"Generator"),S[i]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})),tm=new Function("return this;")();tm.webkit;var nm,rm,om,im=o((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),am=r(o((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,im(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})));!function(e){e[e.trace=1]="trace",e[e.normal=2]="normal",e[e.warn=3]="warn",e[e.error=4]="error",e[e.fatal=5]="fatal"}(nm||(nm={})),function(e){e.traceId="trace_id",e.errorCode="error_code",e.errorMsg="error_msg",e.time="time",e.duration="duration",e.monitorLevel="monitor_level",e.monitorDomain="monitor_domain",e.monitorCode="monitor_code",e.monitorID="monitor_id",e.monitorMessage="monitor_message",e.monitorTags="monitor_tags",e.monitorFile="monitor_file",e.monitorFunction="monitor_function",e.monitorLine="monitor_line",e.monitorColumn="monitor_column",e.monitorStack="monitor_stack",e.resultType="result_type"}(rm||(rm={})),function(e){e.BATCH="BATCH"}(om||(om={}));var sm,cm;!function(e){e.success="success",e.fail="fail",e.cancel="cancel",e.timeout="timeout"}(sm||(sm={})),function(e){e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.fatal=5]="fatal"}(cm||(cm={}));var um,lm,fm=",",dm="op_monitor_event",hm="op_monitor",pm="event_name";!function(e){e.warn="warn",e.error="error"}(um||(um={})),function(e){e.sampleRate="sample_rate",e.traceSampleRate="trace_sample_rate",e.normalSampleRate="normal_sample_rate",e.warnSampleRate="warn_sample_rate",e.errorSampleRate="error_sample_rate",e.fatalSampleRate="fatal_sample_rate",e.rules="rules",e.priority="priority",e.filters="filters",e.key="key",e.values="values"}(lm||(lm={}));var vm=function(){};function gm(e){return void 0===e}var mm,ym={string:function(e){return"string"==typeof e||"String"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)},undefined:gm,void:function(e){return gm(e)||null===e},object:function(e){return null!==e&&"object"==typeof e},number:function(e){return"number"==typeof e&&!Number.isNaN(e)},function:function(e){return"function"==typeof e}};function bm(e,t){return Object.entries(e).filter((function(e){var n=e[0],r=e[1];return!t(r,n)})).reduce((function(e,t){var n,r=t[0],o=t[1];return Object.assign(e,((n={})[r]=o,n))}),{})}function _m(e,t,n){Object.defineProperty(e,t,{get:function(){return n},set:function(){}})}function wm(){return mm||(mm=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}())}var Sm=function(){function e(e){var t=e.priority,n=e.sampleRate,r=e.filters;this.priority=0,this.filters=[],this.priority=t,this.sampleRate=n,this.filters=r}return e.prototype.match=function(e){return this.filters.every((function(t){return t.match(e)}))},e}(),km=function(){function e(e){var t=e.key,n=e.values;this.key="",this.values=[],this.key=t,this.values=n}return e.prototype.match=function(e){var t=""+e[this.key];return this.values.includes(t)},e}(),Tm=function(){function e(){this._defaultSampleRate=1,this._traceSampleRate=0,this._normalSampleRate=1,this._warnSampleRate=1,this._errorSampleRate=1,this._fatalSampleRate=1,this._orderedRules=[]}var t=e.prototype;return t.buildConfig=function(e){void 0===e&&(e={});var t=e,n=t[lm.sampleRate],r=t[lm.traceSampleRate],o=t[lm.normalSampleRate],i=t[lm.warnSampleRate],a=t[lm.errorSampleRate],s=t[lm.fatalSampleRate],c=t[lm.rules];ym.number(n)&&(this._defaultSampleRate=n),ym.number(r)&&(this._traceSampleRate=r),ym.number(o)&&(this._normalSampleRate=o),ym.number(i)&&(this._warnSampleRate=i),ym.number(a)&&(this._errorSampleRate=a),ym.number(s)&&(this._fatalSampleRate=s);var u=this._parseRules(c);this._orderedRules=u.sort((function(e,t){return t.priority-e.priority}))},t.getSampleRate=function(e){var t=this._getMatchedRuleInOrderedRules(e),n=this._defaultSampleRate;switch(e[rm.monitorLevel]){case nm.trace:n=this._traceSampleRate;break;case nm.normal:n=this._normalSampleRate;break;case nm.warn:n=this._warnSampleRate;break;case nm.error:n=this._errorSampleRate;break;case nm.fatal:n=this._fatalSampleRate}return t&&!ym.undefined(t.sampleRate)&&(n=t.sampleRate),n>=1?1:0},t._getMatchedRuleInOrderedRules=function(e){return this._orderedRules.find((function(t){return t.match(e)}))},t._parseRules=function(e){return Array.isArray(e)?e=e.map((function(e){if(ym.object(e)){var t=e[lm.priority],n=e[lm.sampleRate],r=e[lm.filters];return ym.number(t)||(t=0),ym.number(n)||(n=void 0),r=Array.isArray(r)?r.map((function(e){if(ym.object(e)){var t=e,n=t[lm.key],r=t[lm.values];return ym.string(n)&&Array.isArray(r)?e=new km({key:n,values:r}):void 0}})).filter((function(e){return e})):[],new Sm({priority:t,sampleRate:n,filters:r})}})).filter((function(e){return e})):[]},e}(),Em=function(){function e(t){var n=this;if(this._domainToNameRegistry=new Map,this._domainToParamInjectorRegistry=new Map,this._domainToNameCache=new Map,t instanceof e)return t;var r=t||{},o=r.defaultName,i=void 0===o?dm:o,a=r.log,s=r.report,c=void 0===s?vm:s,u=r.commonMetrics,l=void 0===u?{}:u,f=r.commonCategories,d=void 0===f?{}:f,h=r.commonTags,p=void 0===h?[]:h,v=r.defaultPlatform,g=void 0===v?"Slardar":v,m=r.domainToNameMap,y=r.domainToParamInjectorMap;this.defaultName=String(i),this.defaultPlatform=g,this._log=a,this._report=c,this.commonMetrics=l,this.commonCategories=d,this.commonTags=new Set(p),m&&Object.entries(m).forEach((function(e){var t=e[0],r=e[1];n.registerEvent(r,t)})),y&&Object.entries(y).forEach((function(e){var t=e[0],r=e[1];n.registerParamInjector(t,r)}))}var t=e.prototype;return t.setRemoteConfig=function(e){this._remoteConfig=e},t.getRemoteConfig=function(){return this._remoteConfig?this._remoteConfig:this.constructor.globalRemoteConfig},t.log=function(e){ym.function(this._log)&&this._log(e)},t.report=function(e){var t,n=this.getRemoteConfig(),r=e.name,o=e.metrics,i=e.categories,a=Object.assign(Object.assign(((t={})[pm]=r,t),o),i);n.getSampleRate(a)<1||this._report(e)},t.registerEvent=function(e,t){if(this._domainToNameRegistry.get(t)!==e){this._domainToNameRegistry.set(t,e);for(var n,r=ls(this._domainToNameCache.keys());!(n=r()).done;){var o=n.value;o.startsWith(t)&&this._domainToNameCache.delete(o)}}},t.getNameByDomain=function(e){return this._findName(e)||this.defaultName},t.registerParamInjector=function(e,t){this._domainToParamInjectorRegistry.set(e,t)},t.applyParamInjectorByDomain=function(e,t){for(var n=e.split("."),r=n.length,o=1;o<=r;o++){var i=n.slice(0,o).join("."),a=this._domainToParamInjectorRegistry.get(i);ym.function(a)&&a(t)}},t._findName=function(e){if(this._domainToNameCache.has(e))return this._domainToNameCache.get(e);for(var t,n=e.split("."),r=n.length,o=0;o<r;o++){var i=n.slice(0,r-o).join(".");if(t=this._domainToNameRegistry.get(i))return this._domainToNameCache.set(i,t),t}return this.defaultName},e}();Em.globalRemoteConfig=new Tm;var Cm=function(){function e(t){if(this.cacheList=[],this.waitingForReport=!1,t instanceof e)return t;this._setConfig(t)}e.setup=function(e){this.default._setConfig(e)};var t=e.prototype;return t.getConfig=function(){return this.config},t.log=function(e){if(ym.function(this.config.log)){var t=cm.info;switch(e.getLevel()){case nm.trace:case nm.normal:t=cm.info;break;case nm.warn:t=cm.warn;break;case nm.error:t=cm.error;break;case nm.fatal:t=cm.fatal;break;default:t=cm.info}var n=hm,r=e.getValue(rm.monitorFile),o=e.getValue(rm.monitorFunction),i=e.getValue(rm.monitorLine),a=e.getData(),s="monitor_event : "+e.getName()+" "+JSON.stringify(a);this.invokeLog(bm({level:t,tag:n,file:r,functionName:o,line:i,content:s},gm))}},t.reportTo=function(e){var t=e.getValue(rm.monitorDomain);t&&this.config.applyParamInjectorByDomain(String(t),e);var n=this._getName(e),r=e.getMetrics(),o=e.getCategories(),i=e.getInternalData(),a=this._getPlatform(e);ym.function(this.config.report)&&this.invokeReport(bm({name:n,metrics:r,categories:o,internalData:i,platform:a},gm))},t.flush=function(e){var t=e.getInternalData(),n=t.logEnabled,r=void 0===n||n,o=t.reportEnabled,i=void 0===o||o,a=e.getValue(rm.monitorDomain);a&&this.config.applyParamInjectorByDomain(String(a),e);var s=this._getName(e),c=e.getMetrics(),u=e.getCategories(),l=e.getInternalData(),f=this._getPlatform(e);i&&ym.function(this.config.report)&&this.invokeReport(bm({name:s,metrics:c,categories:u,internalData:l,platform:f},gm)),r&&this.log(e)},t.flushWithThrottle=function(e){var t=this,n=this.getConfig();if(ym.function(this.config.report)){var r=e.getValue(rm.monitorDomain);r&&this.config.applyParamInjectorByDomain(String(r),e);var o,i=this._getPlatform(e),a=this._getName(e),s=function(){t.cacheList.forEach((function(e){return n.report(Object.assign(Object.assign({},e),{platform:i}))})),t.cacheList.length=0,t.waitingForReport=!1,wm().clearTimeout(o)};this.cacheList.push({name:a,metrics:e.getMetrics(),categories:e.getCategories(),internalData:e.getInternalData()});var c=e.getValue(rm.monitorLevel);this.cacheList.length>=20||c&&c>=nm.error?s():this.waitingForReport||(this.waitingForReport=!0,o=wm().setTimeout((function(){s()}),2e3))}},t.invokeLog=function(e){ym.function(this.config.log)&&this.config.log(e)},t.invokeReport=function(e){ym.function(this.config.report)&&this.config.report(e)},t._setConfig=function(e){this.config=new Em(e)},t._getName=function(e){var t=e.getValue(rm.monitorDomain);return e.getName()||t&&this.config.getNameByDomain(String(t))||this.config.defaultName},t._getPlatform=function(e){return e.platform||this.config.defaultPlatform},e}();Cm.default=new Cm;var Im,Am,Mm=function(){function e(t){if(t instanceof e)return t;var n=t||{},r=n.domain,o=n.code,i=n.level,a=n.message;_m(this,"version",1),_m(this,"domain",String(r)),_m(this,"code",Number(o)),_m(this,"ID",String(this.generateID())),_m(this,"level",i),_m(this,"message",String(a))}var t=e.prototype;return t.equals=function(t){return t instanceof e&&t.ID===this.ID},t.toJSON=function(){return{domain:this.domain,code:this.code,level:this.level,message:this.message}},t.generateID=function(){return this.version+"-"+this.domain+"-"+this.code},e}(),Om=function(){function e(e){this.metrics={},this.categories={},this.internalData={},this.tags=new Set,this._time=0,this._startTime=0,this._endTime=0,this._flushed=!1;var t=e||{},n=t.service,r=t.name,o=void 0===r?dm:r,i=t.code,a=t.platform,s=t.metrics,c=t.categories,u=t.internalData;this.service=n?new Cm(n):Cm.default,this.name=o,this._platform=a,i&&(this.code=new Mm(i)),this.categories=Object.assign(Object.assign({},this.service.getConfig().commonCategories),c),this.metrics=Object.assign(Object.assign({},this.service.getConfig().commonMetrics),s),this.tags=new Set(this.service.getConfig().commonTags),this.internalData=Object.assign({},u)}var t=e.prototype;return t.addMetricValue=function(e,t){return ym.undefined(t)||(this.metrics[e]=t),this},t.addCategoryValue=function(e,t){return ym.undefined(t)||(this.categories[e]=t),this},t.addTag=function(e){return ym.undefined(e)||this.tags.add(e),this},t.addMap=function(e){var t=this;return void 0===e&&(e={}),Object.entries(e).forEach((function(e){var n=e[0],r=e[1];ym.undefined(r)||(ym.number(r)?t.metrics[n]=r:t.categories[n]=r)})),this},t.tracing=function(e){return ym.undefined(e)||this.addCategoryValue(rm.traceId,e),this},t.flush=function(e){if(!this._flushed){this._flushed=!0;var t=this.getInternalData(),n=t.logEnabled,r=void 0===n||n,o=t.reportEnabled,i=void 0===o||o,a=this.code||(this.hasErrorInfo()?this.codeIfError:void 0);ym.undefined(this.level)&&a&&a.level&&this.setLevel(a.level),a&&(this.addCategoryValue(rm.monitorDomain,a.domain),this.addMetricValue(rm.monitorCode,a.code),this.addCategoryValue(rm.monitorID,a.ID),this.addCategoryValue(rm.monitorMessage,a.message)),this.tags&&this.addCategoryValue(rm.monitorTags,this.tagsInline()),this.time<=0&&this.setTime(Date.now()),i&&(e||this.service).reportTo(this),r&&this.service.log(this)}},t.flushWithThrottle=function(){this._flushed||(this._flushed=!0,this.service.flushWithThrottle(this))},t.setMonitorCode=function(e){return ym.undefined(e)||(this.code=new Mm(e)),this},t.setMonitorCodeIfError=function(e){return ym.undefined(e)||(this.codeIfError=new Mm(e)),this},t.setLevel=function(e){return ym.undefined(e)||(this.level=e,this.addMetricValue(rm.monitorLevel,e)),this},t.setErrorCode=function(e){return ym.undefined(e)||this.addCategoryValue(rm.errorCode,String(e)),this},t.setErrorMessage=function(e){return ym.undefined(e)||this.addCategoryValue(rm.errorMsg,String(e)),this},t.setError=function(e){if(ym.undefined(e))return this;var t=e.message,n=e.fileName,r=e.lineNumber,o=e.columnNumber,i=e.stack,a=e.code,s=e.monitorCode;return ym.string(t)&&this.addCategoryValue(rm.errorMsg,t),ym.string(n)&&this.addCategoryValue(rm.monitorFile,n),ym.string(i)&&this.addCategoryValue(rm.monitorStack,i),ym.number(a)&&this.addMetricValue(rm.errorCode,a),ym.number(r)&&this.addMetricValue(rm.monitorLine,r),ym.number(o)&&this.addMetricValue(rm.monitorColumn,o),s&&this.setMonitorCode(s),this},t.setTime=function(e){return ym.undefined(e)||(this._time=e,this.addMetricValue(rm.time,e)),this},t.setPlatform=function(e){return e&&(this._platform=e),this},t.timing=function(e){var t=Date.now();return this._startTime>0?(this._endTime=t,this.addMetricValue(e||rm.duration,this._endTime-this._startTime)):this._startTime=t,this},t.setDuration=function(e){return ym.undefined(e)||this.addMetricValue(rm.duration,e),this},t.getCode=function(){return this.code},t.getName=function(){return this.name},t.getMetrics=function(){return Object.assign({},this.metrics)},t.getCategories=function(){return Object.assign({},this.categories)},t.getInternalData=function(){return this.internalData},t.getData=function(){return Object.assign(Object.assign({},this.metrics),this.categories)},t.getValue=function(e){return this.metrics[e]||this.categories[e]},t.setResultType=function(e){return this.addCategoryValue(rm.resultType,e),this},t.setResultTypeSuccess=function(){return this.setResultType(sm.success),this},t.setResultTypeFail=function(){return this.setResultType(sm.fail),this},t.setResultTypeCancel=function(){return this.setResultType(sm.cancel),this},t.setResultTypeTimeout=function(){return this.setResultType(sm.timeout),this},t.getLevel=function(){return this.level},t.getMonitorId=function(){return this.code&&this.code.ID},t.getMonitorDomain=function(){return this.code&&this.code.domain},t.toJSON=function(){return{name:this.name,categories:this.getCategories(),metrics:this.getMetrics()}},t.addInternalData=function(e){return Object.assign(this.internalData,e),this},t.hasErrorInfo=function(){return!ym.undefined(this.getValue(rm.errorCode))||!ym.undefined(this.getValue(rm.errorMsg))},t.tagsInline=function(){return 0===this.tags.size?"":Array.from(this.tags).reduce((function(e,t){return""+e+(t?fm+t:"")}))},vs(e,[{key:"time",get:function(){return this._time}},{key:"platform",get:function(){return this._platform}}]),e}(),Rm="mp_app_onlaunch_beigin",xm="mp_app_onlaunch_end",Pm="mp_app_onshow_begin",Nm="mp_app_onshow_end",jm="mp_page_first_set_data",Lm="appservice_create_page_start",Dm="appservice_create_page_end",Bm="appservice_on_app_route",Fm="mp_block_first_set_data",Um="appservice_create_block_start",qm="appservice_create_block_end",Wm="pageFrame_first_get_data",Vm="pageFrame_get_screen_cache_data",zm="pageFrame_cache_dirty_data",Gm="webview_evaluateJavascript_begin",Hm="webview_evaluateJavascript_end",Km="pageFrame_receive_render_snapshot_message",Jm="pageFrame_func_ready",$m="pageFrame_snapshot_frame_show",Ym="pageFrame_cache_re_render_end",Qm="pageFrame_first_render_begin",Xm="pageFrame_first_render_end",Zm="pageFrame_create_virtual_tree_begin",ey="pageFrame_create_virtual_tree_end",ty="pageFrame_create_element_tree_begin",ny="pageFrame_create_element_tree_end",ry="pageFrame_apply_child_to_body_begin",oy="pageFrame_apply_child_to_body_end",iy="pageFrame_first_frame_show",ay="pageFrame_cache_create_virtual_tree_begin",sy="pageFrame_cache_diff_virtual_tree_begin",cy="pageFrame_cache_virtual_patch_begin",uy="pageFrame_cache_virtual_patch_end",ly="pageFrame_cache_dirty_path",fy="pageFrame_cache_re_render_begin",dy="pageFrame_cache_json_diff_end",hy="pageFrame_app_fmp",py="js.open_platform.gadget",vy="js.open_platform.blockit",gy=py,my=((Im={appServiceSDKScriptError:{domain:gy+".js_runtime_error",code:10001,level:nm.error,message:"app_service_sdk_script_error"},webviewSDKScriptError:{domain:gy+".js_runtime_error",code:10002,level:nm.error,message:"webview_sdk_script_error"},jsEngineScriptError:{domain:gy+".js_runtime_error",code:100003,level:nm.error,message:"js_engine_script_error"},thirdScriptError:{domain:gy+".js_runtime_error",code:100004,level:nm.warn,message:"third_script_error"},webviewScriptError:{domain:gy+".js_runtime_error",code:100005,level:nm.error,message:"webview_script_error"},parserScriptError:{domain:gy+".js_runtime_error",code:100006,level:nm.error,message:"parser_script_error"},loadScriptError:{domain:gy+".js_runtime_error",code:10007,level:nm.error,message:"load_script_error"},commentWarn:{domain:gy+".js_runtime_error",code:10008,level:nm.warn,message:"comment_warn"},webviewSetPropertyError:{domain:gy+".js_runtime_error",code:10009,level:nm.error,message:"webview_set_property_error"}})[Rm]={domain:gy,code:1e4,level:nm.normal,message:"mp_app_onlaunch_begin"},Im[xm]={domain:gy,code:10001,level:nm.normal,message:"mp_app_onlaunch_end"},Im[Pm]={domain:gy,code:10002,level:nm.normal,message:"mp_app_onshow_begin"},Im[Nm]={domain:gy,code:10003,level:nm.normal,message:"mp_app_onshow_end"},Im[jm]={domain:gy,code:10004,level:nm.normal,message:"mp_page_first_set_data"},Im[Lm]={domain:gy,code:10005,level:nm.normal,message:"appservice_create_page_start"},Im[Dm]={domain:gy,code:10006,level:nm.normal,message:"appservice_create_page_end"},Im[Bm]={domain:gy,code:10007,level:nm.normal,message:"appservice_on_app_route"},Im[Wm]={domain:gy,code:10008,level:nm.normal,message:"pageframe_first_get_data"},Im[Vm]={domain:gy,code:10009,level:nm.normal,message:"pageframe_get_screen_cache_data"},Im[zm]={domain:gy,code:10010,level:nm.normal,message:"pageframe_cache_dirty_data"},Im[Gm]={domain:gy,code:10011,level:nm.normal,message:"webview_evaluateJavascript_begin"},Im[Hm]={domain:gy,code:10012,level:nm.normal,message:"webview_evaluateJavascript_end"},Im[Km]={domain:gy,code:10013,level:nm.normal,message:"pageframe_receive_render_snapshot_message"},Im[Jm]={domain:gy,code:10014,level:nm.normal,message:"pageframe_func_ready"},Im[$m]={domain:gy,code:10015,level:nm.normal,message:"pageframe_snapshot_frame_show"},Im[Ym]={domain:gy,code:10016,level:nm.normal,message:"pageframe_cache_re_render_end"},Im[Qm]={domain:gy,code:10017,level:nm.normal,message:"pageframe_first_render_begin"},Im[Xm]={domain:gy,code:10018,level:nm.normal,message:"pageFrame_first_render_end"},Im[Zm]={domain:gy,code:10019,level:nm.normal,message:"pageframe_create_virtual_tree_begin"},Im[ey]={domain:gy,code:10020,level:nm.normal,message:"pageframe_create_virtual_tree_end"},Im[ty]={domain:gy,code:10021,level:nm.normal,message:"pageframe_create_element_tree_begin"},Im[ny]={domain:gy,code:10022,level:nm.normal,message:"pageframe_create_element_tree_end"},Im[ry]={domain:gy,code:10023,level:nm.normal,message:"pageframe_apply_child_to_body_begin"},Im[oy]={domain:gy,code:10024,level:nm.normal,message:"pageframe_apply_child_to_body_end"},Im[iy]={domain:gy,code:10025,level:nm.normal,message:"pageframe_first_frame_show"},Im[ay]={domain:gy,code:10026,level:nm.normal,message:"pageframe_cache_create_virtual_tree_begin"},Im[sy]={domain:gy,code:10027,level:nm.normal,message:"pageframe_cache_diff_virtual_tree_begin"},Im[cy]={domain:gy,code:10028,level:nm.normal,message:"pageframe_cache_virtual_patch_begin"},Im[uy]={domain:gy,code:10029,level:nm.normal,message:"pageframe_cache_virtual_patch_end"},Im[ly]={domain:gy,code:10030,level:nm.normal,message:"pageframe_cache_dirty_path"},Im[fy]={domain:gy,code:10031,level:nm.normal,message:"pageframe_cache_re_render_begin"},Im[dy]={domain:gy,code:10032,level:nm.normal,message:"pageframe_cache_json_diff_end"},Im[hy]={domain:gy,code:10033,level:nm.normal,message:"pageFrame_app_fmp"},Im.webview_longest_pubsub={domain:py+".jssdk_performance",code:10033,level:nm.normal,message:"webview_longest_pubsub"},Im.webview_slowest_pubsub={domain:py+".jssdk_performance",code:10034,level:nm.normal,message:"webview_slowest_pubsub"},Im.webview_pubsub_length_statistic={domain:py+".jssdk_performance",code:10035,level:nm.normal,message:"webview_pubsub_lenth_statistic"},Im.webview_pubsub_timecost_statistic={domain:py+".jssdk_performance",code:10036,level:nm.normal,message:"webview_pubsub_timecost_statistic"},Im.appservice_longest_pubsub={domain:py+".jssdk_performance",code:10037,level:nm.normal,message:"appservice_longest_pubsub"},Im.appservice_slowest_pubsub={domain:py+".jssdk_performance",code:10038,level:nm.normal,message:"appservice_slowest_pubsub"},Im.appservice_pubsub_length_statistic={domain:py+".jssdk_performance",code:10039,level:nm.normal,message:"appservice_pubsub_lenth_statistic"},Im.appservice_pubsub_timecost_statistic={domain:py+".jssdk_performance",code:10040,level:nm.normal,message:"appservice_pubsub_timecost_statistic"},Im.webview_work_time_ratio={domain:py+".jssdk_performance",code:10041,level:nm.normal,message:"webview_work_time_ratio"},Im.appservice_work_time_ratio={domain:py+".jssdk_performance",code:10042,level:nm.normal,message:"appservice_work_time_ratio"},Im.appservice_reported_tti={domain:py+".jssdk_performance",code:10043,level:nm.normal,message:"appservice_reported_tti"},Im.webview_detected_tti={domain:py+".jssdk_performance",code:10044,level:nm.normal,message:"webview_detected_tti"},Im.appservice_using_v8_port={domain:py+".jssdk_performance",code:10045,level:nm.normal,message:"appservice_using_v8_port"},Im.undefined_default_code={domain:gy,code:1e4,level:nm.warn,message:"undefined_default_code"},Im.api_success={domain:gy+".api",code:1e4,level:nm.normal,message:"api_success"},Im.api_cancel={domain:gy+".api",code:10001,level:nm.warn,message:"api_cancel"},Im.api_fail={domain:gy+".api",code:10002,level:nm.error,message:"api_fail"},Im.api_timeout={domain:gy+".api",code:10003,level:nm.error,message:"api_timeout"},Im.api_queue_timeout={domain:gy+".api",code:10004,level:nm.warn,message:"api_queue_timeout"},Im.api_invoke={domain:"client.open_platform.api.common",code:1e4,level:nm.normal,message:"api_jssdk_invoke"},Im.api_callback={domain:"client.open_platform.api.common",code:10001,level:nm.normal,message:"api_jssdk_callback"},Im.customComponent_performance={domain:gy,code:1e4,level:nm.normal,message:"customComponent_performance"},Im.request_result={domain:gy+".network",code:1e4,level:nm.normal,message:"request_result"},Im.abort_request={domain:gy+".network",code:10001,level:nm.normal,message:"abort_request"},Im.upload_result={domain:gy+".network",code:10002,level:nm.normal,message:"upload_result"},Im.abort_upload={domain:gy+".network",code:10003,level:nm.normal,message:"abort_upload"},Im.download_result={domain:gy+".network",code:10004,level:nm.normal,message:"download_result"},Im.abort_download={domain:gy+".network",code:10005,level:nm.normal,message:"abort_download"},Im.request_waiting={domain:gy+".network",code:10006,level:nm.normal,message:"request_enter_waiting_queue"},Im.request_long_waiting={domain:gy+".network",code:10007,level:nm.warn,message:"request_waiting_queue_long_time_stopped"},Im.socket_open={domain:gy+".network",code:10008,level:nm.normal,message:"socket_open"},Im.socket_close={domain:gy+".network",code:10009,level:nm.normal,message:"socket_close"},Im.socket_reach_max_count={domain:gy+".network",code:10010,level:nm.warn,message:"socket_reach_max_count"},Im.editorInit={domain:gy+".editor",code:10001,level:nm.normal,message:"editor_start"},Im.editorPublish={domain:gy+".editor",code:10002,level:nm.normal,message:"editor_publish"},Im.editorSubscribe={domain:gy+".editor",code:10003,level:nm.normal,message:"editor_subscribe"},Im.canvasDrawTime={domain:gy+".canvas",code:1e4,level:nm.normal,message:"canvas_draw_time"},Im.webviewRenderTime={domain:gy+".webview_render",code:1e4,level:nm.normal,message:"webview_render_time"},Im.webviewSeriesRenderTime={domain:gy+".webview_render",code:10001,level:nm.normal,message:"webview_series_render_time"},Im.webviewBatchRenderTime={domain:gy+".webview_render",code:10002,level:nm.normal,message:"webview_batch_render_time"},Im.webviewComponentUsage={domain:gy+".webview_render",code:10003,level:nm.normal,message:"webview_component_usage"},Im.onUpdateReady={domain:gy+".mp_trigger_on_event",code:1e4,level:nm.normal,message:"trigger onUpdateReady"},Im.mpPageView={domain:gy+".mp_page_view",code:1e4,level:nm.normal,message:"mp page view"},Im.iframeOfflineFileLoadStart={domain:gy+".tt_iframe_offline",code:1e4,level:nm.normal,message:"tt-iframe offline file load start"},Im.iframeOfflineFileLoadFail={domain:gy+".tt_iframe_offline",code:10001,level:nm.error,message:"tt-iframe offline file load fail"},Im.scalarEnabled={domain:gy+".scalar_enabled",code:1e4,level:nm.normal,message:"scalar_enabled"},Im),yy=((Am={user_click:{domain:vy+".event_tracking",code:1e4,level:nm.normal,message:"user_click"},block_display:{domain:vy+".event_tracking",code:10001,level:nm.normal,message:"block_display"}})[Fm]={domain:gy,code:10046,level:nm.normal,message:"mp_block_first_set_data"},Am[Um]={domain:gy,code:10047,level:nm.normal,message:"appservice_create_block_start"},Am[qm]={domain:gy,code:10048,level:nm.normal,message:"appservice_create_block_end"},Am),by={jsError:"mp_js_runtime_error",executeProcess:"mp_execute_process",api:"mp_api_invoke_result",onCallback:"mp_trigger_on_event",analysis:"op_js_analysis",network:"op_js_network",editorAnalysis:"editor",canvas:"op_api_canvas",api_invoke:"op_api_invoke",detectedTTI:"mp_js_sdk_detected_tti",reportedTTI:"mp_js_sdk_reported_tti",webviewSlowPubsub:"mp_js_sdk_slow_pubsub_webview",serviceSlowPubsub:"mp_js_sdk_slow_pubsub_service",webviewPubsubTimeStat:"mp_js_sdk_pubsub_stat_webview",servicePubsubTimeStat:"mp_js_sdk_pubsub_stat_service",webviewRender:"op_js_webview_render",openplatformMpPageView:"openplatform_mp_page_view",iframeOfflineFile:"openplatform_iframe_offline_file",scalar:"op_js_scalar"},_y=function(){function e(e){var t=this;this.maxCacheCount=void 0,this.maxCacheTime=void 0,this.list=[],this.handler=null,this.config=new Em({report:function(e){return t.report(e)},log:function(){}}),this.maxCacheCount=e.maxCacheCount,this.maxCacheTime=e.maxCacheTime}e.init=function(t){var n,r,o=this.OPMonitor=new e({maxCacheCount:null!=(n=t.maxCacheCount)?n:10,maxCacheTime:null!=(r=t.maxCacheTime)?r:500});Cm.setup(o.config)},e.get=function(){return this.OPMonitor};var t=e.prototype;return t.report=function(e){var t=this,n=e.name,r=e.metrics,o=e.categories,i=void 0===o?{}:o,a=e.platform,s=i.monitor_level,c={name:n,metrics:r,categories:i};"Slardar"!==a&&(c.platform=a),this.list.push(c),this.list.length>=this.maxCacheCount||s&&s>=nm.error?this.flush():this.handler||(this.handler=setTimeout((function(){t.handler=null,t.flush()}),this.maxCacheTime))},t.flush=function(){if(this.list.length){var e={monitorEvents:this.list},t=ws().agent.isSupportNewBridge?e:JSON.stringify(e);ws().ttJSBridge.invoke("monitorReport",t),this.list=[],this.handler&&(clearTimeout(this.handler),this.handler=null)}},e}();_y.OPMonitor=void 0;var wy=function(e){function t(){return e.apply(this,arguments)||this}return am(t,e),t.prototype.addMap=function(t){if(t&&void 0===t.new_framework){var n=ws();t.new_framework=n.newFramework}return e.prototype.addMap.call(this,t)},t}(Om),Sy=function(e,t){return new wy(e?{name:e,code:new Mm(t)}:{name:"undefined_default_code",code:new Mm(my.undefined_default_code)})},ky={build:Sy,GadgetEventName:by,GadgetMonitorCode:my},Ty={};function Ey(e){if("string"!=typeof e)throw new TypeError("Require args must be type of string. Received type"+typeof e);var t=Ty[e];if(!t){try{tm.loadScript(e,function(e){if(!tm.requireConfig||!tm.requireConfig.requires||!tm.requireConfig.fileIndexArray)return null;var t=tm.requireConfig.requires[e];if(!t||t.length<1)return null;var n=tm.requireConfig.fileIndexArray,r=t.map((function(e){return n[e]}));if(!r||r.length<1)return null;var o=Ty?Object.keys(Ty):null;return o?r.filter((function(e){return!o.includes(e)})):r}(e))}catch(e){ky.build(by.jsError,my.loadScriptError).addMap({errMsg:JSON.stringify(e)||""}).flush(),ps.error(e)}t=Ty[e]}if(!Ty[e])throw new Error('module "'+e+'" is not defined');if(!t.runed){var n,r=t.factory,o={exports:{}};t.runed=!0,t.exports=o.exports,"function"==typeof r&&(n=r(function(e){var t=function(e){var t=e.match(/(.*)\/([^/]+)?$/);return null!=t&&t[1]?t[1]:"./"}(e);return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var n=[],r=(t+"/"+e).split("/"),o=0,i=r.length;o<i;++o){var a=r[o];if(""!==a&&"."!==a)if(".."===a){if(0===n.length)throw new Error("Can't find module : "+e);n.pop()}else o+1<i&&".."===r[o+1]?o++:n.push(a)}var s=n.join("/");return s.endsWith(".js")||(s+=".js"),Ey(s)}}(e),o,o.exports),t.exports=o.exports||n)}return t.exports}tm.define=function(e,t){Ty[e]={runed:!1,factory:t,exports:void 0}},tm.require=function(e){var t;try{t=Ey(e)}catch(e){Reporter.thirdErrorReport({error:e}),ps.error(e)}return t},tm.hasDefine=function(e){return!!Ty[e]};var Cy,Iy=o((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),Ay=r(Iy),My=o((function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0})),Oy=o((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0})),Ry=o((function(e){function t(n,r,o){return Oy()?(e.exports=t=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&im(o,n.prototype),o},e.exports.default=e.exports,e.exports.__esModule=!0),t.apply(null,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),xy=r(o((function(e){function t(n){var r="function"==typeof Map?new Map:void 0;return e.exports=t=function(e){if(null===e||!My(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return Ry(e,arguments,Iy(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),im(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}))),Py=o((function(e,t){!function(t){var n=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof process&&"function"==typeof process.nextTick,i="function"==typeof Symbol,a="object"==typeof Reflect,s="function"==typeof setImmediate?setImmediate:setTimeout,c=i?a&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function u(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==t&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var d=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var o=new Array(r);r--;)o[r]=arguments[r];return o}};function h(e,n){for(var r={},o=e.length,i=n?value.length:0,a=0;a<o;a++)r[e[a]]=a<i?n[a]:t;return r}function p(e,t,n){var r,o;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,o=n.off),t.addEventListener?(r=t.addEventListener,o=t.removeEventListener):t.addListener?(r=t.addListener,o=t.removeListener):t.on&&(r=t.on,o=t.off),!r&&!o)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof o)throw TypeError("off method must be a function");this._on=r,this._off=o;var i=e._observers;i?i.push(this):e._observers=[this]}function v(e,r,o,i){var a=Object.assign({},r);if(!e)return a;if("object"!=typeof e)throw TypeError("options must be an object");var s,c,u,l=Object.keys(e),f=l.length;function d(e){throw Error('Invalid "'+s+'" option value'+(e?". Reason: "+e:""))}for(var h=0;h<f;h++){if(s=l[h],!i&&!n.call(r,s))throw Error('Unknown "'+s+'" option');(c=e[s])!==t&&(u=o[s],a[s]=u?u(c,d):c)}return a}function g(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function m(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],o=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var i=typeof e;if(i===r||i===o)return e;n(t)}:function(r,o){for(var i=typeof r,a=n;a-- >0;)if(i===e[a])return r;o(t)}}Object.assign(p.prototype,{subscribe:function(e,t,n){var r=this,o=this._target,i=this._emitter,a=this._listeners,s=function(){var r=d.apply(null,arguments),a={data:r,name:t,original:e};if(n){var s=n.call(o,a);!1!==s&&i.emit.apply(i,[a.name].concat(r))}else i.emit.apply(i,[t].concat(r))};if(a[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,i._newListener&&i._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===a[e]&&(a[e]=s,r._on.call(o,e,s))},i.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!i.hasListeners(n)&&a[e]&&(a[e]=null,r._off.call(o,e,s))},a[e]=null,i.on("removeListener",this._onRemoveListener)):(a[e]=s,r._on.call(o,e,s))},unsubscribe:function(e){var t,n,r,o=this,i=this._listeners,a=this._emitter,s=this._off,u=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function l(){o._onNewListener&&(a.off("newListener",o._onNewListener),a.off("removeListener",o._onRemoveListener),o._onNewListener=null,o._onRemoveListener=null);var e=w.call(a,o);a._observers.splice(e,1)}if(e){if(!(t=i[e]))return;s.call(u,e,t),delete i[e],--this._listenersCount||l()}else{for(r=(n=c(i)).length;r-- >0;)e=n[r],s.call(u,e,i[e]);this._listeners={},this._listenersCount=0,l()}}});var y=m(["function"]),b=m(["object","function"]);function _(e,t,n){var r,o,i,a=0,s=new e((function(c,u,l){function f(){o&&(o=null),a&&(clearTimeout(a),a=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof l;var d=function(e){f(),c(e)},h=function(e){f(),u(e)};r?t(d,h,l):(o=[function(e){h(e||Error("canceled"))}],t(d,h,(function(e){if(i)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");o.push(e)})),i=!0),n.timeout>0&&(a=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",a=0,s.cancel(e),u(e)}),n.timeout))}));return r||(s.cancel=function(e){if(o){for(var t=o.length,n=1;n<t;n++)o[n](e);o[0](e),o=null}}),s}function w(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function S(e,t,n,r,o){if(!n)return null;if(0===r){var i=typeof t;if("string"===i){var a,s,u=0,l=0,f=this.delimiter,d=f.length;if(-1!==(s=t.indexOf(f))){a=new Array(5);do{a[u++]=t.slice(l,s),l=s+d}while(-1!==(s=t.indexOf(f,l)));a[u++]=t.slice(l),t=a,o=u}else t=[t],o=1}else"object"===i?o=t.length:(t=[t],o=1)}var h,p,v,g,m,y,b,_=null,w=t[r],k=t[r+1];if(r===o&&n._listeners)return"function"==typeof n._listeners?(e&&e.push(n._listeners),[n]):(e&&e.push.apply(e,n._listeners),[n]);if("*"===w){for(s=(y=c(n)).length;s-- >0;)"_listeners"!==(h=y[s])&&(b=S(e,t,n[h],r+1,o))&&(_?_.push.apply(_,b):_=b);return _}if("**"===w){for((m=r+1===o||r+2===o&&"*"===k)&&n._listeners&&(_=S(e,t,n,o,o)),s=(y=c(n)).length;s-- >0;)"_listeners"!==(h=y[s])&&("*"===h||"**"===h?(n[h]._listeners&&!m&&(b=S(e,t,n[h],o,o))&&(_?_.push.apply(_,b):_=b),b=S(e,t,n[h],r,o)):b=S(e,t,n[h],h===k?r+2:r,o),b&&(_?_.push.apply(_,b):_=b));return _}if(n[w]&&(_=S(e,t,n[w],r+1,o)),(p=n["*"])&&S(e,t,p,r+1,o),v=n["**"])if(r<o)for(v._listeners&&S(e,t,v,o,o),s=(y=c(v)).length;s-- >0;)"_listeners"!==(h=y[s])&&(h===k?S(e,t,v[h],r+2,o):h===w?S(e,t,v[h],r+1,o):((g={})[h]=v[h],S(e,t,{"**":g},r+1,o)));else v._listeners?S(e,t,v,o,o):v["*"]&&v["*"]._listeners&&S(e,t,v["*"],o,o);return _}function k(e,t,n){var r,o,i=0,a=0,s=this.delimiter,c=s.length;if("string"==typeof e)if(-1!==(r=e.indexOf(s))){o=new Array(5);do{o[i++]=e.slice(a,r),a=r+c}while(-1!==(r=e.indexOf(s,a)));o[i++]=e.slice(a)}else o=[e],i=1;else o=e,i=e.length;if(i>1)for(r=0;r+1<i;r++)if("**"===o[r]&&"**"===o[r+1])return;var u,l=this.listenerTree;for(r=0;r<i;r++)if(l=l[u=o[r]]||(l[u]={}),r===i-1)return l._listeners?("function"==typeof l._listeners&&(l._listeners=[l._listeners]),n?l._listeners.unshift(t):l._listeners.push(t),!l._listeners.warned&&this._maxListeners>0&&l._listeners.length>this._maxListeners&&(l._listeners.warned=!0,f.call(this,l._listeners.length,u))):l._listeners=t,!0;return!0}function T(e,t,n,r){for(var o,i,a,s,u=c(e),l=u.length,f=e._listeners;l-- >0;)o=e[i=u[l]],a="_listeners"===i?n:n?n.concat(i):[i],s=r||"symbol"==typeof i,f&&t.push(s?a:a.join(this.delimiter)),"object"==typeof o&&T.call(this,o,t,a,s);return t}function E(e){for(var t,n,r,o=c(e),i=o.length;i-- >0;)(t=e[n=o[i]])&&(r=!0,"_listeners"===n||E(t)||delete e[n]);return r}function C(e,t,n){this.emitter=e,this.event=t,this.listener=n}function I(e,n,r){if(!0===r)a=!0;else if(!1===r)i=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var i=r.async,a=r.promisify,c=r.nextTick,u=r.objectify}if(i||c||a){var l=n,f=n._origin||n;if(c&&!o)throw Error("process.nextTick is not supported");a===t&&(a="AsyncFunction"===n.constructor.name),(n=function(){var e=arguments,t=this,n=this.event;return a?c?Promise.resolve():new Promise((function(e){s(e)})).then((function(){return t.event=n,l.apply(t,e)})):(c?process.nextTick:s)((function(){t.event=n,l.apply(t,e)}))})._async=!0,n._origin=f}return[n,u?new C(this,e,n):this]}function A(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,l.call(this,e)}C.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},A.EventEmitter2=A,A.prototype.listenTo=function(e,n,o){if("object"!=typeof e)throw TypeError("target musts be an object");var i=this;function a(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,r=o.reducers,a=w.call(i,e);n=-1===a?new p(i,e,o):i._observers[a];for(var s,u=c(t),l=u.length,f="function"==typeof r,d=0;d<l;d++)s=u[d],n.subscribe(s,t[s]||s,f?r:r&&r[s])}return o=v(o,{on:t,off:t,reducers:t},{on:y,off:y,reducers:b}),r(n)?a(h(n)):a("string"==typeof n?h(n.split(/\s+/)):n),this},A.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,o=n.length,i=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;o-- >0;)r=n[o],e&&r._target!==e||(r.unsubscribe(t),i=!0);return i},A.prototype.delimiter=".",A.prototype.setMaxListeners=function(e){e!==t&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},A.prototype.getMaxListeners=function(){return this._maxListeners},A.prototype.event="",A.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},A.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},A.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},A.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},A.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},A.prototype._many=function(e,t,n,r,o){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),n.apply(this,arguments)}return a._origin=n,this._on(e,a,r,o)},A.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var e,t,n,r,o,a,s=arguments[0],c=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(c&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(n=s.length,i)for(r=0;r<n;r++)if("symbol"==typeof s[r]){a=!0;break}a||(s=s.join(this.delimiter))}var l,f=arguments.length;if(this._all&&this._all.length)for(r=0,n=(l=this._all.slice()).length;r<n;r++)switch(this.event=s,f){case 1:l[r].call(this,s);break;case 2:l[r].call(this,s,arguments[1]);break;case 3:l[r].call(this,s,arguments[1],arguments[2]);break;default:l[r].apply(this,arguments)}if(c)l=[],S.call(this,l,e,this.listenerTree,0,n);else{if("function"==typeof(l=this._events[s])){switch(this.event=s,f){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(f-1),o=1;o<f;o++)t[o-1]=arguments[o];l.apply(this,t)}return!0}l&&(l=l.slice())}if(l&&l.length){if(f>3)for(t=new Array(f-1),o=1;o<f;o++)t[o-1]=arguments[o];for(r=0,n=l.length;r<n;r++)switch(this.event=s,f){case 1:l[r].call(this);break;case 2:l[r].call(this,arguments[1]);break;case 3:l[r].call(this,arguments[1],arguments[2]);break;default:l[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},A.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var e,t,n,r,o,a,s=arguments[0],c=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(c&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(r=s.length,i)for(o=0;o<r;o++)if("symbol"==typeof s[o]){t=!0;break}t||(s=s.join(this.delimiter))}var l,f=[],d=arguments.length;if(this._all)for(o=0,r=this._all.length;o<r;o++)switch(this.event=s,d){case 1:f.push(this._all[o].call(this,s));break;case 2:f.push(this._all[o].call(this,s,arguments[1]));break;case 3:f.push(this._all[o].call(this,s,arguments[1],arguments[2]));break;default:f.push(this._all[o].apply(this,arguments))}if(c?(l=[],S.call(this,l,e,this.listenerTree,0)):l=this._events[s],"function"==typeof l)switch(this.event=s,d){case 1:f.push(l.call(this));break;case 2:f.push(l.call(this,arguments[1]));break;case 3:f.push(l.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(d-1),a=1;a<d;a++)n[a-1]=arguments[a];f.push(l.apply(this,n))}else if(l&&l.length){if(l=l.slice(),d>3)for(n=new Array(d-1),a=1;a<d;a++)n[a-1]=arguments[a];for(o=0,r=l.length;o<r;o++)switch(this.event=s,d){case 1:f.push(l[o].call(this));break;case 2:f.push(l[o].call(this,arguments[1]));break;case 3:f.push(l[o].call(this,arguments[1],arguments[2]));break;default:f.push(l[o].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(f)},A.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},A.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},A.prototype.onAny=function(e){return this._onAny(e,!1)},A.prototype.prependAny=function(e){return this._onAny(e,!0)},A.prototype.addListener=A.prototype.on,A.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},A.prototype._on=function(e,n,r,o){if("function"==typeof e)return this._onAny(e,n),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");this._events||u.call(this);var i,a=this;return o!==t&&(n=(i=I.call(this,e,n,o))[0],a=i[1]),this._newListener&&this.emit("newListener",e,n),this.wildcard?(k.call(this,e,n,r),a):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(n):this._events[e].push(n),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,f.call(this,this._events[e].length,e))):this._events[e]=n,a)},A.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,o=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(o=S.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],o.push({_listeners:n})}for(var a=0;a<o.length;a++){var s=o[a];if(n=s._listeners,r(n)){for(var c=-1,u=0,l=n.length;u<l;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){c=u;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&E(this.listenerTree),this},A.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},A.prototype.removeListener=A.prototype.off,A.prototype.removeAllListeners=function(e){if(e===t)return!this._events||u.call(this),this;if(this.wildcard){var n,r=S.call(this,null,e,this.listenerTree,0);if(!r)return this;for(n=0;n<r.length;n++)r[n]._listeners=null;this.listenerTree&&E(this.listenerTree)}else this._events&&(this._events[e]=null);return this},A.prototype.listeners=function(e){var n,r,o,i,a,s=this._events;if(e===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!s)return[];for(i=(n=c(s)).length,o=[];i-- >0;)"function"==typeof(r=s[n[i]])?o.push(r):o.push.apply(o,r);return o}if(this.wildcard){if(!(a=this.listenerTree))return[];var u=[],l="string"==typeof e?e.split(this.delimiter):e.slice();return S.call(this,u,l,a,0),u}return s&&(r=s[e])?"function"==typeof r?[r]:r:[]},A.prototype.eventNames=function(e){var t=this._events;return this.wildcard?T.call(this,this.listenerTree,[],null,e):t?c(t):[]},A.prototype.listenerCount=function(e){return this.listeners(e).length},A.prototype.hasListeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return S.call(this,n,r,this.listenerTree,0),n.length>0}var o=this._events,i=this._all;return!!(i&&i.length||o&&(e===t?c(o).length:o[e]))},A.prototype.listenersAny=function(){return this._all?this._all:[]},A.prototype.waitFor=function(e,n){var r=this,o=typeof n;return"number"===o?n={timeout:n}:"function"===o&&(n={filter:n}),_((n=v(n,{timeout:0,filter:t,handleError:!1,Promise:Promise,overload:!1},{filter:y,Promise:g})).Promise,(function(t,o,i){function a(){var i=n.filter;if(!i||i.apply(r,arguments))if(r.off(e,a),n.handleError){var s=arguments[0];s?o(s):t(d.apply(null,arguments).slice(1))}else t(d.apply(null,arguments))}i((function(){r.off(e,a)})),r._on(e,a,!1)}),{timeout:n.timeout,overload:n.overload})};var M=A.prototype;Object.defineProperties(A,{defaultMaxListeners:{get:function(){return M._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");M._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return _((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:g})).Promise,(function(n,r,o){var i;if("function"==typeof e.addEventListener)return i=function(){n(d.apply(null,arguments))},o((function(){e.removeEventListener(t,i)})),void e.addEventListener(t,i,{once:!0});var a,s=function(){a&&e.removeListener("error",a),n(d.apply(null,arguments))};"error"!==t&&(a=function(n){e.removeListener(t,s),r(n)},e.once("error",a)),o((function(){a&&e.removeListener("error",a),e.removeListener(t,s)})),e.once(t,s)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(M,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=A}()})),Ny=new Py.EventEmitter2;!function(e){e[e.appServiceSDKScriptError=1]="appServiceSDKScriptError",e[e.webviewSDKScriptError=2]="webviewSDKScriptError",e[e.jsEngineScriptError=3]="jsEngineScriptError",e[e.thirdScriptError=4]="thirdScriptError",e[e.webviewScriptError=5]="webviewScriptError",e[e.parserScriptError=6]="parserScriptError"}(Cy||(Cy={}));var jy="",Ly="",Dy=function(){function e(e){var t=this;this.host=e,["slowReport","thirdErrorReport","errorReport","networkReport","registerErrorListener","triggerErrorMessage","unRegisterErrorListener"].forEach((function(e){var n;t[e]=(n=t[e].bind(t),function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(n,t)}catch(e){ps.error("reporter error: "+(null==e?void 0:e.message))}})}))}var t=e.prototype;return t.slowReport=function(e){},t.thirdErrorReport=function(e){var t=e.error,n=e.extend,r=e.isUncatch;this.errorReport({key:"thirdScriptError",error:t,extend:n,isUncatch:r})},t.errorReport=function(e){var t=e.key,n=e.error,r=e.extend,o=e.isUncatch,i=Cy[t];if(o||this.invokeCaughtError({errorType:t,error:n,extend:r}),i){var a=t+"\n"+(r?n.message+";"+r:n.message)+"\n"+n.stack;"thirdScriptError"===t&&this.triggerErrorMessage(a),ps.error(a)}},t.networkReport=function(e){},t.registerErrorListener=function(e){"function"==typeof e&&Ny.on("_error",e)},t.triggerErrorMessage=function(e){setTimeout((function(){try{!function(e){Ny.emit("_error",e)}(e)}catch(e){e.message=e.message+" at onError callback function",ps.error(e)}}),0)},t.unRegisterErrorListener=function(e){"function"==typeof e?Ny.off("_error",e):Ny.removeAllListeners("_error")},t.invokeCaughtError=function(e){void 0===e&&(e={});var t=e,n=t.error,r=void 0===n?{}:n,o=t.errorType,i=t.extend;ky.build(by.jsError,my[o]).addMap({message:r.message||"",stack:r.stack||"",errorType:o||"",extend:i||"",source:r.sourceURL||"",lineno:r.line||"",colno:r.column||""}).flush()},vs(e,[{key:"__route__",set:function(e){jy=e}},{key:"__method__",set:function(e){Ly=e}}]),e}();function By(e,t,n){var r,o,i=n.slowReportKey,a=n.errMsg,s=n.context,c=void 0===s?e:s,u=n.reportAsEngineError,l=null==(r=ws())?void 0:r.reporter;try{if(i){var f=Date.now();o=e.apply(c,t);var d=Date.now()-f;d>1e3&&(null==l||l.slowReport({key:i,cost:d,extend:a}))}else o=e.apply(c,t)}catch(e){if(u){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceEngineKnownError"===e.type||"AppServiceSdkKnownError"===e.type||"WebviewSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?null==l||l.thirdErrorReport({error:e,extend:a}):null==l||l.errorReport({key:u,error:e,extend:a})}}else null==l||l.thirdErrorReport({error:e,extend:a})}return o}function Fy(e){return[function(t,n,r){return By(t,n,Object.assign({},e,r))},function(t,n){var r=Object.assign({},e,n);return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return By(t,n,r)}}]}var Uy=Fy({}),qy=Uy[0],Wy=Uy[1],Vy=Fy({slowReportKey:""}),zy=Vy[0],Gy=Vy[1],Hy=Fy({slowReportKey:"",reportAsEngineError:"jsEngineScriptError"})[1],Ky=Fy({slowReportKey:"",reportAsEngineError:"appServiceSDKScriptError"})[1];function Jy(e,t){var n="";return jy&&(n="at "+jy+" "+Ly+" function;"),Wy(e,{slowReportKey:"apiCallBack",errMsg:n+t,context:e})}var $y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Yy=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/,Qy=tm.btoa||function(e){for(var t,n,r,o,i="",a=0,s=(e=String(e)).length%3;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError('Failed to execute "btoa" on "Window": The string '+e+" to be encoded contains characters outside of the Latin1 range.");i+=$y.charAt((t=n<<16|r<<8|o)>>18&63)+$y.charAt(t>>12&63)+$y.charAt(t>>6&63)+$y.charAt(63&t)}return s?i.slice(0,s-3)+"===".substring(s):i},Xy=tm.atob||function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Yy.test(e))throw new TypeError('Failed to execute "atob" on "Window": The string '+e+" to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,r,o="",i=0;i<e.length;)t=$y.indexOf(e.charAt(i++))<<18|$y.indexOf(e.charAt(i++))<<12|(n=$y.indexOf(e.charAt(i++)))<<6|(r=$y.indexOf(e.charAt(i++))),o+=64===n?String.fromCharCode(t>>16&255):64===r?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o};function Zy(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return Qy(t)}function eb(e){for(var t=Xy(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}function tb(e){return"object"==typeof e&&!function(e){return null===e}(e)}function nb(e){return"[object Function]"===(t=e,Object.prototype.toString.call(t));var t}function rb(e){return Object.prototype.toString.call(e).split(" ")[1].slice(0,-1)}function ob(e){var t=[String,Number,Boolean,Object,Array],n=t.length;try{-1===(n=t.indexOf(e))&&(n=t.length)}catch(e){}return["string","number","boolean","object","array","null"][n]}var ib=/([a-z0-9])([A-Z])/g,ab={};function sb(e,t){if(t.startsWith("/"))return t.substr(1);if(t.startsWith("./"))return sb(e,t.substr(2));for(var n=t.split("/"),r=e.length>0?e.split("/"):[],o=0,i=n.length;o<i&&".."===n[o];o++);return n.splice(0,o),r.splice(r.length-o-1,o+1),r.concat(n).join("/")}var cb=r(o((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0})));function ub(e,t,n){return void 0===n&&(n=!1),n?{key:e,value:t}:{key:e,base64:Zy(t)}}function lb(e){if(null!=e){if("base64"in e)return eb(e.base64);if("value"in e)return e.value}}function fb(e){return function(t){return Object.prototype.toString.call(t).toLowerCase()===("[object "+e+"]").toLowerCase()}}function db(e){if(!fb("Object")(e)||!e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n,r=ls(t);!(n=r()).done;){var o=n.value;if(o){var i=lb(o);void 0!==i&&i instanceof ArrayBuffer&&(e[o.key]=i)}}return e}var hb={pack:function(e,t){if(void 0===t&&(t=!1),!fb("Object")(e))return e;var n=[];for(var r in e){var o=e[r];void 0!==o&&o instanceof ArrayBuffer&&void 0!==o.byteLength&&n.push(ub(r,o,t))}if(n.length>0){for(var i=0;i<n.length;i++){delete e[n[i].key]}e.__nativeBuffers__=n}return e},unpack:db,unpack2:db};function pb(e){var t,n=!1;return function(){return n||(t=e.apply(void 0,arguments),n=!0),t}}var vb={logEnabled:!1,reportEnabled:!1,batchBlackListEnabled:!1,batchWhiteListEnabled:!1,batchBlackList:[],batchWhiteList:[],bizBlackList:[]},gb=function(){function e(e){this.hitBlackList=!1,this.hitWhiteList=!1,this._batchEnabled=!1,this._createTime=Date.now(),this.generateTraceId(e),this.batchReportEnabled=this.constructor.config.reportEnabled||!1,this.batchLogEnabled=this.constructor.config.logEnabled||!1}e.setConfig=function(e){this.config=e},e.resetConfig=function(){this.config=Object.assign({},vb)};var t=e.prototype;return t.generateSpan=function(){return new e(this)},t.reportTo=function(e){var t=this,n=this.constructor.config,r=n.batchBlackListEnabled,o=void 0===r?vb.batchBlackListEnabled:r,i=n.batchWhiteListEnabled,a=void 0===i?vb.batchWhiteListEnabled:i,s=n.batchBlackList,c=void 0===s?vb.batchBlackList:s,u=n.batchWhiteList,l=void 0===u?vb.batchWhiteList:u;return!this.hitBlackList&&o&&c.some((function(n){return t.matchRule(n,e)}))&&(this.hitBlackList=!0),!this.hitBlackList&&!this.hitWhiteList&&this.batchReportEnabled&&a&&l.some((function(n){return t.matchRule(n,e)}))&&(this.hitWhiteList=!0),this._monitorCache||(this._monitorCache=[]),!this.hitBlackList&&this._monitorCache.push(JSON.stringify(e)),this},t.finish=function(){var e,t=this.batchLogEnabled,n=this.batchReportEnabled;return n&&(this.blackListEnabled&&this.hitBlackList||this.whiteListEnabled&&!this.hitWhiteList)&&(n=!1),{name:"monitor_batch_report",code:{domain:"monitor.base.batch",code:1e4,level:2,message:"monitor_batch_code"},categories:(e={},e.batch=JSON.stringify(this._monitorCache),e[rm.traceId]=this._traceId,e),internalData:{logEnabled:this.batchEnabled&&t,reportEnabled:this.batchEnabled&&n}}},t.parse=function(e){return"extensions"in e&&!("trace"in e)?(this._createTime=e.createTime,this._traceId=e.traceId):(this._createTime=e.trace.createTime,this._traceId=e.trace.traceId,this._batchEnabled=e.batchEnabled,e.monitorCache&&(this._monitorCache=[].concat(e.monitorCache))),this},t.toJSON=function(){var e={trace:{createTime:this._createTime,traceId:this._traceId},batchEnabled:this._batchEnabled};return this._monitorCache&&(e.monitorCache=[].concat(this._monitorCache)),e},t.serialize=function(){return JSON.stringify(this)},t.deserialize=function(e){var t=JSON.parse(e);return this.parse(t)},t.checkBatchEnabled=function(e){var t=this.constructor.config.bizBlackList;return!t||!t.includes(e)},t.subTrace=function(e){var t=new this.constructor(this);return e?this.checkBatchEnabled(e)?(t._batchEnabled=!0,t):(t._batchEnabled=this._batchEnabled,t):(t._batchEnabled=this.batchEnabled,t)},t.getTraceId=function(){return this._traceId},t.generateTraceId=function(e){var t;t=e?e.getTraceId():"1",this._traceId=function(e){return e?e+"-"+[].concat(Array(8)).map((function(){return Math.floor(36*Math.random()).toString(36)})).join(""):""}(t)},t.matchRule=function(e,t){var n=t.getName(),r=t.getMonitorId(),o=t.getMonitorDomain(),i=e.event_name,a=void 0===i?[]:i,s=e.monitor_id,c=void 0===s?[]:s,u=e.monitor_domain,l=void 0===u?[]:u,f=e.monitor_domain_prefix,d=void 0===f?[]:f;return!(!n||!a.some((function(e){return e===n})))||(!(!r||!c.some((function(e){return e===r})))||!(!o||!l.some((function(e){return e===o}))&&!d.some((function(e){return o.startsWith(e)}))))},vs(e,[{key:"blackListEnabled",get:function(){return this.constructor.config.batchBlackListEnabled||vb.batchBlackListEnabled}},{key:"whiteListEnabled",get:function(){return this.constructor.config.batchWhiteListEnabled||vb.batchWhiteListEnabled}},{key:"batchEnabled",get:function(){return this._batchEnabled}},{key:"traceId",get:function(){return this._traceId},set:function(e){this._traceId=e}},{key:"createTime",get:function(){return this._createTime}}]),e}();gb.config=vb;var mb,yb,bb,_b,wb=(yb=!1,function(){var e,t,n,r;if(yb&&mb)return mb;yb=!0;var o=null==(e=ws())||null==(t=e.agent)?void 0:t.globalTrace;if(o&&"string"==typeof o&&(o=JSON.parse(o)),null!=(n=o)&&null!=(r=n.config)&&r.optrace_batch_config){var i,a,s,c=null==(i=o.config)?void 0:i.optrace_batch_config;gb.setConfig("string"==typeof c?JSON.parse(c):c),ws().global.__trace__config__=null==(a=o)||null==(s=a.config)?void 0:s.optrace_batch_config}return mb=o?(new gb).parse(o):new gb}),Sb=function(){},kb=function(){function e(e,t){var n=this;this.host=e,this.accounter=t,this.invokeCallbackMap={},this.invokeCallbackIdCounter=0,this.reserveInvokeCallbackIds=[],this.isUsingSnapshot=void 0,this.shouldUseV8port=void 0,this.overrideCallback=[],this.invokeHandler=this.invokeHandler.bind(this),this.subscribeHandler=this.subscribeHandler.bind(this),this.nativeCallBack=this.nativeCallBack.bind(this),this.isUsingSnapshot=pb((function(){return!(!e.global.snapshotLaunch||!e.global.ttJSCore)})),this.shouldUseV8port=function(){var e,t,r,o,i,a,s,c=n.host.global.v8port;(i=c&&"function"==typeof(null==(e=n.host)||null==(t=e.ttJSCore)?void 0:t.id)&&-1!==(null==(r=n.host)||null==(o=r.ttJSCore)?void 0:o.id()))&&(null==c||null==c.bind||c.bind((null==(a=n.host)||null==(s=a.ttJSCore)?void 0:s.id.bind(s))(),n.subscribeHandler));return function(){return!n.isUsingSnapshot()&&i}}()}var t=e.prototype;return t.invoke=function(e,t,n,r,o,i){var a;void 0===r&&(r=!1);var s=this.host.agent.isSupportNewBridge,c=!["monitorReport","logManager","reportAnalytics","consoleLogOutput","sentryReport","reportAnalytics","reportTimelinePoints","reportJsRuntimeError"].includes(e)&&this.host.agent.shouldReportApiInvoke,u=n=null!=(a=n)?a:Sb,l=wb().subTrace(e),f=++this.invokeCallbackIdCounter,d=ky.GadgetEventName,h=ky.GadgetMonitorCode;if(c?(Sy(d.api_invoke,h.api_invoke).addMap({api_name:e}).flush(l),u=function(t){return Sy(d.api_invoke,h.api_callback).addMap({api_name:e}).flush(l),new Om(l.finish()).flush(),null==n?void 0:n(t)}):u=n,this.invokeCallbackMap[f]=u,"openSchema"===e&&this.reserveInvokeCallbackIds.push(f),"native"!==o){var p=r?"call":"invoke",v=this.host.webkit;if(s){var g=this.host.baseBridge.invoke(e,t,f,{traceId:l.traceId});this.checkSyncInvokeResult(g,f)}else if(this.host.ttJSCore){var m,y=[];i&&(y[0]=i),c&&(y[1]={api_trace:l.traceId});var b=(m=this.host.ttJSCore)[p].apply(m,[e,t,f].concat(y));this.checkSyncInvokeResult(b,f)}else{var _={event:e,paramsString:t,callbackId:f};v.messageHandlers[p].postMessage(_)}}else this.host.ttJSCore.publishNative(e,t,i)},t.publish=function(e,t,n,r){var o,i=pb((function(){return JSON.stringify(n)})),a=pb((function(){return JSON.stringify({__POST_TIME__:(new Date).valueOf(),__WRAPPER__:!0,data:t})})),s=this.host,c=s.webkit,u=s.ttJSCore,l=r?[r]:[];return this.shouldUseV8port()?(o=this.host.v8port).publish.apply(o,[e,a(),n].concat(l)):this.host.agent.isSupportNewBridge?this.host.baseBridge.publish(e,t,n,r,this.shouldUseV8port()):u?u.publish.apply(u,[e,a(),i()].concat(l)):c.messageHandlers.publish.postMessage({event:e,paramsString:a(),webviewIds:i(),appKey:r})},t.checkSyncInvokeResult=function(e,t){if(void 0!==e&&"function"==typeof this.invokeCallbackMap[t]&&""!==e&&null!==e){"object"==typeof e&&e.sync_response&&(e=e.sync_response);try{"string"==typeof e&&(e=JSON.parse(e)),e=hb.unpack2(e)}catch(t){e=JSON.parse("{}")}var n=e.errMsg&&e.errMsg.indexOf(":cancel")>=0,r=e.errMsg&&e.errMsg.indexOf(":fail")>=0,o={callbackType:n?"cancel":r?"failure":"success",data:e,callbackID:""+t,extra:{}};this.invokeCallbackMap[t](o),delete this.invokeCallbackMap[t]}},t.invokeHandler=function(e,t){"string"==typeof t&&(t=JSON.parse(t));var n=!1,r=!1;"string"==typeof(t=hb.unpack2(t)).errMsg&&(n=t.errMsg.indexOf(":cancel")>=0,r=t.errMsg.indexOf(":fail")>=0);var o={callbackType:n?"cancel":r?"failure":"success",data:t,callbackID:""+e,extra:{}};this.invokeCallback(o)},t.subscribeHandler=function(e,t,n,r,o){var i={callbackType:"continued",data:t,callbackID:e,extra:{webviewId:n,appKey:null!=o?o:""}};this.invokeCallback(i)},t.nativeCallBack=function(e){var t=e.data,n=e.extra,r=void 0===n?{}:n,o=e.callbackType;if("string"==typeof r&&(r=JSON.parse(r)),"ccm"!==r.bizDomain)"continued"!==o&&("string"==typeof t&&(t=JSON.parse(t)),t=hb.unpack2(t),e.data=t),this.invokeCallback(e);else for(var i=0;i<this.overrideCallback.length;i++){var a;null==(a=this.overrideCallback[i])||a.nativeCallBack(e)}},t.invokeCallback=function(e){var t=e.callbackID,n=e.data,r=e.callbackType,o=e.extra,i=void 0===o?{}:o,a=i.appKey,s=i.webviewId;if("continued"===r)this.host.emitSubscribeEvent(null!=a?a:"",t,n,s);else{var c=this.invokeCallbackMap[+t];"function"==typeof c&&c(e),delete this.invokeCallbackMap[+t]}},e}();!function(e){e[e.NOT_STARTED=1]="NOT_STARTED",e[e.ACCOUNTING=2]="ACCOUNTING",e[e.WAITING_FOR_CLOSE=3]="WAITING_FOR_CLOSE",e[e.CLOSED=4]="CLOSED"}(bb||(bb={})),function(e){e[e.TTI_CALLED=1]="TTI_CALLED",e[e.TTI_DETECTED=2]="TTI_DETECTED"}(_b||(_b={}));var Tb=function(){function e(e){this.status=void 0,this.store=void 0,this.windowWidth=void 0,this.postTimeQueue=void 0,this.currentHandleStart=void 0,this.lastHandleEnd=void 0,this.lastRAtime=void 0,this.ttiCount=void 0,this.worldStartTime=void 0,this.worldEndTime=void 0,this.nonIdleTime=void 0,this.potentialTTI=void 0,this.calledTTI=void 0,this.launchHooks=void 0,this.status=bb.NOT_STARTED,this.store=[],this.windowWidth=null!=e?e:100,this.postTimeQueue=[],this.currentHandleStart=0,this.lastHandleEnd=0,this.lastRAtime=0,this.ttiCount=0,this.worldStartTime=0,this.worldEndTime=0,this.nonIdleTime=0,this.potentialTTI=0,this.calledTTI=0,this.launchHooks=[]}var t=e.prototype;return t.launched=function(){return!(this.status===bb.NOT_STARTED)},t.closed=function(){return this.status===bb.CLOSED},t.launch=function(e){var t=this;this.status===bb.NOT_STARTED&&(this.worldStartTime=e,this.status=bb.ACCOUNTING,this.launchHooks.forEach((function(e){e(t)})))},t.isEmpty=function(){return 0===this.store.length},t.callTTI=function(){var e=(new Date).valueOf();this.calledTTI=e,this.worldEndTime=e},t.detectTTI=function(){var e=this;return new Promise((function(t,n){var r=!1;setTimeout((function(){r=!0}),15e3);requestAnimationFrame((function o(){if(r)return e.stopAccounting((new Date).valueOf()),t(0);var i=e.lastRAtime;if([bb.WAITING_FOR_CLOSE,bb.CLOSED].includes(e.status))return t(-1);var a=(new Date).valueOf();if(e.lastRAtime=a,i>0&&a-i<20?e.ttiCount+=1:(e.ttiCount=0,e.potentialTTI=a),e.ttiCount>=30)return setTimeout((function(){if(!e.closed())return e.stopAccounting(e.potentialTTI),t(e.potentialTTI);n(new Error("already closed by another route(probably reportTTI api called by usr)"))}),500);requestAnimationFrame(o)}))}))},t.stopAccounting=function(e){this.store.length&&(this.closed()||(this.worldEndTime=e,this.status=bb.CLOSED,this.cutStore(e)))},t.generateReport=function(){try{return{strLenSta:this.getStatistics("strLen"),timeCostSta:this.getStatistics("timeCost"),strLenMax:this.getMax("strLen"),timeCostMax:this.getMax("timeCost"),workTimeRatio:this.nonIdleTime/(this.worldEndTime-this.worldStartTime)}}catch(e){return null}},t.cutStore=function(e){var t=this.store;if(t.length)for(var n=t.length-1;n>-1;n--)t[n].receiveTime>e&&t.pop()},t.addHandleStartPoint=function(){this.currentHandleStart=(new Date).valueOf()},t.addHandleEndPoint=function(){var e=(new Date).valueOf();this.nonIdleTime+=e-this.currentHandleStart},t.addPoint=function(e,t,n,r,o){var i,a,s;if(this.closed())return!1;if(!(t=null!=(i=null!=(a=t)?a:null==r?void 0:r.__POST_TIME__)?i:0))return!1;var c="batch_publish"===e&&null!=r&&null!=(s=r.publishQueue)&&s.length?r.publishQueue.length:0,u=null!=r&&r.publishQueue?Array.from(new Set(r.publishQueue.map((function(e){return e.custom_ev})))).join(" & "):e,l=this.getNumBatchsInWidth(t),f=n-t;return this.store.push({postTime:t,receiveTime:n,strLen:o,batchNum:c,eventType:u,numPubInWindow:l,timeCost:f}),this.status===bb.NOT_STARTED&&(this.launch(n),!0)},t.onLaunch=function(e){var t=this;return this.launchHooks.push(e),function(){var n=t.launchHooks.indexOf(e);-1!==n&&t.launchHooks.splice(n,1)}},t.getStatistics=function(e){var t=this.store.length;if(!t)throw new Error("no pubsub recorded!");var n=this.store.map((function(t){return t[e]})).sort((function(e,t){return e<t?-1:e>t?1:0}));return{min:n[0],max:n[t-1],average:n.reduce((function(e,t){return t+e}),0)/t,median:Eb(n),num:t}},t.getMax=function(e){var t=this.store;if(!t.length)throw new Error("no pubsub recorded!");for(var n=0,r=t[0][e],o=1;o<t.length;o++){var i=t[o][e];i<=r||(r=i,n=o)}return t[n]},t.getNumBatchsInWidth=function(e){for(var t=this.postTimeQueue,n=e-this.windowWidth;t.length&&!(t[0]>=n);)t.shift();return t.push(e),t.length-1},vs(e,[{key:"getStatus",get:function(){return this.status}}]),e}();function Eb(e){var t=e.length;if(!t)return 0;if(t%2==1)return e[Math.floor(t/2)];var n=Math.floor(t/2);return(e[n]+e[n+1])/2}var Cb,Ib=function(){function e(e){this.host=e}var t=e.prototype;return t.invoke=function(e,t,n,r){var o;return Object.assign({},null!=r&&r.traceId?{api_trace:r.traceId}:{}),this.host.ttJSCore.invoke(e,t,n,null!=(o=null==r?void 0:r.appKey)?o:""),this.host.agent.isIOS&&this.host.agent.isWebview?void 0:undefined},t.publish=function(e,t,n,r,o){var i=pb((function(){return JSON.stringify(n)})),a=pb((function(){return JSON.stringify(t)}));this.host.ttJSCore.publish(e,a(),i(),r)},e}(),Ab=r(o((function(e){function t(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,c,"next",e)}function c(e){t(a,o,i,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0}))),Mb=em,Ob=function(e){function t(){var t,n,r;return(r=e.call(this)||this).global=new Function("return this;")(),r.eval=r.global.eval,r.webkit=r.global.webkit,r.ttJSBridge=new kb(cb(r),new Tb),r.baseBridge=new Ib(cb(r)),r.v8port=r.global.v8port,r.reporter=new Dy(cb(r)),r.emitter=new Py.EventEmitter2({maxListeners:0}),r.runningSpace=void 0,r.agent=void 0,r._platform=(null==(t=r.global.TMAConfig)?void 0:t.platform)||(null==(n=r.global.nativeTMAConfig)?void 0:n.platform),r._isiOS9="ios"===r._platform&&r.global.nativeTMAConfig&&/^9.?/.test(r.global.nativeTMAConfig.sysVersion),r._isPc="pc"===r._platform,r.isSupportArrayBuffer=!r._isiOS9&&!r._isPc,r.containerStore=new Map,r.containerEventList=[],r.subscribeContainerEvent=r.subscribeContainerEvent.bind(cb(r)),r.onContainerEvent=r.onContainerEvent.bind(cb(r)),r}am(t,e);var n=t.prototype;return n.setup=function(){this.global.Reporter=this.reporter,this.ttJSCore&&this._overwriteTTJSCore(),this.webkit&&this._overwriteWebkit(),this.injectToGlobal(this.global)},n.injectToGlobal=function(e){var t=this.ttJSBridge,n=t.invokeHandler,r=t.subscribeHandler,o=t.nativeCallBack,i=t.overrideCallback;(e=e||self).ttJSBridge={get invokeHandler(){return n},get callHandler(){return n},get subscribeHandler(){return r}},e.LarkWebViewJavaScriptBridge={get nativeCallBack(){return o}},Object.defineProperty(e,"LarkWebViewJavaScriptBridge",{set:function(e){i.push(e)},get:function(){return{nativeCallBack:o}}})},n.getContainer=function(e){return this.containerStore.get(e)},n.setContainer=function(e){this.containerStore.set(e.appKey,e);for(var t,n=function(){var n=t.value,r=n.type,o=n.event,i=n.cb;e.bridge[r](o,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.apply(void 0,[e].concat(n))}))},r=ls(this.containerEventList);!(t=r()).done;)n();ys(e)},n.delContainer=function(e){var t="string"==typeof e?this.getContainer(e):e;t&&this.containerStore.delete(t.appKey)},n.destroyContainer=function(e){var t="string"==typeof e?this.getContainer(e):e;t&&(bs(t),this.delContainer(e))},n.onContainerCreated=function(e){this.emitter.on("private_container_created",e)},n.emitSubscribeEvent=function(e,t,n,r){var o=this.getContainer(e);o?o.emitSubscribeEvent(t,n,r):ps.warn("无法找到对应的容器："+e)},n.onContainerEvent=function(e,t){var n=this.wrapSafeCall(t);this.containerEventList.push({type:"on",event:e,cb:n});for(var r=function(){var t=i[o];t.bridge.on(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(void 0,[t].concat(r))}))},o=0,i=Array.from(this.containerStore.values());o<i.length;o++)r()},n.subscribeContainerEvent=function(e,t){var n=this.wrapSafeCall(t);this.containerEventList.push({type:"subscribe",event:e,cb:n});for(var r=function(){var t=i[o];t.bridge.subscribe(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(void 0,[t].concat(r))}))},o=0,i=Array.from(this.containerStore.values());o<i.length;o++)r()},n.wrapSafeCall=function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];try{return e.apply(void 0,r)}catch(e){t.handleCallbackError(e,r)}}},n._overwriteTTJSCore=function(){},n._overwriteWebkit=function(){var e=this;this.global.webkit={messageHandlers:{invoke:{postMessage:function(t){return e.webkit.messageHandlers.invoke.postMessage(t)}},invokeNative:{postMessage:function(t){return e.webkit.messageHandlers.invokeNative.postMessage(t)}},editorBridge:{postMessage:function(t){return e.webkit.messageHandlers.editorBridge.postMessage(t)}},onDocumentReady:{postMessage:function(t){return e.webkit.messageHandlers.onDocumentReady.postMessage(t)}}}}},n.handleCallbackError=function(e,t){ps.error(e)},vs(t,[{key:"ttJSCore",get:function(){return this.global.ttJSCore}},{key:"larkBridge",get:function(){return this.global.Lark_Bridge}}]),t}(ms),Rb=function(e){function t(t){var n;return(n=e.call(this)||this).appKey=t,n.bridge=void 0,n.host=void 0,n}return am(t,e),t.prototype.emitSubscribeEvent=function(e,t,n){this.bridge.handleSubscribeEvent(e,t,n)},t}(ms),xb="onAppEnterBackground",Pb="onAppEnterForeground",Nb={needCache:["showModal","showToast","showActionSheet","hideToast","showLoading","showPrompt","openSetting"],needDisabled:["onAccelerometerChange","onCompassChange"]},jb=["readFile","readFileSync","writeFileSync","writeFile","createRequestTask","createSocketTask","operateSocketTask","createWorker"],Lb=function(e){function t(t,n,r,o){var i;return(i=e.call(this)||this).appKey=t,i.bridge=n,i.isSupportArrayBuffer=r,i.isSupportNewBridge=o,i.eventMap={},i.customEventMap={},i.hostEventMap={},i.invokeTaskCache=[],i.isBatchingPublish=!1,i.publishQueue=[],i.onAppEnterBackground=!1,i.on=i.on.bind(cb(i)),i.publish=i.publish.bind(cb(i)),i.invoke=i.invoke.bind(cb(i)),i.subscribe=i.subscribe.bind(cb(i)),i.invokeMethod=i.invokeMethod.bind(cb(i)),i.onMethod=i.onMethod.bind(cb(i)),i}am(t,e),t.isHostEvent=function(e){return e.startsWith("host_event_")},t.getHostEvent=function(e){return"host_event_"+e},t.isSubscribeEvent=function(e){return e.startsWith("custom_event_")},t.getSubscribeEvent=function(e){return"custom_event_"+e},t.isOnEvent=function(e){return!this.isHostEvent(e)&&!this.isSubscribeEvent(e)},t.getOnEvent=function(e){return e};var n=t.prototype;return n.on=function(e,t){this.eventMap[e]=t},n.publish=function(e,t,n){var r;n=null!=(r=n)?r:[];var o=null!=t?t:{},i="custom_event_"+e;return this.isBatchingPublish?this.enqueuePublish({custom_ev:i,data:o,webviewIds:n},n):this.bridge.publish(i,o,n,void 0)},n.invoke=function(e,t,n,r){this._invoke(e,t,(function(t){void 0===t&&(t={});var r=t.data,o=void 0===r?{}:r;o.errMsg=o.errMsg||e+":ok",n&&"function"==typeof n&&n(o)}),r)},n._invoke=function(e,t,n,r){var o=jb.includes(e)&&this.isSupportArrayBuffer;t=o||this.isSupportNewBridge?hb.pack(t,!0):JSON.stringify(hb.pack(t,!1)),this.onAppEnterBackground&&Nb.needCache.find((function(t){return t===e}))?this.invokeTaskCache.push([e,t,n,o,void 0]):this.bridge.invoke(e,t,n,o,r,void 0)},n.subscribe=function(e,n){this.customEventMap[t.getSubscribeEvent(e)]=n},n.addHostListener=function(e,n){this.hostEventMap[t.getHostEvent(e)]=n},n.setBatchingPublish=function(e){this.isBatchingPublish=e},n.dequeuePublish=function(){var e=this.publishQueue,t=this.bridge;(null==e?void 0:e.length)>0&&(t.publish("batch_publish",{publishQueue:e},[],void 0),e.splice(0))},n.enqueuePublish=function(e,t){if(t&&t.length>0)return this.dequeuePublish(),void this.bridge.publish(e.custom_ev,e.data,e.webviewIds);this.publishQueue.push(e)},n.invokeMethod=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r={};for(var o in t)"function"==typeof t[o]&&(r[o]=t[o],delete t[o]);var i=this.assembleCallback(e,n,r);this._invoke(e,t,i,n.type)},n.assembleCallback=function(e,t,n){return function(r){void 0===r&&(r={});var o=r,i=o.callbackType,a=o.data,s=void 0===a?{}:a;s.errMsg=s.errMsg||e+":ok";var c="success"===i,u="cancel"===i,l="failure"===i;"function"==typeof t.beforeAll&&t.beforeAll(s),c?("function"==typeof t.beforeSuccess&&t.beforeSuccess(s),"function"==typeof n.success&&n.success(s),"function"==typeof t.afterSuccess&&t.afterSuccess(s)):u?("function"==typeof n.cancel&&n.cancel(s),"function"==typeof t.cancel&&t.cancel(s)):l&&("function"==typeof t.beforeFail&&t.beforeFail(s),"function"==typeof n.fail&&n.fail(s),"function"==typeof t.afterFail&&t.afterFail(s)),"function"==typeof n.complete&&n.complete(s),"function"==typeof t.afterAll&&t.afterAll(s)}},n.onMethod=function(e,t){this.on(e,t)},n.handleSubscribeEvent=function(e,n,r){var o,i,a,s,c,u,l=this;if(e===xb)this.onAppEnterBackground=!0;else if(e===Pb)for(this.onAppEnterBackground=!1;this.invokeTaskCache.length;){var f;(f=this.bridge).invoke.apply(f,this.invokeTaskCache.shift())}if(!this.onAppEnterBackground||!Nb.needDisabled.find((function(t){return t===e}))){var d=0;"string"==typeof n&&(d=n.length,n=JSON.parse(n));var h=null!=(o=null==(i=n)?void 0:i.__POST_TIME__)?o:0;if((null!=(a=n)&&a.__WRAPPER__||null!=(s=n)&&null!=(c=s.options)&&c.timestamp)&&null!=(u=n)&&u.data&&(n=n.data),h&&this.bridge.accounter.addPoint(e,h,(new Date).valueOf(),n,d),"batch_publish"===e)return n.publishQueue.forEach((function(e){var t=e.custom_ev,n=e.data;return l.handleSubscribeEvent(t,n,r)}));n=hb.unpack2(n);var p=t.isHostEvent(e)?this.hostEventMap[e]:t.isSubscribeEvent(e)?this.customEventMap[e]:this.eventMap[e];"function"==typeof p&&p(n,r)}},t}(ms);!function(e){e.MOBILE="mobile",e.PC="pc",e.PC_SIDEBAR="pc_sidebar",e.PC_WINDOW="pc_window",e.IDE="lark_ide"}(Cb||(Cb={}));var Db=function(){function e(e){this.host=e}return vs(e,[{key:"mode",get:function(){var e=Cb.MOBILE;return e=Cb.PC,"undefined"!=typeof window&&window&&window.PC_RUN_MODE&&(e="mobile"===window.PC_RUN_MODE?Cb.PC_SIDEBAR:Cb.PC_WINDOW),e}},{key:"isPC",get:function(){return this.mode===Cb.PC||this.mode===Cb.PC_SIDEBAR||this.mode===Cb.PC_WINDOW}},{key:"isMobile",get:function(){return this.mode===Cb.MOBILE}},{key:"isIDE",get:function(){return this.mode===Cb.IDE}},{key:"devtool",get:function(){return!1}}]),e}();function Bb(e,t,n,r,o,i){if(t===e)return!1;var a=i.getParent,s=i.getShadowRootHost,c=i.isShadowRoot,u=i.getID,l=i.getClassName,f=i.getTagName,d=!0,h=n[r],p=h.id,v=h.classes,g=h.tagName,m=h.combinator;p&&p!==u(t)&&(d=!1),g&&g!==f(t).toUpperCase()&&(d=!1);for(var y=l(t).split(" "),b=0;d&&b<v.length;b++)y.includes(v[b])||(d=!1);if(!d&&">"===o)return!1;var _=t;if(d&&0===r){if(null===e)return!0;for(_=a(_);_;_=a(_))if(_===e)return!0;if(">>>"!==o)return!1;_=t,d=!1}var w=d?m:o;do{a(_)?_=a(_):">>>"===w?_=s(_):">>>"===o?(d=!1,_=s(_)):_=null,_===e&&(_=null)}while(_&&c(_));if(!_)return!1;if(d){if(Bb(e,_,n,r-1,w,i))return!0;if(">>>"!==o)return!1}return Bb(e,_,n,r,o,i)}function Fb(e,t,n,r,o,i){var a,s=o.getChildren,c=o.getShadowRoot,u=o.isCustomComponent;if(function(e,t,n,r){var o=e.groups;if((0,r.isShadowRoot)(n))return!1;for(var i,a=ls(o);!(i=a()).done;){var s=i.value;if(Bb(t,n,s,s.length-1,">",r))return!0}return!1}(t,n,r,o)&&(e.push(r),i))return!0;if(u(r)&&(a=c(r))&&t.isPermeable&&Fb(e,t,n,a,o,i)&&i)return!0;for(var l=s(r),f=0;f<l.length;f++){if(Fb(e,t,n,l[f],o,i)&&i)return!0}return!1}function Ub(e){for(var t=e.split(","),n=[],r=!1,o=0;o<t.length;o++){for(var i=t[o].split(/( |\t|>+)/g),a=[],s=0,c="";s<i.length;s++){var u=i[s];if(u&&" "!==u&&"\t"!==u)if(">"!==u[0]){var l=qb(u,c);if(c="",!l)break;a.push(l)}else{if(""!==c)break;c=u,">>>"===u&&(r=!0)}}s===i.length&&(a.length&&n.push(a))}return 0===n.length?null:{isPermeable:r,groups:n}}function qb(e,t){void 0===t&&(t="");var n=e.match(/^([_a-zA-Z][-_a-zA-Z0-9]*|)(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/);if(!n)return null;var r=n[1].toUpperCase(),o=n[2].slice(1),i=n[3].split(".");return i.shift(),o||i.length||r?{id:o,tagName:r,classes:i,combinator:t}:null}function Wb(e,t,n){if(null==t)return null;var r="string"==typeof e?Ub(e):e;if(null==r)return null;var o=[];return Fb(o,r,t,t,n,!0),o[0]||null}function Vb(e,t,n){if(null==t)return[];var r="string"==typeof e?Ub(e):e;if(null==r)return[];var o=[];return Fb(o,r,t,t,n,!1),o}var zb=function(){function e(){}var t=e.prototype;return t.initializeRelation=function(e,t){for(var n in e.ancestors=(null==t?void 0:t.ancestors)||[],e.relationMap=(null==t?void 0:t.relationMap)||{},e.relationLinks={},e.relations={},e.relationMap){var r=e.relationMap[n];e.relationLinks[n]=[];for(var o=0,i=r.length;o<i;o++){var a=r[o];e.relationLinks[n].push(null),e.relations[a.originalKey]=a}}},t.getNewParentNode=function(e,t,n){for(var r=this.getRelationInformation(e),o=null,i=this.getParent(e);i;i=this.getParent(i)){var a=this.getRelationInformation(i);if(null!=a&&a.ancestors&&t.target&&a.ancestors.indexOf(t.target)>-1)for(var s=n?a.relationMap.child:a.relationMap.descendant,c=0,u=s.length;c<u;c++){var l=s[c];if(l.target&&r&&r.ancestors.indexOf(l.target)>-1){o={parent:i,relation:l};break}}if(n||o)break}return o},t.getRelations=function(e,t){var n,r=this.getRelationInformation(t),o=null==r||null==(n=r.relations)?void 0:n[e];if(!o)return null;var i=o.type;if("parent"!==i&&"ancestor"!==i){var a="child"===i,s=[];return this.travels(t,t,a,e,s),s}for(var c=r.relationLinks[i],u=r.relationMap[i],l=0,f=c.length;l<f;l++){var d=c[l];if(d&&u[l].originalKey===e)return[d.parent]}return[]},t.travels=function(e,t,n,r,o){for(var i=this,a=this.getChildren(t),s=function(t){var s=a[t],c=i.getRelationInformation(s);if(null!=c&&c.relationLinks){var u=n?null==c?void 0:c.relationLinks.parent:null==c?void 0:c.relationLinks.ancestor;u&&u.some((function(t){return!(!t||t.parent!==e||t.relation.originalKey!==r)&&(o.push(s),!0)}))}!n&&i.isTravelable(s)&&i.travels(e,s,n,r,o)},c=0;c<a.length;c++)s(c)},e}(),Gb=/^tt[0-9a-f]{16}$/;function Hb(e){return Object.prototype.toString.call(e).slice(8,-1)}function Kb(e){return"Object"===Hb(e)}function Jb(e){return"Function"===Hb(e)}function $b(e){return"Number"===Hb(e)}var Yb=Number.isNaN||function(e){return e!=e};var Qb=Array.isArray||function(e){return"Array"===Hb(e)};function Xb(e,t){for(var n in t){var r=t[n];if(r.required&&!e.hasOwnProperty(n))return n+" should not be undefined";if(e.hasOwnProperty(n)){var o=Hb(e[n]),i=r.type;if(o!==i)return n+" should pass "+i+", not "+o}}return!1}function Zb(e,t,n){void 0===n&&(n="param");var r=Hb(e),o=Hb(t);if(r!==o)return n+" should pass "+o+", not "+r;var i="";switch(o){case"Object":for(var a in t)i+=Zb(e[a],t[a],n+"."+a);break;case"Array":if(e.length<t.length)return n+" should have more than "+t.length+" items, not "+e.length+" items";for(var s=0;s<t.length;++s)i+=Zb(e[s],t[s],n+"["+s+"]")}return i}function e_(){return"ios"===(Kb(TMAConfig)?TMAConfig.platform:"")}function t_(){return Kb(TMAConfig)?TMAConfig.appId:""}function n_(e,t){if(void 0===t&&(t=!1),void 0===e||"object"!=typeof e)return e;var n=[];for(var r in e)if(e.hasOwnProperty(r))if(t)try{n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))}catch(t){n.push(r+"="+e[r])}else n.push(r+"="+e[r]);return n.join("&")}function r_(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&Object.keys(t).length>0){var n=function(e){if("string"==typeof e){var t=e.split("?");return{urlQueryObj:(t[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("=");e[n[0]]=n[1]}return e}),{}),prefix:t[0]}}return{}}(e),r=n.urlQueryObj,o=void 0===r?{}:r,i=n.prefix;return(void 0===i?"":i)+"?"+n_(i_(o,Object.keys(t).reduce((function(e,n){return"object"==typeof t[n]?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e}),{})))}return e}function o_(e,t){return void 0===t&&(t="http"),"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function i_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)e[n]=t[n];return e}),{})}function a_(e){if("string"==typeof e){var t=e.split("?"),n=t[0],r=(t[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("=");e[n[0]]=n[1]}return e}),{}),o=[];for(var i in r)r.hasOwnProperty(i)&&o.push(i+"="+encodeURIComponent(r[i]));e=o.length>0?n+"?"+o.join("&"):e}return e}function s_(){return"xxxxxxxx".replace(/x/g,(function(){return(16*Math.random()|0).toString(16)}))}function c_(e){return Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]?t[n]=""+e[n]:t[n]=Object.prototype.toString.apply(e[n]),t}),{})}function u_(e){return Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]||"boolean"==typeof e[n]?t[n]=""+e[n]:t[n]=Object.prototype.toString.apply(e[n]),t}),{})}function l_(e,t){var n,r=e.split("."),o=t.split(".");for(n=Math.max(r.length,o.length);r.length<n;)r.push("0");for(;o.length<n;)o.push("0");for(var i=0;i<n;i++){var a=parseInt(r[i]),s=parseInt(o[i]);if(a>s)return 1;if(a<s)return-1}return 0}function f_(e,t){return Ky(e,{errMsg:t,context:e})}function d_(e,t){return Jy(e,t)}var h_=f_((function(e){var t=Object.prototype.toString.call(e).split(" ")[1].split("]")[0];return{data:e="Array"===t||"Object"===t?JSON.stringify(e):"String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"",dataType:t}}),"anyTypeToString");var p_=f_((function(e,t){switch(t){case"String":return e;case"Array":case"Object":return JSON.parse(e);case"Number":return parseFloat(e);case"Boolean":return"true"===e;case"Date":return new Date(parseInt(e));case"Undefined":return;case"Null":return null;default:return""}}),"stringToAnyType"),v_=function(e){function t(t){var n;return(n=e.call(this,"APP-SERVICE-SDK:"+t)||this).type="AppServiceSdkKnownError",n}return am(t,e),t}(xy(Error)),g_=function(e){function t(t){var n;return(n=e.call(this,""+t)||this).type="ThirdScriptError",n}return am(t,e),t}(xy(Error)),m_=function(e){function t(t){var n;return(n=e.call(this,""+t)||this).type="ThirdScriptError",n}return am(t,e),t}(xy(TypeError));function y_(e){return"String"===Hb(e)}var b_={String:!1,NaN:"<NaN>",Infinity:function(e){return e>0?"<Infinity>":"<-Infinity>"},Number:!1,Boolean:!1,Null:!1,Undefined:"<Undefined>",Function:function(e){return""===e.name?"<Function>":"<Function: "+e.name+">"},Date:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<Date: "+e.toJSON()+">"})),RegExp:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<RegExp: "+e.toString()+">"})),Error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<"+(e.stack||e.name+": "+e.message)+">"})),Symbol:function(e){return"<Symbol: "+e.toString()+">"},Promise:"<Promise>",Map:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<Map: size="+e.size+">"})),WeakMap:"<WeakMap>",Set:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<Set: size="+e.size+">"})),WeakSet:"<WeakSet>",ArrayBuffer:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<ArrayBuffer: byteLength="+e.byteLength+">"})),DataView:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<DataView: byteLength="+e.byteLength+", byteOffset="+e.byteOffset+">"})),TypedArray:function(e){var t;return"<"+(null!=(t=e.constructor)&&t.name?e.constructor.name:"TypedArray")+": byteLength="+e.byteLength+", length="+e.length+">"}};function __(e){var t=new WeakMap;return function e(n,r){var o,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0,a=e[Symbol.iterator]();try{for(var s;!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}catch(e){}if(o)throw i}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e){var t=function(e){var t=Hb(e);if("Number"===t){if(Yb(e))return"NaN";if(function(e){return $b(e)&&Math.abs(e)===1/0}(e))return"Infinity"}else if("Object"===t){if(function(e){return null===e}(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&function(e){return ArrayBuffer.isView(e)&&!("DataView"===Hb(e))}(e))return"TypedArray";return t}(e);return t in b_?b_[t]?Jb(b_[t])?[b_[t](e),!0]:[b_[t],!0]:[e,!0]:[null,!1]}(n),2),a=i[0];return i[1]?a:t.has(n)?"<Circular: "+t.get(n)+">":(t.set(n,r),Qb(n)?n.map((function(t,n){return e(t,r+"["+n+"]")})):(o={},Object.keys(n).forEach((function(t){o[t]=e(n[t],r+"."+t)})),o))}(e,"@")}function w_(e){try{return e=Array.from(e).map(__)}catch(e){return void ps.warn("[console] This object can't be logged")}}function S_(e){return"function"==typeof e||!1}function k_(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}var T_="undefined"!=typeof Symbol?Symbol.prototype:null,E_=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&C_(e,t,n,r)},C_=function(e,t,n,r){var o=toString.call(e);if(o!==toString.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return T_.valueOf.call(e)===T_.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(S_(a)&&a instanceof a&&S_(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),i){if((c=e.length)!==t.length)return!1;for(;c--;)if(!E_(e[c],t[c],n,r))return!1}else{var u,l=Object.keys(e);if(c=l.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!k_(t,u=l[c])||!E_(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};function I_(e,t){void 0===e&&(e=""),void 0===t&&(t=!0),ps.log("dealQueryString",e);var n={};return"string"==typeof e&&""!==e&&e.split("&").forEach((function(e){var r=e.split("=");r[0]&&(n[r[0]]=t?decodeURIComponent(r[1]||""):r[1]||"")})),ps.log("dealQueryString",n),n}function A_(e,t,n){var r=new WeakMap;return{on:function(o){if("function"==typeof o){var i=r.get(o)||(n?n(o):o);r.set(o,i),e.on(t,i)}},off:function(n){if(void 0===n)e.removeAllListeners(t);else if("function"==typeof n){var o=r.get(n);o&&e.off(t,o)}}}}var M_="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function O_(e,t,n){for(var r=0,o=Object.entries(t);r<o.length;r++){var i=o[r],a=i[0],s=n(a,i[1],e.prototype);if(!s)break;var c={configurable:!0,enumerable:!1};"function"==typeof s?c.value=s:Object.assign(c,s),Object.defineProperty(e.prototype,a,c)}return!0}var R_,x_=0;function P_(){return"02"+String(Date.now()).slice(-13)+(ws().agent.randomDeviceId||function(e){void 0===e&&(e=20);for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*M_.length);t+=M_[r]}return t}(32))+(x_++%2176782336).toString(32).padStart(6,"0")}!function(e){e.GADGET="GADGET",e.BLOCKIT="BLOCKIT"}(R_||(R_={}));var N_,j_,L_,D_="GADGET";!function(e){e.TAP_SHARE_BUTTON="tapShareButton",e.ON_DESTROY_WEBVIEW="onDestroyWebview",e.ON_PAGE_RELOAD="onPageReload",e.ON_PULL_DOWN_REFRESH="onPullDownRefresh",e.ON_SHARE_APP_MESSAGE="onShareAppMessage",e.ON_SAVE_EXIT_STATE="onSaveExitState",e.ON_APP_ENTER_BACKGROUND="onAppEnterBackground",e.ON_APP_ENTER_FOREGROUND="onAppEnterForeground",e.ON_APP_LAUNCH="onAppLaunch",e.ON_APP_ROUTE="onAppRoute"}(N_||(N_={})),function(e){e.NAVIGATE_TO="navigateTo",e.REDIRECT_TO="redirectTo",e.NAVIGATE_BACK="navigateBack",e.SWITCH_TAB="switchTab",e.APP_LAUNCH="appLaunch",e.RE_LAUNCH="reLaunch",e.AUTO_RELAUNCH="autoReLaunch",e.RESTORE_TO="restoreTo",e.APP_RESTORE_LAUNCH="appRestoreLaunch",e.APP_ROUTE_DESTROY="appRouteDestroy"}(j_||(j_={})),function(e){e.DEFAULT="default",e.CLONE="clone",e.ACTIVATE="activate"}(L_||(L_={}));var B_=[],F_=[];function U_(){var e;(e=ws().getContainer(D_).bridge).publish.apply(e,arguments)}function q_(e,t){var n=ws();n?n.subscribeContainerEvent(e,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.apply(e,r)})):B_.push([e,t])}function W_(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),t=Object.assign({},t);for(var o={},i=0,a=Object.entries(t);i<a.length;i++){var s=a[i],c=s[0];"function"==typeof s[1]&&(o[c]=d_(t[c],"at api "+e+" "+c+" callback function"),delete t[c])}for(var u,l={},f=ls(Object.entries(n));!(u=f()).done;){var d=u.value,h=d[0],p=d[1];"function"==typeof p&&(l[h]=d_(p,"at api "+e+" "+p+" callback function"),l[h]._argumentsLength=p.length)}!function(e,t,n){ws().getContainer(D_).bridge._invoke(e,t,n)}(e,t,(function(n){var i=n.callbackType,a=n.data,s=void 0===a?{}:a;s.errMsg=s.errMsg||e+":ok";var c="success"===i,u="cancel"===i,f="failure"===i;if(null==l.beforeAll||l.beforeAll(s),c){var d=function(){null==o.success||o.success(s),null==l.afterSuccess||l.afterSuccess(s)};"function"==typeof l.beforeSuccess?2===l.beforeSuccess._argumentsLength?l.beforeSuccess(s,d,r):(l.beforeSuccess(s,z_,r),d()):d()}else u?(s.errMsg=s.errMsg.replace(e+":cancel",e+":fail cancel"),null==o.fail||o.fail(s),null==l.beforeCancel||l.beforeCancel(s),null==o.cancel||o.cancel(s),null==l.afterCancel||l.afterCancel(s)):f&&(null==l.beforeFail||l.beforeFail(s),null==o.fail||o.fail(s),null==l.afterFail||l.afterFail(s));null==o.complete||o.complete(s),null==l.afterAll||l.afterAll(s),"callHostMethod"!==e&&"callHostMethodSync"!==e||"string"!=typeof t.method||(e=t.method)}))}function V_(e,t){!function(e,t){var n=ws();n?n.onContainerEvent(e,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.apply(e,r)})):F_.push([e,t])}(e,d_(t,"at api "+e+" callback function"))}function z_(){}function G_(e,t,n){var r=Zb(t,n);return!r||(H_(e,t,r),!1)}function H_(e,t,n){void 0===t&&(t={}),void 0===n&&(n="");var r={errMsg:e+":fail "+n};d_(t.fail||z_,r.errMsg)(r),d_(t.complete||z_,r.errMsg)(r)}function K_(e,t,n,r,o,i){void 0===t&&(t={}),void 0===n&&(n=!0),void 0===r&&(r=""),void 0===o&&(o=void 0),void 0===i&&(i={});var a=n?e+":ok":e+":fail "+r;n||ps.error(a);var s=d_((n?t.success:t.fail)||z_,"at api "+e+" "+(n?"success":"fail")+" callback function"),c=d_(t.complete||z_,"at api "+e+" complete callback function");i.errMsg=a,"number"==typeof o&&(i.errCode=o),s(i),c(i)}function J_(e,t,n){var r=t.replace(/\.html\?.*|\.html$/,"");return r=r.replace(/\?.*$/,""),TMAConfig.pages.includes(r)||(H_(e,n,'url "'+function(e){return"string"==typeof e?e.includes("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}(t)+'" is not in app.json'),!1)}Ss((function(e){for(var t,n=function(){var n=t.value,r=n[0],o=n[1];e.subscribeContainerEvent(r,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.apply(e,n)}))},r=ls(B_);!(t=r()).done;)n();for(var o,i=function(){var t=o.value,n=t[0],r=t[1];e.onContainerEvent(n,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.apply(e,n)}))},a=ls(F_);!(o=a()).done;)i()}));V_("onMetaUpdated",(function(e){var t=getApp(),n=t&&t.onMetaUpdated;n&&n(e)}));var $_=new Py;Ss((function(e){e.reporter.registerErrorListener(d_((function(e){$_.emit("_error",{message:e,stack:""})}),"at onError callback function"));var t=e.global.TMAConfig.platform;"android"===t||"ide"===t?e.global.__onerror__=function(t){e.reporter.thirdErrorReport({error:t,extend:"",isUncatch:!0})}:V_("_error",(function(t){void 0===t&&(t={}),e.reporter.thirdErrorReport({error:t,extend:"",isUncatch:!0})}))}));var Y_=o((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0})),Q_=o((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0})),X_=o((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0})),Z_=o((function(e){e.exports=function(e){return Y_(e)||Q_(e)||us(e)||X_()},e.exports.default=e.exports,e.exports.__esModule=!0})),ew=o((function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),tw=o((function(e){var t=ew.default;e.exports=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.default=e.exports,e.exports.__esModule=!0})),nw=o((function(e){var t=ew.default;e.exports=function(e){var n=tw(e,"string");return"symbol"===t(n)?n:String(n)},e.exports.default=e.exports,e.exports.__esModule=!0})),rw=r(o((function(e){function t(){t=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var o=t.placement;if(t.kind===r&&("static"===o||"prototype"===o)){var i="static"===o?e:n;this.defineClassElement(i,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!o(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var a=this.decorateConstructor(n,t);return r.push.apply(r,a.finishers),a.finishers=r,a},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],o=e.decorators,i=o.length-1;i>=0;i--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,o[i])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var u=c.extras;if(u){for(var l=0;l<u.length;l++)this.addElementPlacement(u[l],t);n.push.apply(n,u)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var o=this.fromClassDescriptor(e),i=this.toClassDescriptor((0,t[r])(o)||o);if(void 0!==i.finisher&&n.push(i.finisher),void 0!==i.elements){e=i.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return Z_(e).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=nw(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:n,placement:r,descriptor:Object.assign({},o)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(o,"get","The property descriptor of a field descriptor"),this.disallowProperty(o,"set","The property descriptor of a field descriptor"),this.disallowProperty(o,"value","The property descriptor of a field descriptor"),i.initializer=e.initializer),i},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:a(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=a(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function n(e){var t,n=nw(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function r(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function o(e){return e.decorators&&e.decorators.length}function i(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function a(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}e.exports=function(e,a,s,c){var u=t();if(c)for(var l=0;l<c.length;l++)u=c[l](u);var f=a((function(e){u.initializeInstanceElements(e,d.elements)}),s),d=u.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===c.key&&e.placement===c.placement},a=0;a<e.length;a++){var s,c=e[a];if("method"===c.kind&&(s=t.find(n)))if(i(c.descriptor)||i(s.descriptor)){if(o(c)||o(s))throw new ReferenceError("Duplicated methods ("+c.key+") can't be decorated.");s.descriptor=c.descriptor}else{if(o(c)){if(o(s))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+c.key+").");s.decorators=c.decorators}r(c,s)}else t.push(c)}return t}(f.d.map(n)),e);return u.initializeClassElements(f.F,d.elements),u.runClassFinishers(f.F,d.finishers)},e.exports.default=e.exports,e.exports.__esModule=!0}))),ow=r(o((function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0}))),iw=["checkParams","beforeInvokeHook","paramsTransformer"],aw=function(){};function sw(e,t){void 0===t&&(t={});var n=t,r=n.checkParams,o=n.beforeInvokeHook,i=n.paramsTransformer,a=ow(n,iw);return function(n){void 0===n&&(n={});var s=new Map;if(!r||null!=G_&&G_(e,n,r)){var c=null==o?void 0:o(n,s);if(void 0!==c){var u=t,l=u.beforeAll,f=u.beforeSuccess,d=u.afterSuccess,h=u.afterAll,p=n.success;null==l||l(s),null==f||f(c,aw,s),"function"==typeof p&&p(c),null==d||d(c,s),null==h||h(c,s)}else W_(e,i?Object.assign({},n,i(n,s)):n,a,s)}}}function cw(e,t,n){void 0===n&&(n={});var r=n,o=r.wrapper,i=r.whenListenerExisted,a=r.whenListenerEmptied,s=r.onlyLatestListen,c=new WeakMap,u="emptied";function l(){"existed"===u?e.size(t)||(u="emptied",null==a||a()):e.size(t)&&(u="existed",null==i||i())}return{on:function(n){if("function"==typeof n){var r=c.get(n);r||(o?(r=o(n),c.set(n,r)):r=n),s&&e.off(t),e.on(t,r),l()}},off:function(n){if(void 0===n)e.off(t);else if("function"==typeof n){var r,o=null!=(r=c.get(n))?r:n;o&&e.off(t,o)}l()}}}var uw=function(){function e(e){void 0===e&&(e={}),this.events=new Map,this.tryCatchMap=new WeakMap,this.surroundTryCatch=void 0,this.surroundTryCatch=!!e.surroundTryCatch}var t=e.prototype;return t.emit=function(e,t){var n=this.events.get(e);null==n||n.forEach((function(e){return e(t)}))},t.on=function(e,t){if("function"==typeof t){var n=this.events.get(e);n||(n=[],this.events.set(e,n));var r=t;if(this.surroundTryCatch){var o=this.tryCatchMap.get(t);o?r=o:(r=Jy(t,e),this.tryCatchMap.set(t,r))}n.push(r)}},t.off=function(e,t){if(t){var n=this.surroundTryCatch?this.tryCatchMap.get(t):t,r=this.events.get(e);if("function"==typeof n&&r){var o=r.indexOf(n);-1!==o&&r.splice(o,1),0===r.length&&this.events.delete(e)}}else this.events.delete(e)},t.size=function(e){var t,n=this.events.get(e);return null!=(t=null==n?void 0:n.length)?t:0},e}();function lw(e){return void 0===e&&(e={}),function(t,n){var r=t.key;t.finisher=function(t){t.exportApi(r,e)}}}var fw=function(e){am(n,e),n.exportApi=function(e,t){this.hasOwnProperty("exports")||Object.defineProperty(this,"exports",{enumerable:!1,writable:!0,configurable:!0,value:this.exports?this.exports.slice():[]}),this.exports.push({name:e,options:t})};var t=n.prototype;function n(t){var n;return(n=e.call(this)||this).container=t,n.beforeInvoke=G_,n.beforeInvokeFail=H_,n.checkUrlInConfig=J_,n.createInvokeMethodApi=sw,n._eventEmitter=void 0,n}return t.createEventApi=function(e,t){return cw(this.emitter,e,t)},t.createNativeEventApi=function(e,t){var n=this,r="__internal_"+e+"__";return this.addSetupHandler((function(){n.onMethod(e,(function(e){var o,i=null!=(o=null==t||null==t.transformData?void 0:t.transformData(e))?o:e;null==t||null==t.whenEventEmit||t.whenEventEmit(i),n.emitter.emit(r,e),null==t||null==t.whenEventEmitted||t.whenEventEmitted(i)}))})),cw(this.emitter,r,t)},vs(n,[{key:"invokeMethod",get:function(){return this.container.bridge.invokeMethod}},{key:"subscribe",get:function(){return this.container.bridge.subscribe}},{key:"onMethod",get:function(){return this.container.bridge.onMethod}},{key:"publish",get:function(){return this.container.bridge.publish}},{key:"emitter",get:function(){return this._eventEmitter||(this._eventEmitter=new uw({surroundTryCatch:!0})),this._eventEmitter}}]),n}(ms);function dw(e,t){var n=e+"() { [native code] }";Object.defineProperty(t,"toString",{configurable:!0,writable:!0,enumerable:!1,value:function(){return n}})}fw.exports=void 0;var hw=function(e){function t(t,n){var r;return(r=e.call(this)||this).container=t,r.exports=void 0,r.instance=new Map,r.apis=void 0,r.apis=Array.from(new Set(n)),r}am(t,e);var n=t.prototype;return n.setup=function(){this.exports=this.composeAPIs(this.apis)},n.teardown=function(){for(var e,t=ls(this.instance.values());!(e=t()).done;){bs(e.value)}},n.composeAPIs=function(e){for(var t,n={},r=ls(e);!(t=r()).done;){var o=t.value,i=new o(this.container);this.instance.set(o,i),ys(i);var a=i.constructor.exports;if(a)for(var s,c=ls(a);!(s=c()).done;){var u=s.value.name,l=i[u];if("function"==typeof l){var f=f_(l.bind(i),"at tt."+u);dw(u,f),n[u]=f}else if(null!=l)if(l.on){var d=l,h=d.on,p=d.off,v=u[0].toUpperCase()+u.slice(1),g="on"+v;if(n[g]=h,dw(g,h),p){var m="off"+v;n[m]=p,dw(m,p)}}else n[u]=l}}return n},t}(ms),pw=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"authorize",value:function(){return this.createInvokeMethodApi("authorize",{checkParams:{scope:""}})}}]}}),fw),vw=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"redirectTo",value:function(e){if(this.beforeInvoke("redirectTo",e,{url:""})){var t=this.container.LifecycleState;e.url=sb(t.path,e.url),e.url=a_(e.url),this.checkUrlInConfig("redirectTo",e.url,e)&&this.invokeMethod("redirectTo",e)}}},{kind:"method",decorators:[lw()],key:"reLaunch",value:function(e){if(this.beforeInvoke("reLaunch",e,{url:""})){var t=this.container.LifecycleState;e.url=sb(t.path,e.url),e.url=a_(e.url),this.checkUrlInConfig("reLaunch",e.url,e)&&this.invokeMethod("reLaunch",e)}}},{kind:"method",decorators:[lw()],key:"navigateTo",value:function(e){var t=this,n=getCurrentPages();if(this.beforeInvoke("navigateTo",e,{url:""})){var r=this.container.LifecycleState;e.url=sb(r.path,e.url),e.url=a_(e.url),this.checkUrlInConfig("navigateTo",e.url,e)&&this.invokeMethod("navigateTo",e,{beforeSuccess:function(){t.publish("onHide",{},[n[n.length-1].__webviewId__])}})}}},{kind:"method",decorators:[lw()],key:"switchTab",value:function(e){if(void 0===e&&(e={}),this.beforeInvoke("switchTab",e,{url:""})){/\?.*$/.test(e.url)&&(ps.warn("switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,""));var t=this.container.LifecycleState;e.url=sb(t.path,e.url),e.url=a_(e.url),ps.log(t.path,e.url),this.checkUrlInConfig("switchTab",e.url,e)&&this.invokeMethod("switchTab",e)}}},{kind:"method",decorators:[lw()],key:"navigateBack",value:function(e){void 0===e&&(e={}),"number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta,10),e.delta<1&&(e.delta=1)),this.invokeMethod("navigateBack",e)}}]}}),fw),gw=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"getSystemInfo",value:function(){var e=this;return this.createInvokeMethodApi("getSystemInfo",{beforeSuccess:function(t){var n,r=e.getJSSDKVersion();t.SDKVersion=r.SDKVersion,t.SDKUpdateVersion=r.SDKUpdateVersion,t.platform=null==(n=t.platform)?void 0:n.toLocaleLowerCase(),t.devicePixelRatio=t.pixelRatio}})}},{kind:"field",decorators:[lw()],key:"getSystemInfoSync",value:function(){var e=this;return function(){var t={};return e.invokeMethod("getSystemInfoSync",{},{beforeSuccess:function(n){var r;void 0===n&&(n={});var o=e.getJSSDKVersion();n.platform=null==(r=n.platform)?void 0:r.toLocaleLowerCase(),n.SDKVersion=o.SDKVersion,n.SDKUpdateVersion=o.SDKUpdateVersion,n.devicePixelRatio=n.pixelRatio,t=n}}),t}}},{kind:"field",decorators:[lw()],key:"getKAInfo",value:function(){return this.createInvokeMethodApi("getKAInfo")}},{kind:"method",key:"getJSSDKVersion",value:function(){var e,t,n,r;return null!=(e=null==(t=this.container)||null==(n=t.host)||null==(r=n.global)?void 0:r.__JSSDK_VERSION__)?e:{}}}]}}),fw),mw="waiting",yw="sending",bw="done",_w="aborted",ww="created",Sw="in_queue";function kw(){if(Bw=Math.max(Bw-1,0),zw(),Fw.length>0){var e=Fw.shift();jw.set(e.item,Date.now()),Tw.call(e.item)}else 0===Bw&&zw.cancel()}function Tw(){Bw+=1;var e,t=this,n=Ow.get(this),r=t.id;Mw.set(this,yw),Lw.set(this,Date.now());var o=ws().agent||{},i=o.isPC&&o.pcRequestUseJssdktaskId;i&&(Aw.set(t,r),Uw[r]=t,Ew.call(t,n)),W_(Vw.create,{data:n.data,url:n.url,header:n.header,header2:Object.keys(n.header).map((function(e){return[e,String(n.header[e])]})),method:n.method,responseType:n.responseType,usePrefetchCache:n.usePrefetchCache||!1,requestType:n.requestType,taskId:r,success:function(e){i||(Aw.set(t,e.requestTaskId),Uw[e.requestTaskId]=t,Ew.call(t,n)),xw.set(t,e.trace)},fail:function(o){i&&(delete Uw[r],qw.removeAllListeners(r+"success"),qw.removeAllListeners(r+"fail")),xw.set(t,o.trace),e=o.errMsg,Ww(t,"fail",e),setTimeout((function(){var t={errMsg:e.replace("createRequestTask","request")};"function"==typeof n.fail&&n.fail(t),"function"==typeof n.complete&&n.complete(t),kw()}),0)},complete:function(){Mw.set(t,bw)}})}function Ew(e){qw.on(Aw.get(this)+"success",(function(t){if(t.errMsg="request:ok","string"==typeof t.data&&65279===t.data.charCodeAt(0)&&(t.data=t.data.substr(1)),"json"===e.dataType&&"string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(e){}t.statusCode=parseInt(t.statusCode,10),"object"==typeof t.header&&(t.header=Object.keys(t.header).reduce((function(e,n){return Array.isArray(t.header[n])?e[n]=t.header[n].join(","):"string"==typeof t.header[n]&&(e[n]=t.header[n]),e}),{})),"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)})),qw.on(Aw.get(this)+"fail",(function(t){t.errMsg="request:fail "+t.errMsg,"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}))}var Cw=0,Iw=new WeakMap,Aw=new WeakMap,Mw=new WeakMap,Ow=new WeakMap,Rw=new WeakMap,xw=new WeakMap,Pw=new WeakMap,Nw=new WeakMap,jw=new WeakMap,Lw=new WeakMap,Dw=new WeakMap,Bw=0,Fw=[],Uw={},qw=new Py.EventEmitter2;function Ww(e,t,n){var r=Dw.get(e),o=Mw.get(e)===_w,i=o?my.abort_request:my.request_result,a=o?"cancel":t,s=Ow.get(e),c=Rw.get(e),u=Date.now()-c,l=s.reportParams||{},f=Object.assign({request_trace:xw.get(e)||"",request_url:s.url.split("?")[0],request_method:s.method||"GET",request_biz_invoke_time:Rw.get(e),request_push_queue_time:Pw.get(e)||0,request_shift_queue_time:jw.get(e)||0,request_queue_length:Nw.get(e)||0,request_abort_type:r||"",request_version:"v1",error_msg:n||"",duration:u,result_type:a},l);ky.build(by.network,i).addMap(f).flush()}var Vw,zw=function(e,t){var n,r=null,o=void 0,i=function(){n&&clearTimeout(n),n=null,r&&(o=e.apply(void 0,r)),r=null},a=function(){n&&clearTimeout(n),n=null},s=function(){a();for(var e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return r=s,n=setTimeout(i,t),o};return s.cancel=a,s.flush=i,s}((function(){if(0!==Fw.length){var e=Date.now(),t={request_waiting_length:Fw.length,request_waiting_tasks:Fw.map((function(t){var n=t.item,r=Ow.get(n);return{url:r.url.split("?")[0],method:r.method,duration:e-Pw.get(n)}})),request_length:Bw,request_tasks:Object.values(Uw).map((function(t){var n=Ow.get(t);return{url:n.url.split("?")[0],method:n.method,duration:e-Lw.get(t)}})),request_type:"request"};ky.build(by.network,my.request_long_waiting).addMap(t).flush()}}),8e3);["onRequestTaskStateChange","onInnerRequestTaskStateChange"].forEach((function(e){V_(e,(function(e){void 0===e&&(e={});var t=e,n=t.state,r=t.errMsg,o=t.requestTaskId;if(delete e.state,delete e.requestTaskId,"success"!==n&&"fail"!==n||kw(),qw.emit(""+o+n,e),"success"===n||"fail"===n){var i=Uw[o];if(i){try{Ww(i,n,r)}catch(e){}delete Uw[o],qw.removeAllListeners(o+"success"),qw.removeAllListeners(o+"fail")}}}))}));var Gw,Hw=function(){function e(e,t){void 0===t&&(t=!1),this.requestVersion="v1",this.id=void 0,Rw.set(this,Date.now()),Vw=t?{create:"createInnerRequestTask",operate:"operateInnerRequestTask",onChange:"onInnerRequestTaskStateChange"}:{create:"createRequestTask",operate:"operateRequestTask",onChange:"onRequestTaskStateChange"},this.id=Cw++,Iw.set(this,this.id),Mw.set(this,mw),["success","fail","complete"].forEach((function(t){var n=e[t];"function"==typeof n&&(e[t]=d_(n,"at api request "+t+" callback function"))})),Ow.set(this,e),Bw>=10?(Pw.set(this,Date.now()),Nw.set(this,Fw.length),Fw.push({id:this.id,item:this}),function(e){var t=Ow.get(e),n={request_trace:xw.get(e)||"",request_url:t.url.split("?")[0],request_method:t.method||"GET",request_queue_length:Bw+Fw.length,request_type:"request"};ky.build(by.network,my.request_waiting).addMap(n).flush()}(this),zw()):Tw.call(this)}return e.prototype.abort=function(){var e=this,t=Mw.get(this),n=Ow.get(this);if(Mw.set(this,_w),t===mw){var r=Fw.findIndex((function(t){return t.id===Iw.get(e)}));r>-1&&Fw.splice(r,1),Dw.set(this,Sw),setTimeout((function(){var t="request:fail abort";"function"==typeof n.fail&&n.fail({errMsg:t}),Ww(e,"cancel",t),"function"==typeof n.complete&&n.complete({errMsg:t})}),0)}else t!==_w&&(Dw.set(this,ww),W_(Vw.operate,{requestTaskId:Aw.get(e),operationType:"abort"}))},e}();function Kw(e){var t=e.invokeTime,n=e.url,r=e.trace,o=void 0===r?"":r,i=e.method,a=e.errMsg,s=void 0===a?"":a,c=e.resultType,u=e.errCode,l=Date.now()-t,f=u===Gw.Cancelled||s.startsWith("request:fail Cancelled"),d=f?my.abort_request:my.request_result,h={request_trace:o,request_url:"string"==typeof n?n.split("?")[0]:Hb(e.url),request_method:"string"==typeof i?e.method:Hb(i),request_biz_invoke_time:t,error_msg:s,error_code:u||0,duration:l,result_type:f?"cancel":c,request_version:"v2"};ky.build(by.network,d).addMap(h).flush()}function Jw(e,t,n,r){return function(r){var o=r.payload,i=r.errCode,a=r.errMsg,s=null;if("string"==typeof o)try{s=hb.unpack(JSON.parse(o))}catch(e){a="request:fail sdk parse payload error"}if("success"===n&&s){if("string"==typeof s.data&&65279===s.data.charCodeAt(0)&&(s.data=s.data.substr(1)),"json"===e.dataType&&"string"==typeof s.data)try{s.data=JSON.parse(s.data)}catch(e){}s.statusCode=s.statusCode&&parseInt(String(s.statusCode),10),"object"==typeof s.header&&(s.header=Object.keys(s.header).reduce((function(e,t){var n=s.header?s.header[t]:void 0;return Array.isArray(n)?e[t]=n.join(","):"string"==typeof n&&(e[t]=n),e}),{}))}Kw({resultType:n,invokeTime:t,url:e.url,trace:e.requestTaskId,method:e.method,errMsg:a,errCode:i});var c=s?Object.assign({trace:e.requestTaskId,errMsg:a},s):{trace:e.requestTaskId,errMsg:a};if("success"===n&&s)"function"==typeof e.success&&e.success(c);else{var u=void 0===i?c:Object.assign({},c,{errCode:i});"function"==typeof e.fail&&e.fail(u)}"function"==typeof e.complete&&e.complete(c)}}function $w(e){void 0===e&&(e={});var t="";"string"!=typeof e.url?t="param.url should pass string, not "+typeof e.url:t||o_(e.url)||(t='invalid url "'+e.url+'"'),t||"function"!=typeof e.data||(t="data should not be Function"),!t&&("string"!=typeof e.method&&e.method||0===e.method)&&(t="param.method should pass string, not "+typeof e.method),!t&&("string"!=typeof e.responseType&&e.responseType||0===e.responseType)&&(t="param.responseType should pass string, not "+typeof e.responseType);var n=Date.now(),r={trace:"",invokeTime:n,method:e.method,url:e.url,errMsg:"",errCode:Gw.InternalError,resultType:"fail"};if(t)return r.errMsg="request:fail invalid parameter "+t,r.errCode=Gw.InvalidParam,Kw(r),void H_("request",e,t);try{0;var o=P_(),i=Object.assign({},function(e){var t,n=Object.assign({},e);return"Object"!==Hb(n.header)&&(n.header={"content-type":"application/json"}),n.header["content-type"]||(n.header["content-type"]="application/json"),n.header=u_(n.header),n.header=Object.keys(n.header).reduce((function(e,t){return"content-type"===t.toLowerCase()?e[t.toLowerCase()]=n.header[t]:e[t]=n.header[t],e}),{}),"string"==typeof n.method&&(n.method=n.method.toUpperCase()),n.method||(n.method="GET"),"string"==typeof n.responseType&&(n.responseType=n.responseType.toLowerCase()),n.responseType||(n.responseType="text"),e.dataType||(n.dataType="json"),"GET"===n.method?(n.url=r_(n.url,n.data),n.data&&delete n.data):(t=void 0===n.data?"":"string"==typeof n.data||n.data instanceof ArrayBuffer?n.data:n.header["content-type"].includes("application/x-www-form-urlencoded")?n_(n.data,!0):n.header["content-type"].includes("application/json")||"object"==typeof n.data?JSON.stringify(n.data):n.data.toString(),n.data=t),n.usePrefetchCache||(n.usePrefetchCache=!1),hb.pack(n)}(e),{requestTaskId:o});return W_("request",{payload:JSON.stringify(i),success:Jw(i,n,"success"),fail:Jw(i,n,"fail")}),{requestVersion:"v2",abort:function(){W_("requestAbort",{payload:JSON.stringify({requestTaskId:o})})}}}catch(e){r.errMsg="request:fail internal error "+(null==e?void 0:e.message),r.errCode=Gw.InternalError,Kw(r),H_("request",e,null==e?void 0:e.message)}}function Yw(e,t,n){var r=my.request_result,o={request_url:"string"==typeof e?e.split("?")[0]:Hb(e),request_method:"string"==typeof t?t:Hb(e),error_msg:n,result_type:"fail",request_version:"v1"};ky.build(by.network,r).addMap(o).flush()}!function(e){e[e.Cancelled=1000001]="Cancelled",e[e.InvalidParam=104]="InvalidParam",e[e.InternalError=102]="InternalError"}(Gw||(Gw={}));var Qw=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"request",value:function(e){if(void 0===e&&(e={}),(ws().agent||{}).useNewRequestAPI)return $w(e);if(G_("request",e,{url:""})){if(!o_(e.url))return Yw(e.url,e.method,'request fail invalid url "'+e.url+'"'),void H_("request",e,'invalid url "'+e.url+'"');if("function"==typeof e.data)return Yw(e.url,e.method,"request:fail data should not be Function"),void H_("request",e,"data should not be Function");var t=function(e,t){var n=0,r=0;if("object"==typeof t&&t)for(var o in t)if("object"==typeof t[o]){if(n=1,r)break}else if("boolean"==typeof t[o]&&(r=1,n))break;return{header_attributes_includes_object:n,header_attributes_includes_boolean:r,method:"string"==typeof e?e:Object.prototype.toString.apply(e)}}(e.method,e.header),n=Hb(e.header);e.header=e.header?e.header:{},e.header=c_(e.header),"Undefined"!==n&&"Object"!==n&&(e.header={}),e.header=Object.keys(e.header).reduce((function(t,n){return"content-type"===n.toLowerCase()?t[n.toLowerCase()]=e.header[n]:t[n]=e.header[n],t}),{});var r=e.header||{},o="GET";e.method&&(e.method=e.method.toUpperCase()),"string"==typeof e.method&&(o=e.method.toUpperCase());var i,a="text";e.responseType&&(a=e.responseType.toLowerCase()),e.dataType=e.dataType||"json",r["content-type"]=r["content-type"]||"application/json",i=void 0===e.data?"":"string"==typeof e.data||e.data instanceof ArrayBuffer?e.data:r["content-type"].includes("application/x-www-form-urlencoded")?n_(e.data,!0):r["content-type"].includes("application/json")||"object"==typeof e.data?JSON.stringify(e.data):e.data.toString(),"GET"===o&&(e.url=r_(e.url,e.data));try{return new Hw(Object.assign({},e,{header:r,method:o,responseType:a,data:i,reportParams:t}))}catch(t){Yw(e.url,e.method,"request:fail "+(null==t?void 0:t.message)),H_("request",t,null==t?void 0:t.message)}}else Yw(e.url,e.method,"request:fail param.url is not string")}}]}}),fw),Xw=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"openSchema",value:function(){return this.createInvokeMethodApi("openSchema")}}]}}),fw),Zw=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"getPadDisplayScaleMode",value:function(){return this.createInvokeMethodApi("getPadDisplayScaleMode")}},{kind:"field",decorators:[lw()],key:"togglePadFullScreen",value:function(){return this.createInvokeMethodApi("togglePadFullScreen")}}]}}),fw),eS=o((function(e){e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Iy(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0})),tS=r(o((function(e){function t(n,r,o){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=t=Reflect.get,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e,t,n){var r=eS(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},e.exports.default=e.exports,e.exports.__esModule=!0),t(n,r,o||n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}))),nS=rw(null,(function(e,t){var n=function(t){function n(n){var r;return r=t.call(this,n)||this,e(cb(r)),r}return am(n,t),n}(t);return{F:n,d:[{kind:"field",key:"_titleConfig",value:function(){return{}}},{kind:"field",decorators:[lw()],key:"setNavigationBarTitle",value:function(){return this.createInvokeMethodApi("setNavigationBarTitle",{checkParams:{title:"String"}})}},{kind:"field",decorators:[lw()],key:"setNavigationBarColor",value:function(){return this.createInvokeMethodApi("setNavigationBarColor",{checkParams:{frontColor:"String",backgroundColor:"String"}})}},{kind:"field",decorators:[lw()],key:"setMainNavRightItems",value:function(){return null}},{kind:"field",decorators:[lw()],key:"onMainNavRightItemClick",value:function(){}},{kind:"field",decorators:[lw()],key:"offMainNavRightItemClick",value:function(){}},{kind:"field",decorators:[lw()],key:"showNavigationBarLoading",value:function(){return this.createInvokeMethodApi("showNavigationBarLoading")}},{kind:"field",decorators:[lw()],key:"hideNavigationBarLoading",value:function(){return this.createInvokeMethodApi("hideNavigationBarLoading")}},{kind:"field",decorators:[lw()],key:"hideHomeButton",value:function(){return this.createInvokeMethodApi("hideHomeButton")}},{kind:"field",decorators:[lw()],key:"setNavigationBar",value:function(){return null}},{kind:"field",decorators:[lw()],key:"onNavigationBarClick",value:void 0},{kind:"field",decorators:[lw()],key:"offNavigationBarClick",value:void 0},{kind:"field",decorators:[lw()],key:"onLeftNavigationBarClick",value:void 0},{kind:"field",decorators:[lw()],key:"offLeftNavigationBarClick",value:void 0},{kind:"field",decorators:[lw()],key:"onRightNavigationBarClick",value:void 0},{kind:"field",decorators:[lw()],key:"offRightNavigationBarClick",value:void 0},{kind:"method",key:"setup",value:function(){tS(Ay(n.prototype),"setup",this).call(this)}}]}}),fw),rS=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"getUserInfo",value:function(){return this.createInvokeMethodApi("getUserInfo")}}]}}),fw),oS=function(e){return e.replace(/[^\u0000-\u00ff]/g,"aa").length},iS=["success","loading","none","info","error","warning"],aS=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"showToast",value:function(e){void 0===e&&(e={}),(e=Object.assign({duration:1500,title:"",icon:"success"},e)).icon&&-1!==iS.indexOf(e.icon)?"none"===e.icon&&(e.icon=""):e.icon="success",this.beforeInvoke("showToast",e,{duration:1,title:"String",icon:"String"})&&this.invokeMethod("showToast",e)}},{kind:"field",decorators:[lw()],key:"hideToast",value:function(){return this.createInvokeMethodApi("hideToast")}}]}}),fw),sS=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"showLoading",value:function(e){void 0===e&&(e={});var t={icon:"loading",duration:864e5};e=Object.assign(e,t),this.beforeInvoke("showLoading",e,{title:"String"})&&(e.title=function(e,t){var n=/[^\u0000-\u00ff]/g;if(e.replace(n,"aa").length<=t)return e;for(var r=Math.floor(t/2),o=e.length;r<o;r++)if(e.substring(0,r).replace(n,"aa").length>=t)return e.substring(0,r);return e}(e.title,14),this.invokeMethod("showToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showToast","showLoading")}}))}},{kind:"method",decorators:[lw()],key:"hideLoading",value:function(e){void 0===e&&(e={}),this.invokeMethod("hideToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})}}]}}),fw),cS=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"showActionSheet",value:function(e){void 0===e&&(e={});this.beforeInvoke("showActionSheet",e,{itemList:["String"]})&&(e.itemList.length<1&&this.beforeInvokeFail("showActionSheet",e,"param.itemList should has at least 1 item"),e.itemList.length>6?this.beforeInvokeFail("showActionSheet",e,"param.itemList should has at most 6 items"):this.invokeMethod("showActionSheet",e))}}]}}),fw),uS=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"showModal",value:function(e){void 0===e&&(e={});e=Object.assign({},{title:"",content:"",confirmText:"",cancelText:"",showCancel:!0,confirmColor:"#3CC51F",cancelColor:"#000000"},e),this.beforeInvoke("showModal",e,{title:"String",content:"String",confirmText:"String",cancelText:"String",confirmColor:"String",cancelColor:"String"})&&(oS(e.confirmText)>8?this.beforeInvokeFail("showModal",e,"confirmText length should not larger than 4 Chinese characters"):oS(e.cancelText)>8?this.beforeInvokeFail("showModal",e,"cancelText length should not larger than 4 Chinese characters"):this.invokeMethod("showModal",e))}}]}}),fw),lS=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"startPullDownRefresh",value:function(){return this.createInvokeMethodApi("startPullDownRefresh")}},{kind:"field",decorators:[lw()],key:"stopPullDownRefresh",value:function(){return this.createInvokeMethodApi("stopPullDownRefresh")}},{kind:"field",decorators:[lw()],key:"disablePullDownRefresh",value:function(){return this.createInvokeMethodApi("disablePullDownRefresh")}},{kind:"field",decorators:[lw()],key:"enablePullDownRefresh",value:function(){return this.createInvokeMethodApi("enablePullDownRefresh")}}]}}),fw),fS=!1,dS=[];function hS(){for(var e=0,t=dS.length;e<t;){for(;e<t;e++)try{dS[e].call(null)}catch(e){ps.error(e)}t=dS.length}dS=[],fS=!1}var pS,vS=function(){function e(e){this.onExecute=e,this.isRunning=!1,this.taskList=[]}var t=e.prototype;return t.getTaskList=function(){return this.taskList},t.push=function(e){this.taskList.push(e),this.isRunning||(this.isRunning=!0,this.next())},t.unshift=function(e){this.taskList.unshift(e),this.isRunning||(this.isRunning=!0,this.next())},t.next=function(){var e,t=this;e=function(){t.execute()},dS.push(e),fS||(fS=!0,setTimeout(hS,0))},t.execute=function(){var e=this;if(this.taskList.length<=0)this.isRunning=!1;else try{var t=this.taskList.shift();this.onExecute(t,(function(){e.next()}))}catch(e){ps.error(e),this.next()}},e}(),gS={src:"",startTime:0,paused:!0,currentTime:0,duration:0,buffered:0};!function(e){e[e.CREATE=0]="CREATE",e[e.DESTROY=1]="DESTROY",e[e.OPERATE=2]="OPERATE",e[e.SETSTATE=3]="SETSTATE",e[e.GETSTATE=4]="GETSTATE"}(pS||(pS={}));var mS,yS=[pS.OPERATE,pS.DESTROY,pS.OPERATE];!function(e){e.PLAY="play",e.PAUSE="pause",e.STOP="stop",e.SEEK="seek"}(mS||(mS={}));var bS,_S=function(){function e(e){var t=this;this.bridge=e,this.destroyed=!1,this.audioAttrStore=Object.assign({},this.getDefaultAudioAttr()),this.taskQueue=new vS((function(e,n){switch(ps.log("InnerAudio: DoTask "+e.type+" with",e),e.type){case pS.CREATE:t.handleCreateTask(n);break;case pS.GETSTATE:t.handleGetStateTask(n);break;case pS.SETSTATE:var r=t.updatedAttrsList[0];t.handleSetStateTask(r,(function(){Object.assign(t.audioAttrStore,r),t.updatedAttrsList.shift(),r.src&&t.taskQueue.unshift({type:pS.GETSTATE}),n()}));break;case pS.OPERATE:t.handleOperateTask(e.operation,(function(){Object.assign(t.audioAttrStore,t.updatedAttrsList.shift()),n()}));break;case pS.DESTROY:t.handleDestroyTask(n)}})),this.emitter=new uw,this.updatedAttrsList=[],this.timeupdateTimer=null,this.stateUpdatingTimer=null,this.taskQueue.push({type:pS.CREATE})}var t=e.prototype;return t.getState=function(e){var t,n=this;if("currentTime"===e&&!this._isSeeking&&!this.destroyed){var r=this.getAudioStateSync();r&&(t=r.currentTime,Object.assign(this.audioAttrStore,r))}if(void 0===t)for(var o=this.updatedAttrsList.length-1;o>=0;o--)if(this.updatedAttrsList[o].hasOwnProperty(e)){t=this.updatedAttrsList[o][e];break}void 0===t&&(t=this.audioAttrStore[e]);var i=this.audioAttrStore.duration<this.audioAttrStore.currentTime||this.audioAttrStore.buffered<100;return!this.stateUpdatingTimer&&i&&(this.stateUpdatingTimer=setTimeout((function(){!!n.taskQueue.getTaskList().find((function(e){return e.type===pS.GETSTATE}))||n.taskQueue.push({type:pS.GETSTATE}),n.stateUpdatingTimer=null}),50)),t},t.setState=function(e,t){var n=this;if(!this.destroyed){for(var r,o=!1,i=this.taskQueue.getTaskList(),a=i.length-1;a>=0;a--)if(yS.includes(i[a].type)){o=!0;break}switch(this.updatedAttrsList.length||(o=!0),o?(r={},this.updatedAttrsList.push(r),this.taskQueue.push({type:pS.SETSTATE})):r=this.updatedAttrsList[this.updatedAttrsList.length-1],r[e]=t,e){case"src":setTimeout((function(){return n.emitter.emit("canplay",null)}))}}},t.on=function(e,t){this.emitter.on(e,t),"timeupdate"===e&&this.enableTimeupdateChecker()},t.off=function(e,t){this.emitter.off(e,t),"timeupdate"!==e||this.emitter.size(e)||this.disableTimeupdateChecker()},t.operate=function(e){var t={};switch(this.updatedAttrsList.push(t),e.operationType){case mS.PLAY:t.paused=!1;break;case mS.PAUSE:case mS.STOP:t.paused=!0;break;case mS.SEEK:t.currentTime=e.currentTime}this.taskQueue.push({type:pS.OPERATE,operation:e})},t.destroy=function(){this.destroyed||(this.destroyed=!0,this.disableTimeupdateChecker(),this.updatedAttrsList.push({paused:!0}),this.taskQueue.push({type:pS.DESTROY}))},t.handleStateChange=function(e,t){switch(e){case"play":this.enableTimeupdateChecker(),this.audioAttrStore.paused=!1;break;case"ended":case"stop":case"pause":this.disableTimeupdateChecker(),this.audioAttrStore.paused=!0;break;case"error":this.destroy()}this.emitter.emit(e,t)},t.enableTimeupdateChecker=function(){var e,t=this;!this.timeupdateTimer&&this.emitter.size("timeupdate")&&(this.timeupdateTimer=setInterval((function(){if(!t.getState("paused")){var n=t.getState("currentTime");n!==e&&(t.emitter.emit("timeupdate",n),e=n)}}),250))},t.disableTimeupdateChecker=function(){this.timeupdateTimer&&(clearInterval(this.timeupdateTimer),this.timeupdateTimer=null)},vs(e,[{key:"_isSeeking",get:function(){return!!this.taskQueue.getTaskList().find((function(e){return e.type===pS.OPERATE&&e.operation.operationType===mS.SEEK}))}}]),e}(),wS=["audioId","state"],SS=Object.assign({},gS,{obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1}),kS=new Map,TS=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).id=void 0,t.effectToken=void 0,t}am(t,e);var n=t.prototype;return n.getDefaultAudioAttr=function(){return SS},n.getAudioStateSync=function(){var e=this.audioAttrStore;return this.bridge.invokeMethod("android"===TMAConfig.platform?"getAudioStateSync":"getAudioState",{audioId:this.id,success:function(t){e=t}}),e},n.handleCreateTask=function(e){var t=this;this.bridge.invokeMethod("createAudioInstance",{success:function(n){var r=n.audioId;t.id=r,t.destroyed||kS.set(r,t),e()}})},n.destroy=function(){kS.delete(this.id),e.prototype.destroy.call(this)},n.handleDestroyTask=function(e){var t=this.id;kS.delete(t),this.bridge.invokeMethod("destroyAudioInstance",{audioId:t}),e()},n.handleOperateTask=function(e,t){var n=this,r=e.operationType===mS.SEEK;r&&this.emitter.emit("seeking",{});var o=this.id;this.bridge.invokeMethod("operateAudio",Object.assign({audioId:o,complete:function(){r&&n.emitter.emit("seeked",{}),t()}},e))},n.handleSetStateTask=function(e,t){var n=this;this.bridge.invokeMethod("setAudioState",Object.assign({audioId:this.id,fail:function(){ps.error("Update InnerAudioContext state failed, audioId: "+n.id)},complete:function(){t()}},this.audioAttrStore,e))},n.handleGetStateTask=function(e){var t=this;this.bridge.invokeMethod("getAudioState",{audioId:this.id,success:function(e){Object.assign(t.audioAttrStore,e)},complete:function(){e()}})},t}(_S);function ES(e){var t=e.audioId,n=e.state,r=ow(e,wS),o=n.toLowerCase(),i=kS.get(t);null==i||i.handleStateChange(o,r)}function CS(e,t){return void 0===t&&(t={}),{flag:e,options:t,__type:null}}function IS(e){return CS(bS.GETTER,e)}function AS(e){return CS(bS.GETSET,e)}function MS(){return CS(bS.EVENT)}function OS(e){return e/1e3}function RS(e){return"string"==typeof e}!function(e){e[e.GETTER=0]="GETTER",e[e.GETSET=1]="GETSET",e[e.METHOD=2]="METHOD",e[e.EVENT=3]="EVENT",e[e.OPERATOR=4]="OPERATOR"}(bS||(bS={}));var xS={src:AS({validator:RS}),startTime:AS({getter:OS,setter:function(e){return Math.floor(1e3*e)}}),duration:IS({getter:OS}),currentTime:IS({getter:OS}),buffered:IS(),paused:IS(),Play:MS(),Pause:MS(),Stop:MS(),Canplay:MS(),Error:MS(),Ended:MS(),Waiting:MS(),Seeking:MS(),Seeked:MS(),TimeUpdate:MS()};function PS(e,t){for(var n=function(){var t=o[r],n=t[0],i=t[1],a=i.flag,s=i.options;if(a===bS.EVENT){var c=n.toLowerCase();return Object.defineProperty(e.prototype,"on"+n,{configurable:!1,enumerable:!1,writable:!1,value:function(t){"function"==typeof t&&e.getShadow(this).on(c,t)}}),Object.defineProperty(e.prototype,"off"+n,{configurable:!1,enumerable:!1,writable:!1,value:function(t){"function"==typeof t&&e.getShadow(this).off(c,t)}}),"continue"}var u={configurable:!1,enumerable:!1};a!==bS.GETSET&&a!==bS.GETTER||(u.get=function(){var t,r=e.getShadow(this).getState(n);return null!=(t=null==s.getter?void 0:s.getter(r))?t:r},a===bS.GETSET&&(u.set=function(t){var r;return!1===(null==s.validator?void 0:s.validator(t))||e.getShadow(this).setState(n,null!=(r=null==s.setter?void 0:s.setter(t))?r:t),t})),Object.defineProperty(e.prototype,n,u)},r=0,o=Object.entries(t);r<o.length;r++)n()}var NS=Object.assign({},xS,{autoplay:AS({setter:function(e){return!!e}}),loop:AS({setter:function(e){return!!e}}),obeyMuteSwitch:AS({setter:function(e){return!!e}}),volume:AS({validator:function(e){return"number"==typeof e&&!Number.isNaN(e)}})}),jS=function(){function e(){}e.getShadow=function(t){return e.linker.get(t)};var t=e.prototype;return t.play=function(){e.getShadow(this).operate({operationType:mS.PLAY})},t.pause=function(){e.getShadow(this).operate({operationType:mS.PAUSE})},t.stop=function(){e.getShadow(this).operate({operationType:mS.STOP})},t.seek=function(t){"number"!=typeof t||t<0||Number.isNaN(t)?ps.warn("InnerAudioContext.seek() only accept number"):e.getShadow(this).operate({operationType:mS.SEEK,currentTime:1e3*t})},t.destroy=function(){e.getShadow(this).destroy()},e}();jS.linker=new WeakMap,PS(jS,NS);var LS=rw(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t);return{F:n,d:[{kind:"method",decorators:[lw({creator:!0})],key:"createInnerAudioContext",value:function(){var e=new jS,t=new TS(this.container.bridge);return jS.linker.set(e,t),e}},{kind:"method",key:"setup",value:function(){tS(Ay(n.prototype),"setup",this).call(this),this.onMethod("onAudioStateChange",ES)}}]}}),fw),DS=Object.assign({},gS,{title:"",epname:"",protocol:"http",webUrl:"",singer:"",coverImgUrl:""}),BS=function(e){function t(){return e.apply(this,arguments)||this}am(t,e);var n=t.prototype;return n.destroy=function(){},n.getAudioStateSync=function(){var e=this.audioAttrStore;return this.bridge.invokeMethod("getBgAudioState",{success:function(t){e=t}}),e},n.getDefaultAudioAttr=function(){return DS},n.handleCreateTask=function(e){this.bridge.invokeMethod("getBackgroundAudioContext",{complete:function(){}})},n.handleDestroyTask=function(e){},n.handleGetStateTask=function(e){var t=this.getAudioStateSync();Object.assign(this.audioAttrStore,t),e()},n.handleOperateTask=function(e,t){this.bridge.invokeMethod("operateBgAudio",Object.assign({complete:function(){t()}},e))},n.handleSetStateTask=function(e,t){this.bridge.invokeMethod("setBgAudioState",Object.assign({},this.audioAttrStore,e,{complete:t}))},t}(_S),FS=function(){function e(){}e.getShadow=function(t){return e.manager};var t=e.prototype;return t.play=function(){e.manager.operate({operationType:mS.PLAY})},t.pause=function(){e.manager.operate({operationType:mS.PAUSE})},t.stop=function(){e.manager.operate({operationType:mS.STOP})},t.seek=function(t){"number"!=typeof t||t<0||Number.isNaN(t)||e.manager.operate({operationType:mS.SEEK,currentTime:1e3*t})},e}();FS.manager=void 0;var US=Object.assign({},xS,{title:AS({validator:RS}),epname:AS({validator:RS}),protocol:AS({validator:RS}),webUrl:AS({validator:RS}),singer:AS({validator:RS}),coverImgUrl:AS({validator:RS}),Next:MS(),Prev:MS()});PS(FS,US);var qS,WS=rw(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t);return{F:n,d:[{kind:"field",key:"ctx",value:void 0},{kind:"method",decorators:[lw({creator:!0})],key:"getBackgroundAudioManager",value:function(){if(this.ctx)return this.ctx;var e=new FS,t=new BS(this.container.bridge);return FS.manager=t,this.ctx=e,e}},{kind:"method",key:"setup",value:function(){tS(Ay(n.prototype),"setup",this).call(this),this.onMethod("onBgAudioStateChange",(function(e){var t,n=e.state.toLowerCase();null==(t=FS.manager)||t.handleStateChange(n,e)}))}}]}}),fw),VS=new(function(){function e(){this.insertedCanvas={},this.cachedActions={}}var t=e.prototype;return t.insertCanvas=function(e,t,n){var r,o,i;this.insertedCanvas[e]||(this.insertedCanvas[e]={});var a=this.insertedCanvas[e];a[n]||(a[n]={});var s=a[n];s[t]=!0;for(var c,u=null!=(r=null==(o=this.cachedActions[e])?void 0:o[n])?r:{},l=ls(null!=(f=u[t])?f:[]);!(c=l()).done;){var f;(0,c.value)(t)}if(delete u[t],null!=(i=u[0])&&i.length&&1===Object.keys(s).length){for(var d,h=ls(u[0]);!(d=h()).done;){(0,d.value)(t)}delete u[0]}},t.removeCanvas=function(e,t,n){this.insertedCanvas[e]&&this.insertedCanvas[e][n]&&delete this.insertedCanvas[e][n][t]},t.cacheAction=function(e,t,n,r){this.cachedActions[e]||(this.cachedActions[e]={});var o=this.cachedActions[e];o[n]||(o[n]={});var i=o[n];if(0===t){var a,s,c=null!=(a=null==(s=this.insertedCanvas[e])?void 0:s[n])?a:{},u=Object.keys(c);if(u.length)return void r(parseInt(u[0],10))}i[t]||(i[t]=[]),ps.info("Cache canvas draw action"),this.cachedActions[e][n][t].push(r)},t.hasCanvasInserted=function(e,t,n){var r,o,i;return 0!==t&&(null!=(r=null==(o=this.insertedCanvas[e])||null==(i=o[n])?void 0:i[t])&&r)},e}());!function(e){e[e.Request=0]="Request",e[e.Response=1]="Response"}(qS||(qS={}));var zS,GS=function(){function e(e,t){this.tunnel=e,this.fns=t,this.cid=0,this.callMap=new Map,this.onMessage=this.onMessage.bind(this),this.call=this.call.bind(this),e.addListener?e.addListener(this.onMessage):e.onMessage=this.onMessage}var t=e.prototype;return t.call=function(e,t){var n=this;return new Promise((function(r,o){var i=n.cid++,a={type:qS.Request,cid:i,method:e,args:t};n.callMap.set(i,{resolve:r,reject:o}),n.tunnel.send(a)}))},t.onMessage=function(e){var t=this;switch(e.type){case qS.Request:var n=e.method,r=e.args,o=e.cid,i=this.fns[n];if(!i)return void ps.warn("无法找到对应的执行方法",n);var a=function(e,n){var r={type:qS.Response,cid:o,error:e,result:n};t.tunnel.send(r)};try{var s=i.apply(void 0,r);s.then?Promise.resolve(s).then((function(e){return a(null,e)}),(function(e){return a(e,null)})):a(null,s)}catch(e){a(e,null),ps.error("CallError",e)}break;case qS.Response:var c=e.cid,u=e.result,l=e.error,f=this.callMap.get(c);if(this.callMap.delete(c),!f)return void ps.warn("无法找到对应的回调",c);l?f.reject(l):f.resolve(u);break;default:ps.warn("未知的类型",e.type)}},t.dispose=function(){var e,t;this.tunnel.onMessage=null,null==(e=(t=this.tunnel).removeListener)||e.call(t,this.onMessage)},e}();function HS(e){return"number"==typeof zS[e]?zS[e]:e}function KS(e){return"string"==typeof zS[e]?zS[e]:e}!function(e){e[e.arc=0]="arc",e[e.arcTo=1]="arcTo",e[e.beginPath=2]="beginPath",e[e.bezierCurveTo=3]="bezierCurveTo",e[e.closePath=4]="closePath",e[e.lineTo=5]="lineTo",e[e.moveTo=6]="moveTo",e[e.quadraticCurveTo=7]="quadraticCurveTo",e[e.rect=8]="rect",e[e.clearRect=9]="clearRect",e[e.fillText=10]="fillText",e[e.fillRect=11]="fillRect",e[e.restore=12]="restore",e[e.rotate=13]="rotate",e[e.save=14]="save",e[e.scale=15]="scale",e[e.strokeText=16]="strokeText",e[e.strokeRect=17]="strokeRect",e[e.transform=18]="transform",e[e.translate=19]="translate",e[e.clip=20]="clip",e[e.fill=21]="fill",e[e.stroke=22]="stroke",e[e.setTransform=23]="setTransform",e[e.setLineDash=24]="setLineDash",e[e.fillStyle=25]="fillStyle",e[e.shadowOffsetX=26]="shadowOffsetX",e[e.shadowOffsetY=27]="shadowOffsetY",e[e.shadowColor=28]="shadowColor",e[e.shadowBlur=29]="shadowBlur",e[e.strokeStyle=30]="strokeStyle",e[e.lineWidth=31]="lineWidth",e[e.lineCap=32]="lineCap",e[e.lineJoin=33]="lineJoin",e[e.miterLimit=34]="miterLimit",e[e.lineDashOffset=35]="lineDashOffset",e[e.globalAlpha=36]="globalAlpha",e[e.globalCompositeOperation=37]="globalCompositeOperation",e[e.lineStyle=38]="lineStyle",e[e.textBaseline=39]="textBaseline",e[e.setLineCap=40]="setLineCap",e[e.setLineJoin=41]="setLineJoin",e[e.setLineWidth=42]="setLineWidth",e[e.setMiterLimit=43]="setMiterLimit",e[e.setTextAlign=44]="setTextAlign",e[e.setTextBaseline=45]="setTextBaseline",e[e.setGlobalAlpha=46]="setGlobalAlpha",e[e.setFillStyle=47]="setFillStyle",e[e.setStrokeStyle=48]="setStrokeStyle",e[e.setShadow=49]="setShadow",e[e.drawImage=50]="drawImage",e[e.setProperty=51]="setProperty",e[e.setFont=52]="setFont"}(zS||(zS={}));var JS=/[\'\"]/,$S=function(e){return e?(JS.test(e.charAt(0))&&(e=e.substr(1)),JS.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""},YS=["caption","icon","menu","message-box","small-caption","status-bar"],QS=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],XS=["normal","italic","oblique"],ZS=["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"],ek=o((function(e,t){function n(e,t,n){var r=(void 0===n?{}:n).last,o=void 0!==r&&r;if("string"!=typeof e)throw new TypeError("expected a string");if(!Array.isArray(t))throw new TypeError("expected a string array of separators");if("boolean"!=typeof o)throw new TypeError("expected a Boolean value for options.last");for(var i=[],a="",s=!1,c=0,u=!1,l=!1,f=0,d=e;f<d.length;f++){var h=d[f];u?l?l=!1:"\\"===h?l=!0:h===u&&(u=!1):'"'===h||"'"===h?u=h:"("===h?c+=1:")"===h?c>0&&(c-=1):0===c&&-1!==t.indexOf(h)&&(s=!0),s?(""!==a&&i.push(a.trim()),a="",s=!1):a+=h}return(o||""!==a)&&i.push(a.trim()),i}Object.defineProperty(t,"__esModule",{value:!0}),t.split=n,t.splitBySpaces=function(e){return n(e,[" ","\n","\t"])},t.splitByCommas=function(e){return n(e,[","],{last:!0})}})),tk=["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"],nk=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSize=function(e){return/^[\d\.]/.test(e)||-1!==e.indexOf("/")||-1!==tk.indexOf(e)}})),rk=r(o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["style","weight","stretch","variant"];function r(e,t){return void 0===t&&(t=Error),new t("[parse-css-font] "+e)}function o(e){var t=parseFloat(e);return t.toString()===e?t:e}t.default=function(e){if("string"!=typeof e)throw r("Expected a string.",TypeError);if(""===e)throw r("Cannot parse an empty string.");if(-1!==YS.indexOf(e))return{system:e};var t={lineHeight:"normal",stretch:"",style:"",variant:"",weight:""},i=[function(e){if(-1===XS.indexOf(e))return;if(t.style)throw r("Font style already defined.");return t.style=e},function(e){if(-1===QS.indexOf(e))return;if(t.weight)throw r("Font weight already defined.");return t.weight=e},function(e){if(-1===ZS.indexOf(e))return;if(t.stretch)throw r("Font stretch already defined.");return t.stretch=e},function(e){return!nk.isSize(e)&&(t.variant=t.variant?[t.variant,e].join(" "):e)}],a=ek.splitBySpaces(e);e:for(var s=a.shift();s;s=a.shift())if("normal"!==s){for(var c=0,u=i;c<u.length;c++){if((0,u[c])(s))continue e}var l=ek.split(s,["/"]);if(t.size=l[0],l[1]?t.lineHeight=o(l[1]):"/"===a[0]&&(a.shift(),t.lineHeight=o(a.shift())),!a.length)throw r("Missing required font-family.");t.family=ek.splitByCommas(a.join(" ")).map($S);for(var f=0,d=n;f<d.length;f++){var h=d[f];t[h]=t[h]||"normal"}return t}throw r("Missing required font-size.")},e.exports=Object.assign(t.default,t)}))),ok={moveTo:0,lineTo:0,bezierCurveTo:0,quadraticCurveTo:0,arc:0,arcTo:0,ellipse:0,rect:0,addPath:0,closePath:0},ik=function(){function e(){this._paths=[]}var t=e.prototype;return t.addPath=function(t,n){t instanceof e?this._paths.push(["addPath",[t.toJSON(),n]]):ps.warn("Please pass Path2D object as first argument")},t.toJSON=function(){return["path2d",this._paths]},e}();ik._=O_(ik,ok,(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._paths.push([e,n])}}));var ak="sans-serif",sk=12,ck=64,uk={arc:2,arcTo:2,bezierCurveTo:2,closePath:2,moveTo:2,quadraticCurveTo:2,rect:2,clearRect:4,fillText:4,fillRect:4,restore:4,rotate:4,save:4,scale:4,strokeText:4,strokeRect:4,transform:4,translate:4,clip:20,fill:20,stroke:20,setTransform:4,setLineDash:4,fillStyle:72,shadowOffsetX:8,shadowOffsetY:8,shadowColor:8,shadowBlur:8,strokeStyle:72,lineWidth:8,lineCap:8,lineJoin:8,miterLimit:8,lineDashOffset:8,globalAlpha:8,globalCompositeOperation:8,textAlign:8,textBaseline:8,setLineCap:sk,setLineJoin:sk,setLineWidth:sk,setMiterLimit:sk,setTextAlign:sk,setTextBaseline:sk,setGlobalAlpha:sk,setFillStyle:76,setStrokeStyle:76,setShadow:4};function lk(){}var fk=function(){function e(e,t){this.type=e,this.data=t,this.colorStop=[]}var t=e.prototype;return t.addColorStop=function(e,t){this.colorStop.push([e,t])},t.toJSON=function(){return[this.type,this.data,this.colorStop]},e}(),dk=function(){function e(e,t){this.image=e,this.repetition=t}return e.prototype.toJSON=function(){return["pattern",this.image,this.repetition]},e}(),hk=function(){function e(e,t,n,r){var o=this;this.canvasId=e,this.appKey=t,this.webviewId=n,this.cmpId=r,this.path=[],this.actions=[],this._font={value:"10px sans-serif",fontSize:10,fontFamily:[ak]},this._propertyValue=new Map,this.tunnel=new GS({send:function(e){U_("canvas"+o.appKey+o.cmpId+o.canvasId+"Tunnel",e,[o.webviewId])}},{})}var t=e.prototype;return t.draw=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=lk);var r=[].concat(this.actions);this.actions=[],this.path=[];var o={canvasId:this.canvasId,webviewId:this.webviewId,appKey:this.appKey,cmpId:this.cmpId,actions:r,reserve:e,callback:t};VS.hasCanvasInserted(this.webviewId,this.cmpId,this.canvasId)?pk(o):VS.cacheAction(this.webviewId,this.cmpId,this.canvasId,(function(e){e!==n.cmpId&&(n.cmpId=e),o.cmpId=e,pk(o)}))},t.createPath2D=function(){return new ik},t.beginPath=function(){this.path=[],this._pushAction(zS.beginPath)},t.lineTo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.path.length>0?this._pushPath(zS.lineTo,t):this._pushPath(zS.moveTo,t)},t.setFontSize=function(e){if(e=+e,!Number.isNaN(e)){e=Math.max(e,0);var t=this._font.value;this._font.fontSize=e,this._font.value=t.replace(/\d+\.?\d*(?=px)/,""+e),this._pushAction(zS.setFont,[this._font.value])}},t.createLinearGradient=function(e,t,n,r){return new fk("linear",[e,t,n,r])},t.createCircularGradient=function(e,t,n){return new fk("radial",[e,t,0,e,t,n])},t.drawImage=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ps.log("drawImage inner webcanvas",e,n);var o=n.length;if(2!==o&&4!==o&&8!==o)throw new Error("drawImage 参数不合法");this._pushAction(zS.drawImage,[this._normalizeImagePath(e)].concat(n))},t.measureText=function(e){e=null==e?""+e:e.toString();var t={width:0},n=this._font;return W_("measureText",{fontSize:n.fontSize,font:n.fontFamily,text:e,success:function(e){void 0===e&&(e={}),t=e.data||t}}),t},t.createPattern=function(e,t){return new dk(this._normalizeImagePath(e),t)},t.getImageData=function(e,t,n,r,o){this._runCommand("getImageData",{sx:e,sy:t,sw:n,sh:r},(function(e,t){if(e){var n={errMsg:"getImageData:fail"};return null==o||null==o.fail||o.fail(n),void(null==o||null==o.complete||o.complete(n))}var r={errMsg:"getImageData:ok",width:t.width,height:t.height,data:new Uint8ClampedArray(t.data)};null==o||null==o.success||o.success(r),null==o||null==o.complete||o.complete(r)}))},t.putImageData=function(e,t,n,r,o,i,a,s){s="number"==typeof r?s:r;var c={width:e.width,height:e.height,data:Array.from(e.data)},u="number"==typeof o?{imageData:c,dx:t,dy:n,dirtyX:r,dirtyY:o,dirtyWidth:i,dirtyHeight:a}:{imageData:c,dx:t,dy:n};this._runCommand("putImageData",u,(function(e){var t,n,r,o={errMsg:"putImageData:"+(e?"fail":"ok")};e?null==(n=s)||null==n.fail||n.fail(o):null==(r=s)||null==r.success||r.success(o);null==(t=s)||null==t.complete||t.complete(o)}))},t.isPointInStroke=function(){for(var e,t=this.actions.length-1;t>=0;t--)if(this.actions[t][0]===zS.setLineDash){e=this.actions[t][1][0];break}for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this._checkPointIn("isPointInStroke",{lineWidth:this._getProperty("lineWidth"),lineDash:e,lineDashOffset:this._getProperty("lineDashOffset")},r)},t.isPointInPath=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[2]?e=n[2]:"string"==typeof n[3]&&(e=n[3]),this._checkPointIn("isPointInPath",{fillRule:e},n)},t._checkPointIn=function(e,t,n){var r,o,i,a,s;if("number"==typeof n[0]&&"number"==typeof n[1])o=void 0,i=n[0],a=n[1],s=n[2];else{if(!(n[0]instanceof ik&&"number"==typeof n[1]&&"number"==typeof n[2])){var c,u;s="object"==typeof n[2]?n[2]:"object"==typeof n[3]?n[3]:void 0;var l={errMsg:e+":fail arguments are not valid"};return null==(c=s)||null==c.fail||c.fail(l),void(null==(u=s)||null==u.complete||u.complete(l))}o=n[0],i=n[1],a=n[2],s=n[3]}this._runCommand(e,Object.assign({x:i,y:a,path:null!=(r=o)?r:["path2d",this.path]},t),(function(t,n){var r,o;if(t){var i,a,c={errMsg:e+":fail "+t.message};return null==(i=s)||null==i.fail||i.fail(c),void(null==(a=s)||null==a.complete||a.complete(c))}var u={errMsg:"isPointInStroke:ok",result:n};null==(r=s)||null==r.success||r.success(u),null==(o=s)||null==o.complete||o.complete(u)}))},t._normalizeImagePath=function(e){return e.startsWith("ttfile://")&&W_("protocolPathToAbsPath",{protocolPath:e,success:function(t){var n=t.absPath;n.startsWith("file://")||(n="file://"+n),e=n}}),e},t._getProperty=function(e){return this._propertyValue.get(KS(e))},t._setProperty=function(e,t){this._pushAction(zS.setProperty,[e,t]),this._propertyValue.set(KS(e),t)},t._pushAction=function(e,t){this.actions.push(void 0!==t?[e,t]:[e])},t._pushPath=function(e,t){this.path.push(void 0!==t?[e,t]:[e])},t._runCommand=function(e,t,n){var r=this;VS.hasCanvasInserted(this.webviewId,this.cmpId,this.canvasId)?(q_("canvas"+this.appKey+this.cmpId+this.canvasId+"Tunnel",(function(e,t){t===r.webviewId&&r.tunnel.onMessage(e)})),this.tunnel.call(e,[t]).then((function(e){return n(null,e)})).catch((function(e){return n(e,void 0)}))):VS.cacheAction(this.webviewId,this.cmpId,this.canvasId,(function(o){o!==r.cmpId&&(r.cmpId=o),r._runCommand(e,t,n)}))},vs(e,[{key:"font",get:function(){return this._font.value},set:function(e){try{var t=rk(e);if("size"in t&&"family"in t&&t.size&&t.family){var n=t.size,r=t.family;r.includes(ak)||r.push(ak);var o=n.endsWith("px")?parseInt(n.slice(0,-2),10):NaN;Number.isNaN(o)||(this._font={value:e,fontSize:o,fontFamily:r})}this._pushAction(zS.setFont,[e])}catch(t){ps.warn("No support canvas font syntax: "+e+"("+t.message+")")}}}]),e}();function pk(e){ps.log("invoke callDraw",e);var t=e.canvasId,n=e.webviewId,r=e.appKey,o=e.cmpId,i=e.actions,a=e.reserve,s=e.callback,c=s_();U_("canvas"+r+o+t+"Draw",{actions:i,reserve:a,randid:c},[n]),q_("canvas"+r+o+t+"DrawDone"+c,(function(e){s()}))}function vk(e,t){var n=HS(e),r={enumerable:!1,configurable:!0};if(4==(t&sk))r.value=16&t?function(){this._pushAction(n,[].concat(this.path))}:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._pushAction(n,t)};else if(8==(8&t)){var o=4==(4&t),i=(t&ck)===ck,a=HS(o?""+e.charAt(3).toLowerCase()+e.slice(4):e),s=i?function(t){"string"==typeof t||"number"==typeof t||t instanceof fk||t instanceof dk?this._setProperty(a,t):ps.warn("Canvas:",e+" 只能接受字符串、数组、Gradient、Pattern，其他值会忽略。当前为 "+typeof t)}:function(t){"string"==typeof t||"number"==typeof t?this._setProperty(a,t):ps.warn("Canvas:",e+" 只能接受字符串或数字，其他值会忽略。当前为 "+typeof t)};o?r.value=s:(r.set=s,r.get=function(){})}else 2==(2&t)&&(r.value=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._pushPath(n,t)});if(r.value)r.writable=!1;else if(!r.set)return null;return r}hk._=O_(hk,uk,vk);var gk=rw(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t);return{F:n,d:[{kind:"field",key:"manager",value:function(){return VS}},{kind:"method",decorators:[lw()],key:"createCanvasContext",value:function(e,t){var n,r=this.container.appKey,o=getCurrentPages(),i=o.length>=1?o[o.length-1].__webviewId__:-1;return ps.log("createCanvasContext",e,i),new hk(e,r,i,null!=(n=null==t?void 0:t.__nodeId__)?n:0)}},{kind:"method",decorators:[lw()],key:"canvasToTempFilePath",value:function(e,t){var n=this;this.createCanvasContext(e.canvasId,t)._runCommand("canvasToTempFilePath",e,(function(t,r){var o;t?n.beforeInvokeFail("canvasToTempFilePath",e,null!=(o=null==t?void 0:t.message)?o:""):W_("base64ToTempFilePath",Object.assign({base64Data:r.dataUrl},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("base64ToTempFilePath","canvasToTempFilePath")}})}))}},{kind:"method",decorators:[lw()],key:"canvasGetImageData",value:function(e,t){this.createCanvasContext(e.canvasId,t).getImageData(e.x,e.y,e.width,e.height,e)}},{kind:"method",decorators:[lw()],key:"canvasPutImageData",value:function(e,t){this.createCanvasContext(e.canvasId,t).putImageData({width:e.width,height:e.height,data:e.data},e.x,e.y,e)}},{kind:"method",key:"setup",value:function(){var e=this;tS(Ay(n.prototype),"setup",this).call(this),this.subscribe("canvasInsert",(function(t,n){ps.log("subscribe [canvasInsert]",t,n),e.manager.insertCanvas(n,t.cmpId,t.canvasId)})),this.subscribe("canvasRemove",(function(t,n){ps.log("subscribe [canvasRemove]",t,n),e.manager.removeCanvas(n,t.cmpId,t.canvasId)}))}}]}}),fw);function mk(e){return ws().getContainer(e)}function yk(e){return"Object"===rb(e)}var bk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=this[r];return qy(o,t.slice(1),{slowReportKey:"pageInvoke",errMsg:"at "+this.__route__+" page "+r,context:this})};function _k(e,t){return Hy(t,{errMsg:e,context:t})}var wk=function(e){function t(t){var n;return(n=e.call(this,"APP-SERVICE-Engine: "+t)||this).type="AppServiceEngineKnownError",n.type="AppServiceEngineKnownError",n}return am(t,e),t}(xy(Error));function Sk(){}var kk=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function o(i,s,c,u,l){"object"==typeof s&&(c=s.depth,u=s.prototype,l=s.includeNonEnumerable,s=s.circular);var f=[],d=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function i(c,p){if(null===c)return null;if(0===p)return c;var v,g;if("object"!=typeof c)return c;if(e(c,t))v=new t;else if(e(c,n))v=new n;else if(e(c,r))v={};else if(o.__isArray(c))v=[];else if(o.__isRegExp(c))v=new RegExp(c.source,a(c)),c.lastIndex&&(v.lastIndex=c.lastIndex);else if(o.__isDate(c))v=new Date(c.getTime());else{if(h&&Buffer.isBuffer(c))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(c.length):Buffer.from(c.length),c.copy(v),v;e(c,Error)?v=Object.create(c):void 0===u?(g=Object.getPrototypeOf(c),v=Object.create(g)):(v=Object.create(u),g=u)}if(s){var m=f.indexOf(c);if(-1!==m)return d[m];f.push(c),d.push(v)}for(var y in e(c,t)&&c.forEach((function(e,t){var n=i(t,p-1),r=i(e,p-1);v.set(n,r)})),e(c,n)&&c.forEach((function(e){var t=i(e,p-1);v.add(t)})),c){var b=void 0;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(v[y]=i(c[y],p-1))}if(Object.getOwnPropertySymbols)for(var _=Object.getOwnPropertySymbols(c),w=0;w<_.length;w++){var S=_[w],k=Object.getOwnPropertyDescriptor(c,S);(!k||k.enumerable||l)&&(v[S]=i(c[S],p-1),k.enumerable||Object.defineProperty(v,S,{enumerable:!1}))}if(l)for(var T=Object.getOwnPropertyNames(c),E=0;E<T.length;E++){var C=T[E],I=Object.getOwnPropertyDescriptor(c,C);null!=I&&I.enumerable||(v[C]=i(c[C],p-1),Object.defineProperty(v,C,{enumerable:!1}))}return v}(i,c)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();function Tk(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=t(Tk(e[n],t),n,e);else{if(null===e)return null;if("object"==typeof e)for(var r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];e[i]=t(Tk(e[i],t),i,e)}}return e}function Ek(e,t){for(var n in void 0===t&&(t={}),t)Object.prototype.hasOwnProperty.call(e,n)?"object"!=typeof e[n]||"object"!=typeof t[n]||null===t[n]||t[n]instanceof Array?e[n]=t[n]:Ek(e[n],t[n]):e[n]=t[n]}function Ck(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var Ik=Object.prototype.toString;function Ak(e){return"[object Function]"===Ik.call(e)}function Mk(e){return null===e}function Ok(e){return function(e){return void 0===e}(e)||Mk(e)}function Rk(){return mk(D_).componentInstances}function xk(e,t){void 0===t&&(t=0);var n=null;try{n=0===t?mk(D_).C[e]:Rk()[e][t]}catch(n){ps.info("Cannot find correct instance with nodeId: "+t+" and webviewId: "+e)}return n}function Pk(){return mk(D_).getPages()}function Nk(){var e=Pk(),t=e.length;if(0===t)throw new Error("Cannot get current webview id");return e[t-1].__webviewId__}function jk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Lk(e){try{return decodeURIComponent(e)}catch(t){return e}}var Dk=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"createSelectorQuery",value:function(e){var t=null;if(null!=e&&e.page)t=e.page.__webviewId__;else{var n=Pk();if(0===n.length)return null;t=n[n.length-1].__webviewId__}return new Bk(t)}}]}}),fw),Bk=function(){function e(e){var t=this;this._webviewid=e,this._component=-1,this._queue=[],this._queueCb=[],"kernel"===ws().runningSpace&&Object.defineProperties(this,{kernelSelect:{writable:!1,configurable:!1,enumerable:!1,value:function(e,n,r){return void 0===n&&(n=-1),void 0===r&&(r=!1),new Uk(t,n,e,!0,r)}},kernelSelectAll:{writable:!1,configurable:!1,enumerable:!1,value:function(e,n,r){if(void 0===n&&(n=-1),void 0===r&&(r=!1),"string"!=typeof e)throw new Error("kernelSelectAll only accept string selector");return new Uk(t,n,e,!1,r)}}})}var t=e.prototype;return t.in=function(e){return null===this._webviewid?(this._webviewid=e.__webviewId__,this._component=e.__nodeId__):this._webviewid===e.__webviewId__?this._component=e.__nodeId__:ps.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored and the page root is used as the current component."),this},t.select=function(e){return new Fk(this,this._component,e,!0)},t.selectAll=function(e){return new Fk(this,this._component,e,!1)},t.selectViewport=function(){return new Fk(this,0,"",!0)},t._push=function(e,t,n,r,o){this._queue.push({component:t,selector:e,single:n,fields:r}),this._queueCb.push(o||null)},t.exec=function(e){var t=this,n=function(){!function(e,t,n){qk++,Wk[qk]=n,U_("requestComponentInfo",{reqId:qk,reqs:t},[e])}(t._webviewid,t._queue,(function(n){var r=t._queueCb;n.forEach((function(e,n){var o=t._queue[n];if(o.fields.context&&e)for(var i,a=o.single?[e]:e,s=ls(a);!(i=s()).done;){var c=i.value;if(c.context)switch(c.context.type){case"canvas":var u=ws().getContainer(D_).appKey;c.context=new hk(c.context.canvasId,u,t._webviewid,c.context.cmpId);break;default:c.context=null}}if(ws().newFramework){var l=ws().getContainer().renderers[t._webviewid];Array.isArray(e)?e.forEach((function(e){null!==e&&l.restoreDataset(e)})):null!==e&&l.restoreDataset(e)}var f=r[n];"function"==typeof f&&f.call(t,e)})),"function"==typeof e&&e.call(t,n)}))};if(ws().newFramework){var r=ws().getContainer().renderers[this._webviewid];if(r&&r.pending)return r.nextRender(n)}return n()},e}(),Fk=function(){function e(e,t,n,r){this._selectorQuery=e,this._component=t,this._selector=n,this._single=r}var t=e.prototype;return t.fields=function(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery},t.boundingClientRect=function(e){return this.fields({id:!0,dataset:!0,rect:!0,size:!0},e)},t.scrollOffset=function(e){return this.fields({id:!0,dataset:!0,scrollOffset:!0},e)},t.context=function(e){return this.fields({context:!0},e)},e}(),Uk=function(e){function t(t,n,r,o,i){var a;return void 0===i&&(i=!1),(a=e.call(this,t,n,r,o)||this)._rangSelect=i,a}am(t,e);var n=t.prototype;return n.fields=function(t,n){return e.prototype.fields.call(this,Object.assign({},t,{_rangeSelect:this._rangSelect}),n)},n.triggerEvent=function(e,t,n){return this.fields({_triggerEvent:{event:e,argument:t}},n)},n.callMethod=function(e,t,n){return this.fields({_callMethod:{method:e,args:null!=t?t:[]}},n)},t}(Fk),qk=1,Wk={};q_("responseComponentInfo",(function(e,t){var n=e.reqId,r=Wk[n];if(r){delete Wk[n];var o=ws();if(o.newFramework){var i=o.getContainer();if(i.C[t]){var a=i.C[t].page;e.res.forEach((function(e){a.renderer.restoreDataset(e)})),r(e.res)}}else r(e.res)}}));var Vk=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"login",value:function(e){var t=Object.assign({force:!0},e),n="ios"===TMAConfig.platform?"tma_login":"login";this.invokeMethod(n,t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("tma_login","login")}})}},{kind:"field",decorators:[lw()],key:"checkSession",value:function(){return this.createInvokeMethodApi("checkSession")}}]}}),fw),zk=function(){function e(e,t){this.store=void 0,this.enabled=void 0,this._storageInfo=void 0;try{var n=JSON.parse(e);this.store=new Map(Object.entries(n).map((function(e){var t=e[0],n=e[1],r=n.type,o=n.value;return[t,p_(o,r)]})));var r=JSON.parse(t);if(r.keys=JSON.parse(r.keys),r.keySet=new Set(r.keys),Yb(null==r?void 0:r.currentSize)||Yb(null==r?void 0:r.limitSize)||!Array.isArray(null==r?void 0:r.keys))throw new Error("irlegal storageInfo");this._storageInfo=r,this.enabled=!0,ps.log("storage_buf_debug=>, storageBuf 类初始化 成功！store as=>",this.store)}catch(e){ps.log("storage_buf_debug=>, storageBuf 类初始化 失败！"),ky.build(by.api,my.api_fail).addMap({api_name:"_storageBuffer",error:"StorageBufferInitFail: "+(null==e?void 0:e.message),stack:null==e?void 0:e.stack}).flush(),this.store=new Map,this.enabled=!1}}var t=e.prototype;return t.has=function(e){return this.store.has(e)},t.setCurrentSize=function(e){ps.log("storage debug setting current size=>",e),this.isEnabled&&(this.storageInfo.currentSize=e)},t.get=function(e){return ps.log("storage_buf_debug=> 缓存命中 key=> ",e),this.store.get(e)},t.getString=function(e){return h_(this.store.get(e))},t.remove=function(e){var t,n;this.store.delete(e),null==(t=this._storageInfo)||null==(n=t.keySet)||null==n.delete||n.delete(e)},t.clear=function(){var e,t;this.store.clear(),null==(e=this._storageInfo)||null==(t=e.keySet)||null==t.clear||t.clear()},t.set=function(e,t){var n,r;this.store.set(e,t),null==(n=this._storageInfo)||null==(r=n.keySet)||null==r.add||r.add(e)},vs(e,[{key:"storageInfo",get:function(){var e=this._storageInfo,t=e.currentSize,n=e.limitSize,r=e.keySet;return{currentSize:t,limitSize:n,keys:Array.from(r.keys())}}},{key:"isEnabled",get:function(){return this.enabled}}]),e}(),Gk=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",key:"inited",value:function(){return!1}},{kind:"field",key:"buf",value:void 0},{kind:"field",decorators:[lw()],key:"getStorage",value:function(){var e=this;return this.createInvokeMethodApi("getStorage",{checkParams:{key:""},beforeSuccess:function(t,n,r){var o,i,a=t;(a.data=p_(a.data,a.dataType),o=null==r?void 0:r.get("key"))&&(null==(i=e.getStorageBuf())||i.set(o,a.data));delete a.dataType},beforeInvokeHook:function(t,n){var r,o,i=t.key;if(null!=(r=e.getStorageBuf())&&r.has(i))return null==(o=e.getStorageBuf())||null==o.getString?void 0:o.getString(i);null==n||n.set("key",i)}})}},{kind:"field",decorators:[lw()],key:"getStorageSync",value:function(){var e=this;return function(t){var n,r;if(e.beforeInvoke("getStorageSync",t,""))return(r=null==(n=e.getStorageBuf())||null==n.get?void 0:n.get(t))||e.invokeMethod("getStorageSync",{key:t},{beforeAll:function(e){void 0===e&&(e={}),r=p_(e.data,e.dataType)},beforeSuccess:function(){var n;null==(n=e.getStorageBuf())||n.set(t,r)}}),r}}},{kind:"field",decorators:[lw()],key:"setStorage",value:function(){var e=this;return this.createInvokeMethodApi("setStorage",{paramsTransformer:function(e,t){var n=e.key,r=e.data,o=h_(r);return null==t||t.set("data",r),null==t||t.set("key",n),{key:n,data:o.data,dataType:o.dataType}},beforeSuccess:function(t,n,r){var o,i,a,s,c=t.currentSize;(null==(o=e.getStorageBuf())||null==o.setCurrentSize||o.setCurrentSize(c),(i=null==r?void 0:r.get("key"))&&(a=null==r?void 0:r.get("data")))&&(null==(s=e.getStorageBuf())||null==s.set||s.set(i,a))}})}},{kind:"field",decorators:[lw()],key:"setStorageSync",value:function(){var e=this;return function(t,n){if(void 0===n&&(n=""),e.beforeInvoke("setStorageSync",t,"")){var r=h_(n),o=r.data,i=r.dataType,a=!1,s="";if(e.invokeMethod("setStorageSync",{key:t,data:o,dataType:i,fail:function(e){void 0===e&&(e={}),s=e.errMsg,a=!0}},{beforeSuccess:function(r){var o,i,a=r.currentSize;(null==(o=e.getStorageBuf())||null==o.set||o.set(t,n),$b(a))&&(null==(i=e.getStorageBuf())||null==i.setCurrentSize||i.setCurrentSize(a))}}),a)throw new v_(s)}}}},{kind:"field",decorators:[lw()],key:"removeStorage",value:function(){return this.createInvokeMethodApi("removeStorage",{checkParams:{key:""}})}},{kind:"field",decorators:[lw()],key:"removeStorageSync",value:function(){var e=this;return function(t){e.beforeInvoke("removeStorageSync",t,"")&&e.invokeMethod("removeStorageSync",{key:t},{beforeSuccess:function(n){var r,o,i=n.currentSize;$b(i)&&(null==(o=e.getStorageBuf())||null==o.setCurrentSize||o.setCurrentSize(i));null==(r=e.getStorageBuf())||null==r.remove||r.remove(t)}})}}},{kind:"field",decorators:[lw()],key:"clearStorage",value:function(){var e=this;return this.createInvokeMethodApi("clearStorage",{beforeSuccess:function(t){var n,r,o=t.currentSize;$b(o)&&(null==(r=e.getStorageBuf())||null==r.setCurrentSize||r.setCurrentSize(o));null==(n=e.getStorageBuf())||null==n.clear||n.clear()}})}},{kind:"field",decorators:[lw()],key:"clearStorageSync",value:function(){var e=this;return function(){e.invokeMethod("clearStorageSync",{},{beforeSuccess:function(t){var n,r=t.currentSize;$b(r)&&(null==(n=e.getStorageBuf())||null==n.setCurrentSize||n.setCurrentSize(r))}})}}},{kind:"field",decorators:[lw()],key:"getStorageInfo",value:function(){var e=this;return this.createInvokeMethodApi("getStorageInfo",{beforeInvokeHook:function(){var t=e.getStorageBuf();if(t)return Object.assign({},t.storageInfo,{errMsg:""})}})}},{kind:"field",decorators:[lw()],key:"getStorageInfoSync",value:function(){var e=this;return function(){var t,n;return(n=null==(t=e.getStorageBuf())?void 0:t.storageInfo)||e.invokeMethod("getStorageInfoSync",{},{beforeAll:function(e){n=e,delete e.errMsg}}),n}}},{kind:"method",key:"getStorageBuf",value:function(){return this.inited||(this.buf=this.initBuf()),this.buf}},{kind:"method",key:"initBuf",value:function(){var e;this.inited=!0;var t=ws().global,n=t.nativeStorageInfo,r=t.nativeStorage,o=null!=n&&n.data&&null!=r&&r.data?new zk(r.data,n.data):void 0;return null!=(e=o)&&e.isEnabled||(o=void 0),o}}]}}),fw),Hk=0,Kk=new WeakMap,Jk=new WeakMap,$k=new WeakMap,Yk={},Qk=new Py;V_("onSocketTaskStateChange",(function(e){void 0===e&&(e={});var t=e.state,n=e.socketTaskId,r=Yk[n],o=Kk.get(r);delete e.state,delete e.socketTaskId,r&&("open"===t?r.readyState=r.OPEN:"close"!==t&&"error"!==t||(r.readyState=r.CLOSED),Qk.emit(""+o+t,e),Qk.emit("onSocket"+(t[0].toUpperCase()+t.substr(1)),e,r),"close"===t&&(delete Yk[n],Qk.removeAllListeners(o+"open"),Qk.removeAllListeners(o+"close"),Qk.removeAllListeners(o+"error"),Qk.removeAllListeners(o+"message")),Zk(r,t))}));var Xk=function(e,t){Kk.get(this),Qk.on(""+Kk.get(this)+e,d_(t,"at socketTask.on"+e+" callback function"))};function Zk(e,t){if(e&&"message"!==t){var n="open"===t?my.socket_open:"close"===t||"error"===t?my.socket_close:"max"===t?my.socket_reach_max_count:null,r=$k.get(e);if(r&&n){var o=r.url;"string"!=typeof o&&(o="");var i={socket_url:o.split("?")[0],socket_state:t,socket_connected_count:Object.keys(Yk).length};ky.build(by.network,n).addMap(i).flush()}}}var eT=function(){function e(e,t){var n=this;this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.readyState=this.CONNECTING;var r,o=Hk++;if(Kk.set(this,o),$k.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((function(e){"function"==typeof t[e]&&(t[e]=d_(t[e],"at api connectSocket "+e+" callback function"))})),Object.keys(Yk).length>=5)return this.readyState=this.CLOSED,"function"==typeof t.fail&&t.fail({errMsg:"connectSocket:fail reach max websocket connect count 5"}),Zk(this,"max"),this;W_("createSocketTask",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:function(e){Jk.set(n,e.socketTaskId),Yk[e.socketTaskId]=n},beforeFail:function(e){r=e.errMsg}}),r&&(this.readyState=this.CLOSED,setTimeout((function(){Qk.emit(o+"error",{errMsg:r})}),0))}var t=e.prototype;return t.send=function(e){G_("SocketTask.send",e,{})&&("[object Object]"===Object.prototype.toString.call(e.data)&&(e.data=JSON.stringify(e.data)),this.readyState===this.OPEN?W_("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:Jk.get(this)}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateSocketTask","sendSocketMessage")}}):H_("SocketTask.send",e,"SocketTask.readState is not OPEN"))},t.close=function(e){void 0===e&&(e={}),W_("operateSocketTask",Object.assign({},e,{operationType:"close",code:1e3,socketTaskId:Jk.get(this)}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})},t.onOpen=function(e){Xk.call(this,"open",e)},t.onClose=function(e){Xk.call(this,"close",e)},t.onMessage=function(e){Xk.call(this,"message",e)},t.onError=function(e){Xk.call(this,"error",e)},e}(),tT=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",key:"socketTaskPool",value:function(){return new WeakMap}},{kind:"field",key:"commandCallbackMap",value:function(){return{}}},{kind:"field",key:"instanceKey",value:function(){return{}}},{kind:"method",decorators:[lw()],key:"connectSocket",value:function(e){if(this.beforeInvoke("connectSocket",e,{url:""})){if(!o_(e.url,"websocket"))return void this.beforeInvokeFail("request",e,'invalid url "'+e.url+'"');e.protocols&&!Qb(e.protocols)&&this.beforeInvokeFail("connectSocket",e,"protocols should be an array."),function(e){return Qb(e)&&0===e.length}(e.protocols)&&(e.protocols=null,delete e.protocols),"object"!=typeof e.header&&void 0!==e.header&&delete e.header;var t={};e.header&&(t=c_(e.header));try{var n=this.socketTaskPool.get(this.instanceKey),r=new eT(this.instanceKey,Object.assign({},e,{header:t,header2:Object.keys(t).map((function(e){return[e,String(t[e])]}))}));return n&&n.readyState!==n.CLOSED||this.socketTaskPool.set(this.instanceKey,r),r}catch(t){this.beforeInvokeFail("connectSocket",e,t.message)}}}},{kind:"method",key:"closeSocket",value:function(e){var t=this.socketTaskPool.get(this.instanceKey);for(var n in t&&t.readyState!==t.CLOSED?(t.readyState=t.CLOSED,t.close(e)):this.beforeInvokeFail("closeSocket",e,"WebSocket is not connected"),Yk){var r=Yk[n];r.__socketInstance__===this.instanceKey&&(r.readyState=r.CLOSED,r!==t&&r.close())}}},{kind:"method",key:"sendSocketMessage",value:function(e){var t=this.socketTaskPool.get(this.instanceKey);t&&t.readyState===t.OPEN?t.send(e):this.beforeInvokeFail("sendSocketMessage",e,"WebSocket is not connected")}},{kind:"field",key:"onSocketOpen",value:function(){return this.onSocket(this.instanceKey,"Open")}},{kind:"field",key:"onSocketClose",value:function(){return this.onSocket(this.instanceKey,"Close")}},{kind:"field",key:"onSocketMessage",value:function(){return this.onSocket(this.instanceKey,"Message")}},{kind:"field",key:"onSocketError",value:function(){return this.onSocket(this.instanceKey,"Error")}},{kind:"method",key:"onSocket",value:function(e,t){var n=this;return this.commandCallbackMap[t]||(this.commandCallbackMap[t]=new WeakMap,Qk.on("onSocket"+t,this._check(t))),function(r){n.beforeInvoke("onSocket"+t,r,z_)&&n.commandCallbackMap[t].set(e,r)}}},{kind:"method",key:"_check",value:function(e){var t=this;return function(n,r){var o=r.__socketInstance__,i=t.commandCallbackMap[e].get(o),a=t.socketTaskPool.get(o);i&&r===a&&d_(i,"at onSocket"+e+" callback function")(n)}}}]}}),fw);var nT,rT="onPageResize",oT="onWindowResize",iT={inserted:"webViewInserted",removed:"webViewRemoved"},aT=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"WindowResize",value:function(){var e=this;return this.createNativeEventApi(oT,{whenEventEmit:function(t){var n=e.container.getAllPageWebviewIds();e.publish(oT,t.size,n)},whenEventEmitted:function(e){var t=e.size;"undefined"!=typeof appData&&appData.systemInfo&&(appData.systemInfo.screenWidth=t.windowWidth,appData.systemInfo.windowWidth=t.windowWidth,appData.systemInfo.screenHeight=t.windowHeight,appData.systemInfo.windowHeight=t.windowHeight)}})}}]}}),fw);!function(e){e[e.WEB_VIEW=1]="WEB_VIEW",e[e.ORYX_VIEW=2]="ORYX_VIEW"}(nT||(nT={}));var sT,cT=_k("onWebviewEvent",(function(e,t){t.data&&!Array.isArray(t.data)&&"string"==typeof t.data.type&&(e.detectUserInteraction=t.data.type),function(e,t){var n=t.type,r=t.data,o=t.webviewId,i=t.nodeId,a=e.C,s=e.componentInstances;if(a.hasOwnProperty(o)){var c=a[o].page;if(ps.info("Invoke event "+n+" in page: "+c.__route__),"__DOMReady"!==n){if("selectionChange"===n)return e.host.newFramework&&r.selectedObject.forEach((function(e){c.renderer.restoreDataset(e)})),void("function"==typeof c.onSelectionChange?c.onSelectionChange(r):"function"==typeof c.onSelectChange&&(ps.deprecated("Please use onSelectionChange instead of onSelectChange"),c.onSelectChange(r)));if("onReachBottom"!==n&&"onPageScroll"!==n){if(e.host.newFramework)return"target"in r&&c.renderer.restoreDataset(r.target),"currentTarget"in r&&c.renderer.restoreDataset(r.currentTarget),void c.renderer.triggerEvent(i,n,r);if(!(i>0))return e.scalar.walkWithRestore(r,c),jk(c,n)?bk.call(c,n,r):void ps.warn("事件警告","Do not have "+n+" handler in current page: "+c.__route__+". Please make sure that "+n+" handler has been defined in "+c.__route__+", or "+c.__route__+" has been added into app.json");if(!s.hasOwnProperty(o)||!s[o].hasOwnProperty(i))return void ps.warn("事件警告","OnWebviewEvent: "+n+", WebviewId: "+o+", NodeId: "+i+" not found");var u=s[o][i].instance,l=u[n];if(e.scalar.walkWithRestore(r,u),Ak(l)){var f=Array.isArray(r)?r:[r];l.apply(u,f)}else ps.warn('Component "'+u.__route__+'" does not have a method "'+n+'"')}else"function"==typeof c[n]&&c[n](r)}else c.onReady()}else ps.warn("事件警告 OnWebviewEvent: "+n+" WebviewId: "+o+" not found")}(e,t),e.detectUserInteraction=null}));V_("onCoverImageTapped",(function(e,t){void 0===t&&(t=0);var n=ws(),r=n.getContainer();if(e.data){var o=JSON.parse(e.data);if(o.bindtap){if(n.newFramework){var i=r.C[t].page;i.renderer.restoreDataset(o.target),i.renderer.restoreDataset(o.currentTarget)}cT(r,{data:{type:o.eventType||"cover-image",target:o.target,currentTarget:o.target,timeStamp:Date.now(),touches:[],detail:{}},type:o.bindtap,webviewId:t,nodeId:o.nodeId})}}})),V_("onKeyboardValueChange",(function(e,t){U_("setKeyboardValue",{value:e.value,cursor:e.cursor,inputId:e.inputId},[t]),clearTimeout(sT),sT=setTimeout((function(){!function(e,t){void 0===t&&(t=0);var n=ws(),r=e.value,o=n.getContainer();if(e.data){var i=JSON.parse(e.data);if(n.newFramework){var a=o.C[t].page;a.renderer.restoreDataset(i.target),a.renderer.restoreDataset(i.currentTarget)}if(i.bindinput){var s=cT(o,{data:{type:"input",target:i.target,currentTarget:i.target,timeStamp:Date.now(),touches:[],detail:{value:e.value,cursor:e.cursor}},type:i.bindinput,webviewId:t,nodeId:i.nodeId});if(null==s||!1===s);else if("Object"===Hb(s)){var c={inputId:e.inputId};r!=s.value&&void 0!==s.value&&(c.value=""+s.value),isNaN(parseInt(s.cursor,10))||(c.cursor=parseInt(s.cursor,10)),void 0===c.value&&(c.value=r),c.cursor>c.value.length&&(c.cursor=-1),W_("setKeyboardValue",c)}else{var u={value:""+s,cursor:-1,inputId:e.inputId};r!=s&&W_("setKeyboardValue",u)}}}}(e,t)}),60)})),[{message:"onVideoPlay",handlerName:"bindplay",type:"play"},{message:"onVideoPause",handlerName:"bindpause",type:"pause"},{message:"onVideoEnded",handlerName:"bindended",type:"ended"},{message:"onVideoError",handlerName:"binderror",type:"error"},{message:"onVideoTimeUpdate",handlerName:"bindtimeupdate",type:"timeupdate"},{message:"onVideoFullScreenChange",handlerName:"bindfullscreenchange",type:"fullscreenchange"},{message:"onVideoWaiting",handlerName:"bindwaiting",type:"waiting"},{message:"onTimeUpdate",handlerName:"bindtimeupdate",type:"timeupdate"}].forEach((function(e){var t=e.message,n=e.handlerName,r=e.type;V_(t,(function(e,t){var o=ws(),i=o.getContainer();if(e.data){var a=JSON.parse(e.data);if(o.newFramework){var s=i.C[t].page;s.renderer.restoreDataset(a.event.target),s.renderer.restoreDataset(a.event.currentTarget)}if(a.handlers&&a.handlers[n]){var c={};"timeupdate"===r?(c.currentTime=e.currentTime/1e3,c.duration=e.duration/1e3):"fullscreenchange"===r?(c.fullScreen=e.fullScreen,c.direction=e.direction):"statechange"===r?c.code=e.code:"error"===r&&(c.errMsg=e.errMsg),cT(i,{data:{type:r,target:a.event.target,currentTarget:a.event.target,timeStamp:Date.now(),touches:[],detail:c},type:a.handlers[n],webviewId:t,nodeId:a.nodeId})}}}))})),q_("newEditorInsertImages",(function(e,t){var n=ws(),r=n.getContainer(),o=e.editorId,i=e.target,a=e.handlerName,s=e.images,c=e.currentTarget;if(n.newFramework){var u=r.C[t].page;u.renderer.restoreDataset(i),u.renderer.restoreDataset(c)}var l={type:"insertimage",target:i,currentTarget:c,timeStamp:Date.now(),touches:[],detail:{editorId:o,images:s},insertImagesCallback:function(e){e&&e.images&&U_("newEditorInsertImagesCallback"+o,e,[t])}};cT(r,{data:l,type:a,webviewId:t,nodeId:e.nodeId||0})})),q_("newEditorGetFileInfo",(function(e,t){var n=ws(),r=n.getContainer(),o=e.data,i=o.nodeId,a=o.editorId,s=o.customId;if(n.newFramework){var c=r.C[t].page;c.renderer.restoreDataset(e.data.target),c.renderer.restoreDataset(e.data.currentTarget)}delete e.data.nodeId,e.data.getFileInfoCallback=function(e){U_("newEditorGetFileInfoCallback"+s+a,e,[t])},e.webviewId=t,e.nodeId=i,cT(r,e)})),q_("editorAtCallback",(function(e,t){var n=ws(),r=n.getContainer(),o=e.data,i=o.nodeId,a=o.editorId;if(n.newFramework){var s=r.C[t].page;s.renderer.restoreDataset(e.data.target),s.renderer.restoreDataset(e.data.currentTarget)}delete e.data.nodeId,e.data.atFinderCallback=function(e){U_("editorAtCallback"+a,e,[t])},e.webviewId=t,e.nodeId=i,cT(r,e)})),q_("pcEditorInsertImages",(function(e,t){var n=ws(),r=n.getContainer(),o=e.data,i=o.nodeId,a=o.editorId;if(n.newFramework){var s=r.C[t].page;s.renderer.restoreDataset(e.data.target),s.renderer.restoreDataset(e.data.currentTarget)}delete e.data.nodeId,e.data.insertImagesCallback=function(e){U_("pcEditorInsertImagesCallback"+a,e,[t])},e.webviewId=t,e.nodeId=i,cT(r,e)})),q_("pcEditorGetFileInfo",(function(e,t){var n=ws(),r=n.getContainer(),o=e.data,i=o.nodeId,a=o.editorId,s=o.customId;if(n.newFramework){var c=r.C[t].page;c.renderer.restoreDataset(e.data.target),c.renderer.restoreDataset(e.data.currentTarget)}delete e.data.nodeId,e.data.getFileInfoCallback=function(e){U_("pcEditorGetFileInfoCallback"+s+a,e,[t])},e.webviewId=t,e.nodeId=i,cT(r,e)})),q_("pcEditorUploadPasteImage",(function(e,t){var n=ws(),r=n.getContainer(),o=e.data,i=o.nodeId,a=o.editorId,s=o.customId,c=o.imageKey;if(n.newFramework){var u=r.C[t].page;u.renderer.restoreDataset(e.data.target),u.renderer.restoreDataset(e.data.currentTarget)}delete e.data.nodeId,e.data.uploadPasteImageCallback=function(e){U_("pcEditorUploadPasteImageCallback"+s+a+c,e,[t])},e.webviewId=t,e.nodeId=i,cT(r,e)})),q_("EditorMentionSelect",(function(e,t){var n=ws(),r=n.getContainer(),o=e.data,i=o.nodeId,a=o.editorId,s=o.customId;if(n.newFramework){var c=r.C[t].page;c.renderer.restoreDataset(e.data.target),c.renderer.restoreDataset(e.data.currentTarget)}delete e.data.nodeId,e.data.mentionSelectCallback=function(e){U_("EditorMentionSelectCallback"+s+a,e,[t])},e.webviewId=t,e.nodeId=i,cT(r,e)}));var uT=["log","warn","error","info","debug"],lT=["group","groupEnd"];function fT(){if("object"==typeof TMAConfig&&"debug"in TMAConfig&&TMAConfig.debug||"object"==typeof nativeTMAConfig&&"debug"in nativeTMAConfig&&nativeTMAConfig.debug){var e=[],t=[],n={};q_("GenerateFuncReady",(function(n,r){-1===t.indexOf(r)&&t.push(r),U_("vconsole_synchronize_logs",{logs:e},[r])})),[].concat(uT,lT).forEach((function(r){n[r]=console[r];var o=!1;console[r]=function(){var i=w_(arguments);e.length>1024&&e.shift(),e.push({method:r,args:i}),n[r].apply(console,arguments),t.length>0&&!o&&(o=!0,U_("vconsole_"+r,{log:i},t),o=!1)}})),t.length>0&&U_("vconsole_synchronize_logs",{logs:e},t)}}Ss((function(e){var t=e.global;"function"==typeof t.TMAConfig.onReady&&t.TMAConfig.onReady(fT),"function"==typeof t.TMAConfig.onRealReady&&t.TMAConfig.onRealReady(fT)}));var dT=["log","info","warn","error"];function hT(e){void 0===e&&(e={}),W_("exitMiniProgram",e)}function pT(e){var t=e.errCode===Gw.Cancelled||e.errMsg.startsWith("uploadFile:fail Canceled"),n=t?my.abort_upload:my.upload_result,r=t?"cancel":e.resultType,o=Date.now()-e.bizInvokeTime,i={request_trace:e.uploadTaskId,request_url:"string"==typeof e.url?e.url.split("?")[0]:Hb(e.url),request_biz_invoke_time:e.bizInvokeTime,error_msg:e.errMsg||"",error_code:e.errCode?e.errCode:0,duration:o,result_type:r,request_version:"v2",request_method:"string"==typeof e.method?e.method:Hb(e.method)};ky.build(by.network,n).addMap(i).flush()}V_("console",(function(e){void 0===e&&(e={}),(e.logs||[]).forEach((function(e){var t=e.method,n=e.msg;t&&n&&dT.includes(t)&&console&&console[t](n)}))}));var vT=new Py.EventEmitter2,gT=new Map;function mT(e,t,n){return function(r){var o=r.payload,i=r.errCode,a=r.errMsg,s=null;if("string"==typeof o)try{s=JSON.parse(o)}catch(e){a="uploadFile:fail sdk parse payload error",ps.error("[js-sdk-uploadFile] biz callback payload json parse error")}var c=s?Object.assign({trace:e.uploadTaskId,errMsg:a},s):{trace:e.uploadTaskId,errMsg:a};if("success"===n&&s)"function"==typeof e.success&&e.success(c);else{var u=void 0===i?c:Object.assign({},c,{errCode:i});"function"==typeof e.fail&&e.fail(u)}"function"==typeof e.complete&&e.complete(c),vT.removeAllListeners(e.uploadTaskId),pT({resultType:n,errMsg:a,bizInvokeTime:t,errCode:i,uploadTaskId:e.uploadTaskId,url:e.url,method:e.method})}}V_("onUploadFileProgress",(function(e){void 0===e&&(e={});var t=e,n=t.uploadTaskId,r=t.progress,o=t.totalBytesSent,i=t.totalBytesExpectedToSend;if(n){var a=gT.get(n);if((a||0===a)&&r<=a)return;gT.set(n,r),vT.emit(n,{progress:r,totalBytesSent:o,totalBytesExpectedToSend:i})}}));var yT=new WeakMap,bT=function(e){var t=this;this.requestVersion="v2",this.abort=function(){var e=yT.get(t);W_("uploadFileAbort",{payload:JSON.stringify({uploadTaskId:e})})},this.onProgressUpdate=function(e){var n=yT.get(t);vT.on(n,(function(t){"function"==typeof e&&d_(e,"at UploadTask.onProgressUpdate callback function")(t)}))};var n=P_();yT.set(this,n);var r=Date.now(),o=Object.assign({},e,{uploadTaskId:n});W_("uploadFile",{payload:JSON.stringify(o),fail:mT(o,r,"fail"),success:mT(o,r,"success")})};var _T="waiting",wT="sending",ST="done",kT="aborted",TT="created",ET="in_queue";function CT(e){var t,n=MT.get(e);LT.set(e,Date.now());var r=e.id;OT.set(e,wT),W_("createUploadTask",{url:n.url,header:n.header,filePath:n.filePath,name:n.name,formData:n.formData,taskId:r,success:function(t){xT.set(e,t.trace),e.taskId=String(t.uploadTaskId),FT.set(String(t.uploadTaskId),e.id),UT+=1,BT[t.uploadTaskId]=e},fail:function(n){xT.set(e,n.trace),t=n.errMsg,VT(e,"fail",t)},complete:function(){OT.set(e,ST)}}),t?setTimeout((function(){var e={errMsg:t.replace("createUploadTask","uploadFile")};"function"==typeof n.fail&&n.fail(e),"function"==typeof n.complete&&n.complete(e)}),0):(WT.on(e.id+"success",(function(e){e.errMsg="uploadFile:ok",e.statusCode=parseInt(e.statusCode,10),-1===[200,304].indexOf(e.statusCode)&&delete e.tempPath,"function"==typeof n.success&&n.success(e),"function"==typeof n.complete&&n.complete(e)})),WT.on(e.id+"fail",(function(e){e.errMsg="uploadFile:fail "+e.errMsg,"function"==typeof n.fail&&n.fail(e),"function"==typeof n.complete&&n.complete(e)})))}var IT=1,AT=new WeakMap,MT=new WeakMap,OT=new WeakMap,RT=new WeakMap,xT=new WeakMap,PT=new WeakMap,NT=new WeakMap,jT=new WeakMap,LT=new WeakMap,DT=new WeakMap,BT={},FT=new Map,UT=0,qT=[],WT=new Py.EventEmitter2;function VT(e,t,n){var r=DT.get(e),o=OT.get(e)===kT,i=o?my.abort_upload:my.upload_result,a=o?"cancel":t,s=MT.get(e),c=RT.get(e),u=Date.now()-c,l={request_trace:xT.get(e)||"",request_url:s.url.split("?")[0],request_method:s.method||"POST",request_biz_invoke_time:RT.get(e),request_push_queue_time:PT.get(e)||0,request_shift_queue_time:jT.get(e)||0,request_queue_length:NT.get(e)||0,request_abort_type:r||"",error_msg:n||"",duration:u,result_type:a,request_version:"v1"};ky.build(by.network,i).addMap(l).flush()}V_("onUploadTaskStateChange",(function(e){var t;void 0===e&&(e={});var n=e,r=n.state,o=n.uploadTaskId,i=null!=(t=FT.get(String(o)))?t:0;if(delete e.state,delete e.uploadTaskId,i&&WT.emit(""+i+r,e),"success"===r||"fail"===r){if(UT=Math.max(UT-1,0),qT.length>0){var a=qT.shift().item;jT.set(a,Date.now()),CT(a)}var s=BT[o];if(s){try{VT(s,r,e.errMsg)}catch(e){}delete BT[o],FT.delete(String(o)),WT.removeAllListeners(i+"success"),WT.removeAllListeners(i+"fail"),WT.removeAllListeners(i+"progressUpdate")}}}));var zT=function(e){var t=this;this.requestVersion="v1",this.id=void 0,this.taskId=void 0,this.abort=function(){var e=OT.get(t),n=MT.get(t);if(OT.set(t,kT),e===_T){var r=qT.findIndex((function(e){return e.id===AT.get(t)}));r>-1&&qT.splice(r,1),DT.set(t,ET),setTimeout((function(){var e="uploadFile:fail abort";"function"==typeof n.fail&&n.fail({errMsg:e}),VT(t,"cancel",e),"function"==typeof n.complete&&n.complete()}),0)}else e!==kT&&t.taskId&&(DT.set(t,TT),W_("operateUploadTask",{uploadTaskId:t.taskId,operationType:"abort"}))},this.onProgressUpdate=function(e){WT.on(t.id+"progressUpdate",(function(t){"function"==typeof e&&d_(e,"at UploadTask.onProgressUpdate callback function")(t)}))},RT.set(this,Date.now());var n=IT++;this.id=n,["success","fail","complete"].forEach((function(t){var n=e[t];"function"==typeof n&&(e[t]=d_(n,"at api uploadFile "+t+" callback function"))})),AT.set(this,n),MT.set(this,e),OT.set(this,_T),UT>=5?(PT.set(this,Date.now()),NT.set(this,qT.length),qT.push({id:n,item:this}),function(e){var t=MT.get(e),n={request_trace:xT.get(e)||"",request_url:t.url.split("?")[0],request_method:t.method||"GET",request_queue_length:5+qT.length,request_type:"request"};ky.build(by.network,my.request_waiting).addMap(n).flush()}(this)):CT(this)};function GT(e,t,n){var r=my.request_result,o={request_url:"string"==typeof e?e.split("?")[0]:Hb(e),request_method:"string"==typeof t?t:Hb(t),error_msg:n,result_type:"fail",request_version:"v1"};ky.build(by.network,r).addMap(o).flush()}var HT=function(){function e(t,n){var r=this;if(void 0===n&&(n=!1),this.taskId=P_(),this.bizInvokeTime=(new Date).valueOf(),this.illegal=!1,this.abort=function(){r.illegal||W_("downloadFileAbort",{payload:JSON.stringify({downloadTaskId:r.taskId})})},this.onProgressUpdate=function(t){r.illegal||"function"!=typeof t||e.eventNexus.on(r.taskId,(function(e){d_(t,"at downloadTask.onProgressUpdate callback function")(e)}))},n)this.illegal=!0;else{var o=Object.assign({},t,{taskId:this.taskId});W_("downloadFile",{payload:JSON.stringify(Object.assign({},t,{downloadTaskId:this.taskId})),fail:e.callBackWrapper(o,this.bizInvokeTime,"fail"),success:e.callBackWrapper(o,this.bizInvokeTime,"success")})}}return e.reportResult=function(e){var t=e.errCode===Gw.Cancelled||e.errMsg.toLocaleLowerCase().startsWith("downloadFile:fail canceled"),n=t?my.abort_download:my.download_result,r=t?"cancel":e.resultType,o=Date.now()-e.bizInvokeTime,i={request_version:"v2",request_trace:e.taskId,request_url:"string"==typeof e.url?e.url.split("?")[0]:rb(e.url),request_biz_invoke_time:e.bizInvokeTime,error_msg:e.errMsg||"",duration:o,result_type:r};ky.build(by.network,n).addMap(i).flush()},e.callBackWrapper=function(t,n,r){return function(o){var i=t.taskId,a=t.success,s=t.fail,c=t.complete,u=o.payload,l=o.errCode,f=null,d=o.errMsg;if("string"==typeof u)try{f=JSON.parse(u)}catch(e){d="downloadFile:fail sdk parse payload error",ps.error("[js-sdk-downloadFile] biz callback payload json parse error")}var h=f?Object.assign({},f,{trace:i,errMsg:d}):{errMsg:d,trace:i};if("success"===r&&f&&"function"==typeof a)a(h);else if("function"==typeof s){s(void 0===l?h:Object.assign({},h,{errCode:l}))}"function"==typeof c&&c(h),e.eventNexus.off(t.taskId),e.reportResult({resultType:r,errMsg:d,bizInvokeTime:n,errCode:l,taskId:t.taskId,url:t.url})}},e}();HT.eventNexus=new uw,HT.progressCacheMap=new Map,V_("onDownloadFileProgress",(function(e){var t;void 0===e&&(e={});var n=e,r=n.progress,o=n.downloadTaskId,i=n.totalBytesExpectedToWrite,a=n.totalBytesWritten;o&&!isNaN(r)&&(Number(r)<(null!=(t=HT.progressCacheMap.get(o))?t:0)||(HT.progressCacheMap.set(o,Number(r)),HT.eventNexus.emit(o,{progress:r,totalBytesWritten:a,totalBytesExpectedToWrite:i})))}));var KT="waiting",JT="sending",$T="done",YT="aborted",QT="created",XT="in_queue",ZT=0,eE=0;function tE(){var e=sE.get(this);aE.set(this,JT),hE.set(this,Date.now());var t,n=this,r=(new Date).valueOf()%1e6;eE===r?ZT++:(eE=r,ZT=0);var o=+(""+r+(ZT<10?"0"+ZT:ZT));ZT>=99&&(ZT=0),iE.set(n,o||r),W_("createDownloadTask",{url:e.url,header:e.header,data:e.data,method:e.method,filePath:e.filePath,taskId:o,success:function(e){uE.set(n,e.trace),iE.set(n,e.downloadTaskId),vE+=1,mE[e.downloadTaskId]=n},fail:function(e){uE.set(n,e.trace),t=e.errMsg,bE(n,"fail",t)},complete:function(){aE.set(n,$T)}}),t?setTimeout((function(){var n={errMsg:t.replace("createDownloadTask","downloadFile")};"function"==typeof e.fail&&e.fail(n),"function"==typeof e.complete&&e.complete(n)}),0):(ps.log("taskID",this,iE.get(this)),yE.on(iE.get(this)+"success",(function(t){t.errMsg="downloadFile:ok",t.statusCode=parseInt(t.statusCode,10),-1===[200,304].indexOf(t.statusCode)&&delete t.tempPath,delete t.timeInterval,"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)})),yE.on(iE.get(this)+"fail",(function(t){t.errMsg="downloadFile:fail "+t.errMsg,"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)})))}var nE=0,rE=new WeakMap,oE=new WeakMap,iE=new WeakMap,aE=new WeakMap,sE=new WeakMap,cE=new WeakMap,uE=new WeakMap,lE=new WeakMap,fE=new WeakMap,dE=new WeakMap,hE=new WeakMap,pE=new WeakMap,vE=0,gE=[],mE={},yE=new Py.EventEmitter2;function bE(e,t,n){var r=pE.get(e),o=aE.get(e)===YT,i=o?my.abort_download:my.download_result,a=o?"cancel":t,s=sE.get(e),c=cE.get(e),u=Date.now()-c,l={request_version:"v1",request_trace:uE.get(e)||"",request_url:s.url.split("?")[0],request_method:s.method||"GET",request_biz_invoke_time:cE.get(e),request_push_queue_time:lE.get(e)||0,request_shift_queue_time:dE.get(e)||0,request_queue_length:fE.get(e)||0,request_abort_type:r||"",error_msg:n||"",duration:u,result_type:a};ky.build(by.network,i).addMap(l).flush()}V_("onDownloadTaskStateChange",(function(e){void 0===e&&(e={}),"string"==typeof e&&(e=JSON.parse(e));var t=e.state,n=e.downloadTaskId;if(delete e.state,delete e.downloadTaskId,yE.emit(""+n+t,e),"success"===t||"fail"===t){if(vE=Math.max(vE-1,0),gE.length>0){var r=gE.shift();dE.set(r.item,Date.now()),tE.call(r.item)}var o=mE[n];if(o){try{bE(o,t,e.errMsg)}catch(e){}delete mE[n],yE.removeAllListeners(n+"success"),yE.removeAllListeners(n+"fail"),yE.removeAllListeners(n+"progressUpdate")}}}));var _E=function(e){var t=this;this.abort=function(){var e=aE.get(t),n=sE.get(t);if(aE.set(t,YT),e===KT){var r=gE.findIndex((function(e){return e.id===rE.get(t)}));r>-1&&gE.splice(r,1),pE.set(t,XT),setTimeout((function(){var e="downloadFile:fail abort";"function"==typeof n.fail&&n.fail({errMsg:e}),bE(t,"cancel",e),"function"==typeof n.complete&&n.complete({errMsg:e})}),0)}else e!==YT&&(pE.set(t,QT),W_("operateDownloadTask",{downloadTaskId:iE.get(t),operationType:"abort"}))},this.onProgressUpdate=function(e){yE.on(iE.get(t)+"progressUpdate",(function(t){"function"==typeof e&&d_(e,"at DownloadTask.onProgressUpdate callback function")(t)}))},cE.set(this,Date.now());var n=nE++;oE.set(this,n),rE.set(this,n),aE.set(this,KT),["success","fail","complete"].forEach((function(t){var n=e[t];"function"==typeof n&&(e[t]=d_(n,"at api downloadFile "+t+" callback function"))})),sE.set(this,e),vE>=5?(lE.set(this,Date.now()),fE.set(this,gE.length),gE.push({id:n,item:this}),function(e){var t=sE.get(e),n={request_trace:uE.get(e)||"",request_url:t.url.split("?")[0],request_method:t.method||"GET",request_queue_length:5+gE.length,request_type:"downloadFile"};ky.build(by.network,my.request_waiting).addMap(n).flush()}(this)):tE.call(this)};function wE(e,t,n){var r=my.request_result,o={request_url:"string"==typeof e?e.split("?")[0]:rb(e),request_method:"string"==typeof t?t:rb(t),error_msg:n,result_type:"fail",request_version:"v1"};ky.build(by.network,r).addMap(o).flush()}function SE(e){if(void 0===e&&(e={}),(ws().agent||{}).useNewDownloadAPI)return function(e){void 0===e&&(e={});var t={resultType:"fail",errMsg:"downloadFile:fail",bizInvokeTime:Date.now(),taskId:"",url:e.url};if(!G_("downloadFile",e,{url:""}))return t.errMsg="downloadFile:fail invalid param.url type",void HT.reportResult(t);var n=!1,r=e.filePath;if(null==r||""===r?delete e.filePath:"string"!=typeof r&&(t.errMsg="downloadFile:fail invalid param.filePath type",HT.reportResult(t),H_("downloadFile",e,"filePath could only be string or null/undefined"),n=!0),n)return new HT(e,!0);var o=Object.assign({},e);if("object"==typeof o.header&&null!==o.header||(ps.warn("downloadFile: header must be an object"),o.header={}),o.header=u_(o.header),["success","fail","complete"].forEach((function(e){var t=o[e];"function"==typeof t&&(o[e]=d_(t,"at api downloadFile "+e+" callback function"))})),"GET"===o.method)o.url=r_(o.url,o.data),o.data&&delete o.data;else{var i,a,s=void 0;void 0===o.data||(s="string"==typeof o.data||o.data instanceof ArrayBuffer?o.data:null!=(i=o.header["content-type"])&&i.includes("application/x-www-form-urlencoded")?n_(o.data,!0):null!=(a=o.header["content-type"])&&a.includes("application/json")||"object"==typeof o.data?JSON.stringify(o.data):o.data.toString()),o.data=s}["success","fail","complete"].forEach((function(e){var t=o[e];"function"==typeof t&&(o[e]=d_(t,"at api downloadFile "+e+" callback function"))}));var c=hb.pack(o);try{return new HT(c)}catch(n){var u;t.errMsg="downloadFile:fail create downloadFile instant catch error",HT.reportResult(t),H_("downloadFile",e,null!=(u=null==n?void 0:n.message)?u:"create downloadFile instant catch error")}}(e);if(G_("downloadFile",e,{url:""}))try{return new _E(e)}catch(t){wE(e.url,e.method,"downloadFile:fail create downloadFile instant catch error "),H_("downloadFile",e,t.message)}else wE(e.url,e.method,"downloadFile:fail invalid param.url type")}var kE={map:{},set:function(e){var t=s_();return this.map[t]=e,t},get:function(e){return this.map[e]}},TE=new Py,EE={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]},CE=Object.keys(EE).map((function(e){return parseInt(e)}));function IE(e){W_("operateRecorder",Object.assign({},e))}V_("onRecorderStateChange",(function(e){void 0===e&&(e={});var t=e.state;delete e.state,TE.emit("onRecorderStateChange_"+t,e)}));var AE={start:function(e){void 0===e&&(e={});var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,duration:6e4},e,{operationType:"start",fail:function(e){TE.emit("onRecorderStateChange_error",e)}});if(-1===CE.indexOf(t.sampleRate))throw new Error('invalid sampleRate "'+t.sampleRate+'", sampleRate should be one of '+JSON.stringify(Object.keys(EE)));if(t.encodeBitRate>EE[t.sampleRate][1]||t.encodeBitRate<EE[t.sampleRate][0])throw new Error('invalid encodeBitRate "'+t.encodeBitRate+'", encodeBitRate should be greater than '+EE[t.sampleRate][0]+" and less than "+EE[t.sampleRate][1]);(t.duration>6e5||t.duration<0)&&(t.duration=6e4),IE(t)},pause:function(){IE({operationType:"pause",fail:function(e){TE.emit("onRecorderStateChange_error",e)}})},resume:function(){IE({operationType:"resume",fail:function(e){TE.emit("onRecorderStateChange_error",e)}})},stop:function(){IE({operationType:"stop",fail:function(e){TE.emit("onRecorderStateChange_error",e)}})},onStart:function(e){TE.removeAllListeners("onRecorderStateChange_start"),TE.on("onRecorderStateChange_start",(function(t){"function"==typeof e&&d_(e,"at recorderManager.onStart callback function")(t)}))},onResume:function(e){TE.removeAllListeners("onRecorderStateChange_resume"),TE.on("onRecorderStateChange_resume",(function(t){"function"==typeof e&&d_(e,"at recorderManager.onResume callback function")(t)}))},onPause:function(e){TE.removeAllListeners("onRecorderStateChange_pause"),TE.on("onRecorderStateChange_pause",(function(t){"function"==typeof e&&d_(e,"at recorderManager.onPause callback function")(t)}))},onStop:function(e){TE.removeAllListeners("onRecorderStateChange_stop"),TE.on("onRecorderStateChange_stop",(function(t){"function"==typeof e&&d_(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded:function(e){TE.removeAllListeners("onRecorderStateChange_frameRecorded"),TE.on("onRecorderStateChange_frameRecorded",(function(t){if("function"==typeof e){var n=t.frameBuffer;"string"==typeof n&&(t.frameBuffer=eb(n)),d_(e,"at recorderManager.onFrameRecorded callback function")(t)}}))},onError:function(e){TE.removeAllListeners("onRecorderStateChange_error"),TE.on("onRecorderStateChange_error",(function(t){"function"==typeof e&&d_(e,"at recorderManager.onError callback function")(t)}))}};var ME=function(){function e(e,t){this.domId=e,t&&(this.componentId=t.__nodeid__);var n=getCurrentPages();this.__webviewId__=n[n.length-1].__webviewId__}e.sendCommand=function(e,t,n){U_("operateVideoContext",{op:e,data:t,id:n.domId,componentId:n.componentId},[n.__webviewId__])};var t=e.prototype;return t.play=function(){e.sendCommand("play",void 0,this)},t.pause=function(){e.sendCommand("pause",void 0,this)},t.stop=function(){e.sendCommand("stop",void 0,this)},t.seek=function(t){isNaN(Number(t))||e.sendCommand("seek",t,this)},t.requestFullScreen=function(){e.sendCommand("requestFullScreen",void 0,this)},t.exitFullScreen=function(){e.sendCommand("exitFullScreen",void 0,this)},e}();var OE=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf-8","utf8","latin1"],RE=function(){function e(e){var t=e.mode,n=void 0===t?0:t,r=e.size,o=void 0===r?0:r,i=e.lastAccessedTime,a=void 0===i?"":i,s=e.lastModifiedTime,c=void 0===s?"":s;this.mode=n,this.size=o,this.lastAccessedTime=a,this.lastModifiedTime=c}var t=e.prototype;return t._checkModeProperty=function(e){return(61440&this.mode)===e},t.isFile=function(){return this._checkModeProperty(32768)},t.isDirectory=function(){return this._checkModeProperty(16384)},e}(),xE=new(function(){function e(){}var t=e.prototype;return t.getFileInfo=function(e){void 0===e&&(e={}),G_("getFileInfo",e,{filePath:""})&&W_("getFileInfo",e)},t.getSavedFileList=function(e){void 0===e&&(e={}),W_("getSavedFileList",e)},t.removeSavedFile=function(e){void 0===e&&(e={}),G_("removeSavedFile",e,{filePath:""})&&W_("removeSavedFile",e)},t.getSavedFileInfo=function(e){void 0===e&&(e={}),G_("getSavedFileInfo",e,{filePath:""})&&W_("getSavedFileInfo",e)},t.saveFile=function(e){void 0===e&&(e={}),G_("saveFile",e,{tempFilePath:""})&&W_("saveFile",e)},t.saveFileSync=function(e,t){if(!e||"string"!=typeof e)throw new TypeError("tempFilePath must be a string");var n,r;if(W_("saveFileSync",{tempFilePath:e,filePath:t,success:function(e){r=e.savedFilePath},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return r},t.readFile=function(e){void 0===e&&(e={}),G_("readFile",e,{filePath:""})&&W_("readFile",e)},t.readFileSync=function(e,t){if(!e||"string"!=typeof e)throw new TypeError("filePath must be a string");if(t&&"string"!=typeof t)throw new TypeError("encoding must be a string");var n,r,o={filePath:e};if(t&&(o.encoding=t),W_("readFileSync",Object.assign({},o,{success:function(e){r=e.data},fail:function(e){n=e.errMsg}})),n)throw new Error(n);return r},t.writeFile=function(e){void 0===e&&(e={}),G_("writeFile",e,{filePath:""})&&(e.encoding&&-1===OE.indexOf(e.encoding)?H_("writeFile",e,'invalid encoding "'+e.encoding+'"'):W_("writeFile",e,{}))},t.writeFileSync=function(e,t,n){if(!e||"string"!=typeof e)throw new TypeError("filePath must be a string");if(n&&-1===OE.indexOf(n))throw new Error('invalid encoding "'+n+'"');var r;if(W_("writeFileSync",{filePath:e,data:t,encoding:n,fail:function(e){r=e.errMsg}}),r)throw new Error(r)},t.mkdir=function(e){void 0===e&&(e={}),G_("mkdir",e,{dirPath:""})&&W_("mkdir",e)},t.mkdirSync=function(e,t){if(void 0===t&&(t=!1),!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var n;if(W_("mkdirSync",{dirPath:e,recursive:t,fail:function(e){n=e.errMsg}}),n)throw new Error(n)},t.readdir=function(e){void 0===e&&(e={}),G_("readdir",e,{dirPath:""})&&W_("readdir",e)},t.readdirSync=function(e){if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,n;if(W_("readdirSync",{dirPath:e,success:function(e){n=e.files},fail:function(e){t=e.errMsg}}),t)throw new Error(t);return n},t.rmdir=function(e){void 0===e&&(e={recursive:!1}),G_("rmdir",e,{dirPath:""})&&W_("rmdir",e)},t.rmdirSync=function(e,t){if(void 0===t&&(t=!1),!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var n;if(W_("rmdirSync",{dirPath:e,recursive:t,fail:function(e){n=e.errMsg}}),n)throw new Error(n)},t.access=function(e){void 0===e&&(e={});/^(ttfile|http):\/\/(user|temp)$/.test(e.path)&&(e.path+="/"),G_("access",e,{path:""})&&W_("access",e)},t.accessSync=function(e){if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t;if(/^(ttfile|http):\/\/(user|temp)$/.test(e)&&(e+="/"),W_("accessSync",{path:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},t.unlink=function(e){void 0===e&&(e={}),G_("unlink",e,{filePath:""})&&W_("unlink",e)},t.unlinkSync=function(e){if(!e||"string"!=typeof e)throw new TypeError("filePath must be a string");var t;if(W_("unlinkSync",{filePath:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},t.stat=function(e){void 0===e&&(e={}),G_("stat",e,{path:""})&&W_("stat",e,{beforeSuccess:function(e){e.stats=e.stat=new RE(e.stat)}})},t.statSync=function(e){if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,n;if(W_("statSync",{path:e,success:function(e){n=new RE(e.stat)},fail:function(e){t=e.errMsg}}),t)throw new Error(t);return n},t.rename=function(e){void 0===e&&(e={}),G_("rename",e,{oldPath:"",newPath:""})&&W_("rename",e)},t.renameSync=function(e,t){if(!e||"string"!=typeof e)throw new TypeError("oldPath must be a string");if(!t||"string"!=typeof t)throw new TypeError("newPath must be a string");var n;if(W_("renameSync",{oldPath:e,newPath:t,fail:function(e){n=e.errMsg}}),n)throw new Error(n)},t.copyFile=function(e){void 0===e&&(e={}),G_("copyFile",e,{srcPath:"",destPath:""})&&W_("copyFile",e)},t.copyFileSync=function(e,t){if(!e||"string"!=typeof e)throw new TypeError("srcPath must be a string");if(!t||"string"!=typeof t)throw new TypeError("destPath must be a string");var n;if(W_("copyFileSync",{srcPath:e,destPath:t,fail:function(e){n=e.errMsg}}),n)throw new Error(n)},t.unzip=function(e){void 0===e&&(e={}),G_("unzip",e,{zipFilePath:"",targetPath:""})&&W_("unzip",e,{})},e}());var PE=xE.saveFile,NE=xE.getFileInfo,jE=xE.getSavedFileList,LE=xE.removeSavedFile,DE=0,BE=[],FE=sw("getLocation",{beforeAll:function(){DE=0},afterAll:function(e){BE.forEach((function(t){"function"==typeof t.complete&&d_(t.complete,"at getLocation complete callback function")(e)})),BE=[]},afterSuccess:function(e){BE.forEach((function(t){"function"==typeof t.success&&d_(t.success,"at getLocation success callback function")(e)}))},afterFail:function(e){BE.forEach((function(t){"function"==typeof t.fail&&d_(t.fail,"at getLocation fail callback function")(e)}))}}),UE=sw("openLocation",{checkParams:{latitude:0,longitude:0}});sw("chooseLocation");var qE=sw("getLocationStatus"),WE=new uw({surroundTryCatch:!0});V_("onNetworkStatusChange",(function(e){WE.emit("networkStatusChange",e)}));var VE=sw("getNetworkType");var zE=new uw;V_("onGetWifiList",(function(e){zE.emit("getWifiList",e)}));var GE=sw("getConnectedWifi"),HE=sw("getWifiList");var KE=new uw,JE=sw("getNetworkQualityType"),$E=sw("onNetworkQualityChange"),YE=sw("offNetworkQualityChange");V_("onNetworkQualityChange",(function(e){KE.emit("networkQualityChange",e)}));var QE=[],XE=!1;V_("onCompassChange",(function(e){void 0===e&&(e={}),QE.forEach((function(t){"function"==typeof t&&t(e)}))}));var ZE=!1,eC=[];V_("onAccelerometerChange",(function(e){void 0===e&&(e={});for(var t=0;t<eC.length;t++){var n=eC[t];Jb(n)&&n(e)}}));var tC={data:"String"};var nC=[],rC=!1;V_("userCaptureScreenObserved",(function(e){void 0===e&&(e={}),nC.forEach((function(t){var n=d_(t,"onUserCaptureScreen");"function"==typeof n&&n(e)}))}));var oC=sw("vibrateShort"),iC=sw("vibrateLong");function aC(e){return e+"deg"}function sC(e){return"number"==typeof e?e+"px":e}function cC(e){var t=e.animates,n=e.option,r=t.filter((function(e){return"style"!==e.type})).map((function(e){var t=e.type,n=e.args;switch(t){case"matrix":return"matrix("+n.join(",")+")";case"matrix3d":return"matrix3d("+n.join(",")+")";case"rotate":return"rotate("+(n=n.map(aC))[0]+")";case"rotate3d":var r=n[3];return r&&!String(r).endsWith("deg")&&(n[3]=aC(r)),"rotate3d("+n.join(",")+")";case"rotateX":return"rotateX("+(n=n.map(aC))[0]+")";case"rotateY":return"rotateY("+(n=n.map(aC))[0]+")";case"rotateZ":return"rotateZ("+(n=n.map(aC))[0]+")";case"scale":return"scale("+n.join(",")+")";case"scale3d":return"scale3d("+n.join(",")+")";case"scaleX":return"scaleX("+n[0]+")";case"scaleY":return"scaleY("+n[0]+")";case"scaleZ":return"scaleZ("+n[0]+")";case"translate":return"translate("+(n=n.map(sC)).join(",")+")";case"translate3d":return"translate3d("+(n=n.map(sC)).join(",")+")";case"translateX":return"translateX("+(n=n.map(sC))[0]+")";case"translateY":return"translateY("+(n=n.map(sC))[0]+")";case"translateZ":return"translateZ("+(n=n.map(sC))[0]+")";case"skew":return"skew("+(n=n.map(aC)).join(",")+")";case"skewX":return"skewX("+(n=n.map(aC))[0]+")";case"skewY":return"skewY("+(n=n.map(aC))[0]+")";default:return""}})).join(" "),o=t.filter((function(e){return"style"===e.type})).reduce((function(e,t){return e[t.args[0]]=t.args[1],e}),{}),i=";";for(var a in o)i+=a+": "+o[a]+"; ";n.transformOrigin&&(i+="transform-origin: "+n.transformOrigin+"; ");var s=n.duration+"ms "+n.timingFunction+" "+n.delay+"ms",c=["transform"];return Object.keys(o).length>0&&(c=c.concat(Object.keys(o))),i+="transition: ",i+=c.map((function(e){return e+" "+s})).join(" , "),i+=";",r&&(i+="transform: "+r+";"),i}V_("onMemoryWarning",(function(e){}));var uC=function(){function e(e){void 0===e&&(e={}),this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={duration:"number"==typeof e.duration&&e.duration>=0?e.duration:400,timingFunction:e.timingFunction||"linear",delay:e.delay||0,transformOrigin:e.transformOrigin||"50% 50% 0"}}var t=e.prototype;return t.export=function(){var e=this.actions;return this.actions=[],JSON.stringify({steps:e})},t.step=function(e){var t=this;void 0===e&&(e={}),this.currentStepAnimates.forEach((function(e){"style"===e.type?t.currentTransform[e.type+"."+e.args[0]]=e:t.currentTransform[e.type]=e}));var n=Object.keys(this.currentTransform).reduce((function(e,n){return[].concat(e,[t.currentTransform[n]])}),[]),r=Object.assign({},this.option,e);return this.actions.push({text:cC({animates:n,option:r}),option:r}),this.currentStepAnimates=[],this},t.scale=function(e,t){return void 0===e&&(e=1),t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this},t.translate=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.currentStepAnimates.push({type:"translate",args:[e,t]}),this},t.skew=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.currentStepAnimates.push({type:"skew",args:[e,t]}),this},t.rotate3d=function(e,t,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.currentStepAnimates.push({type:"rotate3d",args:[e,t,n,r]}),this},t.scale3d=function(e,t,n){return void 0===e&&(e=1),void 0===t&&(t=1),void 0===n&&(n=1),this.currentStepAnimates.push({type:"scale3d",args:[e,t,n]}),this},t.translate3d=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.currentStepAnimates.push({type:"translate3d",args:[e,t,n]}),this},t.matrix=function(e,t,n,r,o,i){return void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===o&&(o=1),void 0===i&&(i=1),this.currentStepAnimates.push({type:"matrix",args:[e,t,n,r,o,i]}),this},t.matrix3d=function(e,t,n,r,o,i,a,s,c,u,l,f,d,h,p,v){return void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=1),void 0===a&&(a=0),void 0===s&&(s=0),void 0===c&&(c=0),void 0===u&&(u=0),void 0===l&&(l=1),void 0===f&&(f=0),void 0===d&&(d=0),void 0===h&&(h=0),void 0===p&&(p=0),void 0===v&&(v=1),this.currentStepAnimates.push({type:"matrix3d",args:[e,t,n,r,o,i,a,s,c,u,l,f,d,h,p,v]}),this},e}();["opacity","backgroundColor"].forEach((function(e){uC.prototype[e]=function(t){var n;return this.currentStepAnimates.push({type:"style",args:[(n=e,n.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))),t]}),this}})),["width","height","top","bottom","left","right"].forEach((function(e){uC.prototype[e]=function(t){return"number"==typeof t&&(t+="px"),this.currentStepAnimates.push({type:"style",args:[e,t]}),this}})),["rotate","rotateX","rotateY","rotateZ"].forEach((function(e){uC.prototype[e]=function(t){return void 0===t&&(t=0),this.currentStepAnimates.push({type:e,args:[t]}),this}})),["scaleX","scaleY","scaleZ"].forEach((function(e){uC.prototype[e]=function(t){return void 0===t&&(t=1),this.currentStepAnimates.push({type:e,args:[t]}),this}})),["translateX","translateY","translateZ"].forEach((function(e){uC.prototype[e]=function(t){return void 0===t&&(t=0),this.currentStepAnimates.push({type:e,args:[t]}),this}})),["skewX","skewY"].forEach((function(e){uC.prototype[e]=function(t){return void 0===t&&(t=0),this.currentStepAnimates.push({type:e,args:[t]}),this}}));function lC(e,t){return new fC(e,t)}var fC=function(){function e(e,t){if(this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,e)this._webviewId=e.__webviewId__;else{var n=getCurrentPages();this._webviewId=n[n.length-1].__webviewId__}}var t=e.prototype;return t.relativeTo=function(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this},t.relativeToViewport=function(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this},t.observe=function(e,t){var n=this;if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');this._observerId="";var r=this._component;pC(this._webviewId,{type:"addIntersectionObserver",pluginId:"unsuport",nodeId:r&&void 0!==r.__nodeId__&&r.__nodeId__>0?r.__nodeId__:null,targetSelector:e,relativeInfo:this._relativeInfo,options:this._options},(function(e){n._disconnected||(e.observerId&&(n._observerId=e.observerId),e.info&&t.call(n,e.info))}))},t.disconnect=function(){pC(this._webviewId,{type:"removeIntersectionObserver",observerId:this._observerId}),this._disconnected=!0},e}(),dC=1,hC={};function pC(e,t,n){dC++,hC[dC]=n,U_("requestComponentObserver",{reqId:dC,req:t},[e])}q_("responseComponentObserver",(function(e,t){var n=e.reqEnd,r=e.reqId,o=e.res,i=r,a=hC[i];if(n)delete hC[i];else if(a){var s=ws();if(s.newFramework){var c=s.getContainer();if(c.C[t])c.C[t].page.renderer.restoreDataset(null==o?void 0:o.info),a(o)}else a(o)}}));var vC=sw("getSetting"),gC=sw("openSetting");var mC={withShareTicket:!1};function yC(){return mC}var bC=new Py;V_("onCheckForUpdate",(function(e){bC.emit("onCheckForUpdate",e||{})})),V_("onUpdateFailed",(function(e){bC.emit("onUpdateFailed",e||{})})),V_("onUpdateReady",(function(e){bC.emit("onUpdateReady",e||{})}));var _C=new(function(){function e(){}var t=e.prototype;return t.applyUpdate=function(e){void 0===e&&(e={}),W_("applyUpdate",e)},t.onCheckForUpdate=function(e){var t="onCheckForUpdate";return bC.removeAllListeners(t),bC.on(t,(function(t){"function"==typeof e&&d_(e,"at updateManager.onCheckForUpdate callback function")(t)})),this},t.onUpdateReady=function(e){var t="onUpdateReady";return bC.removeAllListeners(t),bC.on(t,(function(t){"function"==typeof e&&(d_(e,"at updateManager.onUpdateReady callback function")(t),ky.build(by.onCallback,my.onUpdateReady).addMap({data:t}).flush())})),this},t.onUpdateFailed=function(e){var t="onUpdateFailed";return bC.removeAllListeners(t),bC.on(t,(function(t){"function"==typeof e&&d_(e,"at updateManager.onUpdateFailed callback function")(t)})),this},t.triggerCheckUpdate=function(){W_("triggerCheckUpdate")},e}());var wC=sw("requestAppReview"),SC=sw("endAppReview",{checkParams:{trace:"",app_id:""}});function kC(){var e={};return W_("getMenuButtonBoundingClientRect",{success:function(t){e=t},fail:function(e){throw new Error(e.errMsg)}},{beforeAll:function(e){e.errMsg=e.errMsg.replace("BoundingClientRect","Layout")}}),e}var TC={button:{"1.0.0":[{size:["default","mini"]},{type:["primary","default","warn"]},"plagin","disabled","loading",{"form-type":["submit","reset"]},{"open-type":["share"]},"hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"],"1.14.0":["bindgetphonenumber",{"open-type":["getPhoneNumber"]}]},canvas:{"1.0.0":["canvas-id"]},"checkbox-group":{"1.0.0":["bindchange"]},checkbox:{"1.0.0":["value","disabled","checked","color"]},form:{"1.0.0":["bindsubmit","bindreset"],"1.29.0":["report-submit"]},icon:{"1.0.0":[{type:["success","success_no_circle","info","warn","waiting","cancel","download","search","clear"]},"size","color"]},image:{"1.0.0":["src",{mode:["scaleToFill","aspectFit","aspectFill","widthFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"]},"lazy-load","binderror","bindload"]},input:{"1.0.0":["value",{type:["text","number","idcard","digit"]},"password","placeholder","placeholder-style","disabled","maxlength","focus","bindinput","bindfocus","bindblur","bindconfirm","cursor-spacing","cursor","selection-start","selection-end"]},label:{"1.0.0":["for"]},navigator:{"1.0.0":["url","delta",{"open-type":["navigate","redirect","switchTab","navigateBack"]},"hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"]},"picker-view":{"1.0.0":["value","indicator-style","mask-style","bindchange"]},"picker-view-column":{"1.0.0":[]},picker:{"1.0.0":["range","range-key","value","bindchange","disabled","bindcancel",{mode:["selector","multiSelector","time","date","region"]}]},"radio-group":{"1.0.0":["bindchange"]},radio:{"1.0.0":["value","checked","disabled","color"]},"rich-text":{"1.0.0":["nodes"]},"scroll-view":{"1.0.0":["scroll-x","scroll-y","upper-threshold","lower-threshold","scroll-top","scroll-left","scroll-into-view","scroll-with-animation","bindscroll","bindscrolltoupper","bindscrolltolower"]},slider:{"1.0.0":["min","max","step","disabled","vaue","color","selected-color","active-color","background-color","block-size","block-color","show-value","bindchange","bindchanging"]},swiper:{"1.0.0":["indicator-dots","indicator-color","indicator-active-color","autoplay","current","current-item-id","interval","duration","circular","vertical","bindchange","display-multiple-items"],"1.20.0":["bindtransition"]},"swiper-item":{"1.0.0":["item-id"]},switch:{"1.0.0":["checked","disabled",{type:["switch","checkbox"]},"bindchange","color"]},text:{"1.0.0":["selectable","space","decode"]},textarea:{"1.0.0":["value","placeholder","placeholder-style","disabled","maxlength","focus","auto-height","fixed","cursor-spacing","cursor","selection-start","selection-end","bindinput","bindfocus","bindblur","bindconfirm","show-confirm-bar"]},view:{"1.0.0":["hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"]},"web-view":{"1.0.0":["src","bindmessage"]},progress:{"1.0.0":["percent","stroke-width","color","active-color","background-color","active",{"active-mode":["backwards","forwards"]}]},video:{"1.0.0":["src","autoplay","poster","bindplay","bindpause","bindended","binderror"],"1.18.0":["bindtimeupdate","bindfullscreenchange"]},ad:{"1.19.0":["unit-id","bindload"],"1.26.2":["binderror"],"1.31.0":["bindclose"],"1.32.1":["ad-intervals"],"1.34.0":["fixed"]},"live-player":{"1.35.0":["src","autoplay","muted","orientation","object-fit","bindstatechange","binderror","bindfullscreenchange","showFullscreenControl"]}},EC={request:{"1.0.0":[{object:["url","data","header",{method:["GET","POST","PUT"]},"dataType","responseType"]},{success:["data","statusCode","header"]}]},uploadFile:{"1.0.0":[{object:["url","filePath","name","header","formData"]},{success:["data","statusCode"]}]},UploadTask:{"1.0.0":["abort",{onProgressUpdate:[{callback:["progress","totalBytesSent","totalBytesExpectedToSend"]}]}]},downloadFile:{"1.0.0":[{object:["url","header"]},{success:["tempFilePath","statusCode"]}]},DownloadTask:{"1.0.0":["abort",{onProgressUpdate:[{callback:["progress","totalBytesWritten","totalBytesExpectedToWrite"]}]}]},connectSocket:{"1.0.0":[{object:["url","header","protocols"]}]},chooseImage:{"1.0.0":[{object:["count","sizeType","sourceType"]},{success:["tempFilePaths","tempFiles"]}]},SocketTask:{"1.0.0":[{send:[{object:["data"]}]},{close:[{object:["code","reason"]}]},"onOpen","onClose","onError","onMessage"]},previewImage:{"1.0.0":[{object:["urls","current"]}]},getImageInfo:{"1.10.0":[{object:["src"]},{success:["width","height","type"]}]},saveImageToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},createInnerAudioContext:{"1.0.0":[]},innerAudioContext:{"1.0.0":["src","startTime","autoplay","loop","obeyMuteSwitch","duration","currentTime","paused","buffered","volume","play","pause","stop","seek","destory","onCanplay","offCanplay","onPlay","offPlay","onPause","offPause","onStop","offStop","onEnded","offEnded","onTimeUpdate","offTimeUpdate","onError","offError","onWaiting","offWaiting","onSeeking","offSeeking","onSeeked","offSeeked"]},getRecorderManager:{"1.0.0":[]},RecorderManager:{"1.0.0":[{start:[{object:["duration","sampleRate","numberOfChannels","encodeBitRate","frameSize"]}]},"pause","resume","stop","onStart","onPause","onStop","onError"]},chooseVideo:{"1.0.0":[{object:["sourceType","maxDuration","camera","compressed"]},{success:["tempFilePath","duration","size","height","width"]}]},saveVideoToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},createVideoContext:{"1.18.0":[{object:["id","component"]}]},VideoContext:{"1.18.0":["play","pause","stop","seek","requestFullScreen","exitFullScreen"]},saveFile:{"1.0.0":[{object:["tempFilePath"]},{success:["savedFilePath"]}]},getFileInfo:{"1.15.0":[{object:["filePath"]},{success:["size"]}]},getSavedFileList:{"1.15.0":[{success:["fileList"]}]},FileItem:{"1.15.0":["filePath","size","createTime"]},removeSavedFile:{"1.15.0":[{object:["filePath"]}]},getSavedFileInfo:{"1.15.0":[{object:["filePath"]}]},getFileSystemManager:{"1.15.0":[]},FileSystemManager:{"1.15.0":[{access:[{object:["path"]}]},{saveFile:[{object:["tempFilePath","fillPath"]},{success:["savedFilePath"]}]},{getSavedFileList:[{success:["fileList"]}]},{removeSavedFile:[{object:["filePath"]}]},{copyFile:[{object:["srcPath","destPath"]}]},{getFileInfo:[{object:["fillPath"]},{success:["size"]}]},{getSavedFileInfo:[{object:["filePath"]},{success:["size","createTime"]}]},{mkdir:[{object:["dirPath"]}]},{readdir:[{object:["dirPath"]},{success:["files"]}]},{readFile:[{object:["filePath","encoding"]},{success:["data"]}]},{rename:[{object:["oldPath","newPath"]}]},{rmdir:[{object:["dirPath"]}]},{stat:[{object:["path"]},{success:["stat"]}]},{unlink:[{object:["filePath"]}]},{unzip:[{object:["zipFilePath","targetPath"]}]},{writeFile:[{object:["filePath","data","encoding"]}]}]},Stats:{"1.15.0":["mode","size","lastAccessedTime","lastModifiedTime","isDirectory","isFile"]},getStorage:{"1.0.0":[{object:["key"]},{success:["data"]}]},getStorageSync:{"1.0.0":[]},setStorage:{"1.0.0":[{object:["key","data"]}]},setStorageSync:{"1.0.0":[]},removeStorage:{"1.0.0":[{object:["key"]}]},removeStorageSync:{"1.0.0":[]},clearStorage:{"1.0.0":[]},clearStorageSync:{"1.0.0":[]},getStorageInfo:{"1.0.0":[{success:["keys","currentSize","limitSize"]}]},getStorageInfoSync:{"1.0.0":[]},getLocation:{"1.0.0":[{object:["type"]},{success:["latitude","longitude","altitude","accuracy","verticalAccuracy","horizontalAccuracy","speed","city"]}]},openLocation:{"1.0.0":[{object:["latitude","longitude","scale","name","address"]}]},getSystemInfo:{"1.0.0":[{success:["appName","model","pixelRatio","windowWidth","windowHeight","version","system","platform","brand","screenWidth","screenHeight","SDKVersion"]}]},getSystemInfoSync:{"1.0.0":[]},getNetworkType:{"1.0.0":[{success:["networkType"]}]},getConnectedWifi:{"1.0.0":[{success:["SSID","BSSID","secure","signalStrength"]}]},onNetworkStatusChange:{"1.0.0":[{callback:[{networkType:["wifi","2g","3g","4g","none","unknown"]}]}]},scanCode:{"1.0.0":[{success:["result"]}]},getClipboardData:{"1.0.0":[{success:["data"]}]},setClipboardData:{"1.0.0":[{object:["data"]}]},setKeepScreenOn:{"1.0.0":[{object:["keepScreenOn"]}]},startAccelerometer:{"1.0.0":[]},stopAccelerometer:{"1.0.0":[]},onAccelerometerChange:{"1.0.0":[{callback:["x","y","z"]}]},startCompass:{"1.2.0":[]},stopCompass:{"1.2.0":[]},onCompassChange:{"1.2.0":[{callback:["direction"]}]},vibrateLong:{"1.0.0":[]},vibrateShort:{"1.0.0":[]},showModal:{"1.0.0":[{object:["title","content","showCancel","cancelText","confirmText"]},{success:["confirm","cancel"]}]},showToast:{"1.0.0":[{object:["title","icon","duration"]}]},hideToast:{"1.0.0":[]},showLoading:{"1.1.0":[{object:["title"]}]},hideLoading:{"1.0.0":[]},showActionSheet:{"1.0.0":[{object:["itemList"]},{success:["tapIndex"]}]},setNavigationBarColor:{"1.40.0.0":[{object:["frontColor","backgroundColor"]}]},setNavigationBarTitle:{"1.0.0":[{object:["title"]}]},redirectTo:{"1.0.0":[{object:["url"]}]},reLaunch:{"1.0.0":[{object:["url"]}]},navigateBack:{"1.0.0":[{object:["delta"]}]},navigateTo:{"1.0.0":[{object:["url"]}]},switchTab:{"1.0.0":[{object:["url"]}]},createAnimation:{"1.0.0":[{object:["duration",{timingFunction:["linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end"]},"delay","transformOrigin"]}]},Animation:{"1.0.0":["opacity","backgroundColor","width","height","top","left","bottom","right","rotate","rotateX","rotateY","rotateZ","rotate3d","scale","scaleX","scaleY","scaleZ","scale3d","translate","translateX","translateY","translateZ","translate3d","skew","skewX","skewY","matrix","matrix3d"]},pageScrollTo:{"1.0.0":[{object:["scrollTop","duration"]}]},createCanvasContext:{"1.0.0":[]},canvasToTempFilePath:{"1.0.0":[{object:["canvasId","x","y","width","height","destWidth","destHeight","fileType","quality"]}]},makePhoneCall:{"1.0.0":[{object:["phoneNumber"]}]},requestWXPayment:{"1.0.0":[]},arrayBufferToBase64:{"1.0.0":[]},base64ToArrayBuffer:{"1.0.0":[]},canIUse:{"1.0.0":[]},getPerformance:{"1.0.0":{success:["cpu","fps","memory","timing"]}},getUpdateManager:{"1.9.0":[]},UpdateManager:{"1.0.0":["onUpdateReady","onUpdateFailed","applyUpdate","triggerCheckUpdate",{onCheckForUpdate:[{callback:["hasUpdate"]}]}]},getHostLaunchQuery:{"1.47.0":[{success:["launchQuery"]}]},getHostLaunchQuerySync:{"1.47.0":[{success:["launchQuery"]}]},getExtConfig:{"1.0.0":[{success:["extConfig"]}]},getExtConfigSync:{"1.0.0":[]},getLaunchOptionsSync:{"1.12.0":[{return:["path","scene","query"]}]},exitMiniProgram:{"1.12.0":[]},getMenuButtonLayout:{"1.25.0":[{return:["width","height","top","right","bottom","left"]}]},startPullDownRefresh:{"1.0.0":[]},stopPullDownRefresh:{"1.0.0":[]},showShareMenu:{"1.5.0":[]},hideShareMenu:{"1.5.0":[]},createSelectorQuery:{"1.7.0":[]},SelectorQuery:{"1.7.0":["in","select","selectAll","selectViewport","exec"]},createIntersectionObserver:{"1.10.4":[{object:["thresholds","initialRatio","observeAll"]}]},IntersectionObserver:{"1.10.4":["relativeTo","relativeToViewport","observe","disconnect"]},getUseDuration:{"1.0.0":[]},dealUserRelation:{"1.0.0":[]},login:{"1.0.0":[{object:["force"]},{success:["code","anonymousCode","isLogin"]}]},checkSession:{"1.0.0":[]},getUserInfo:{"1.0.0":[{object:["withCredentials"]},{success:["userInfo","rawData","signature","encryptedData","iv"]}]},requestPayment:{"1.0.0":[{object:["data"]}]},pay:{"1.19.4":[{object:["orderInfo","service","getOrderStatus"]}]},navigateToMiniProgram:{"1.15.0":[{object:["appId","path","extraData",{envVersion:["current","latest"]}]}]},navigateBackMiniProgram:{"1.15.0":[{object:["extraData"]}]},chooseAddress:{"1.0.0":[{success:["errMsg","userName","provinceName","cityName","countyName","detailInfo","telNumber"]}]},getSetting:{"1.3.0":[{success:"authSetting"}]},openSetting:{"1.3.0":[{success:"authSetting"}]},AuthSetting:{"1.3.0":["userInfo","userLocation","address","record","album","camera"]},authorize:{"1.3.0":[{object:"scope"}]},reportAnalytics:{"1.8.0":[]},interactionAnalysis:{"1.22.2":[{object:["type"]},{success:["code"]}]},followOfficialAccount:{"1.30.0":[{success:["errCode"]}]},checkFollowState:{"1.30.0":[{success:["result"]}]},performance:{"1.42.0":["mark"]},showFavoriteGuide:{"1.41.0":[]},showNavigationBarLoading:{"1.48.0":[]},hideNavigationBarLoading:{"1.48.0":[]},hideHomeButton:{"1.48.0":[]},getWifiList:{"1.49.0":[]},onGetWifiList:{"1.49.0":[{callback:["wifiList"]}]},offGetWifiList:{"1.49.0":[{callback:[]}]}},CC={Toutiao:null,Douyin:{BASE:{android:[],ios:[],both:["dealUserRelation","requestPayment","requestWXPayment","ad","chooseAddress","button.open-type.contact"]}},news_article_lite:{BASE:{android:["getUseDuration","requestPayment","ad"],ios:[],both:[]}},live_stream:{BASE:{android:["getUseDuration"],ios:["openLocation","getGeneralInfo"],both:["dealUserRelation","ad","chooseAddress","button.open-type.getPhoneNumber","button.bindgetphonenumber"]}},video_article:{BASE:{android:["getUseDuration"],ios:[],both:["openLocation","dealUserRelation","ad","chooseAddress","button.open-type.getPhoneNumber","button.bindgetphonenumber"]}},PPX:{BASE:{android:["getUseDuration","requestWXPayment"],ios:["openLocation"],both:["openLocation","dealUserRelation","ad","chooseAddress","requestPayment","button.open-type.getPhoneNumber","button.bindgetphonenumber"]}},devtools:{BASE:{android:["testAndroid"],ios:["testIOS"],both:["testBoth"]},"1.2.3":{android:["testAndroid"],ios:[""],both:["testBoth"]}}};function IC(e,t,n){if(!t)return[];var r=Object.keys(n),o=r.indexOf(t);if(-1===o)return[];var i=n[r[o]];return Object.keys(i).filter((function(t){return l_(t,e)<=0}))}function AC(e,t,n){for(var r,o=0;o<e.length;o++)for(var i=t[e[o]],a=0;a<i.length;a++){var s=i[a];if("string"==typeof s&&s===n){void 0===r&&(r=[]);break}if("object"==typeof s&&s.hasOwnProperty(n)){r=void 0===r?s[n]:r.concat(s[n]);break}}return r}function MC(e,t){for(var n=0;n<e.length;n++){if("string"==typeof e[n]&&e[n]===t)return[];if("object"==typeof e[n]&&e[n].hasOwnProperty(t))return e[n][t]}}function OC(e,t,n,r){var o,i=IC(e,t,TC);if(0===i.length)return!1;if(n&&!(o=AC(i,TC[t],n)))return!1;return!r||void 0!==MC(o,r)}function RC(e,t,n,r,o){var i,a,s=IC(e,t,EC);if(0===s.length)return!1;if(n&&!(i=AC(s,EC[t],n)))return!1;return!(r&&void 0===(a=MC(i,r))||o&&void 0===MC(a,o))}function xC(e,t){var n=e.app,r=e.plat,o=e.sdk,i=CC[n];return!i||!function(e,t,n){var r=e.BASE,o=r.both.concat(r[t]||[]),i=Object.keys(e).filter((function(e){return"BASE"!==e&&l_(e,n)<=0})).reduce((function(n,r){var o=e[r];return n.concat(o.both,o[t]||[])}),[]),a={};return o.forEach((function(e){a[e]=""})),i.forEach((function(e){a.hasOwnProperty(e)&&delete a[e]})),Object.keys(a)}(i,r,o).some((function(e){return 0===t.indexOf(e)}))}function PC(){var e=[];Ss((function(t){t.subscribeContainerEvent("mapIdsChanged",(function(t,n){var r=n.id,o=n.mapId;e[r]=o}))}));var t=function(){function t(e,t){this._id=e,t&&(this.componentId=t.__nodeid__);var n=getCurrentPages();this.__webviewId__=n[n.length-1].__webviewId__}t.sendCommand=function(e,t,n){ps.log("using_map_legacy"),U_("operateMapContext",{id:n._id,op:e,data:t},[n.__webviewId__])};var n=t.prototype;return n.moveToLocation=function(n){void 0===n&&(n={}),n.mapId=e[this._id],W_("moveToLocation",n),t.sendCommand("moveToLocation",n,this)},n.getCenterLocation=function(e){void 0===e&&(e={}),e.mapId=this._id,W_("getCenterLocation",e)},t}();return function(e,n){return new t(e,n)}}var NC;Ss((function(e){var t;NC=e.agent.useNeoNativeComp("map")?(t=function(){function e(e,t){this._id=void 0,this.componentId=void 0,this.__webviewId__=void 0,this._id=e,t&&(this.componentId=t.__nodeid__);var n=getCurrentPages();this.__webviewId__=n[n.length-1].__webviewId__}var t=e.prototype;return t.sendCommand=function(e,t){var n={id:this._id,op:e,data:t};ps.log("using_map_neo"),U_("operateMapContext",n,[this.__webviewId__])},t.moveToLocation=function(e){void 0===e&&(e={}),this.sendCommand("moveToLocation",e)},e}(),function(e,n){return new t(e,n)}):PC()})),V_("onTabItemTap",(function(e){void 0===e&&(e={});var t=Pk();if(0!==t.length){var n=t[t.length-1];n.hasOwnProperty("onTabItemTap")&&(ps.info("Invoke event onTabItemTap in page: "),bk.call(n,"onTabItemTap",e))}else ps.error("onTabItemTap 回调时还未加载页面")}));var jC=null;V_("onBeforeExitMiniProgram",(function(e){var t=jC&&jC(e);"Boolean"===Hb(t)?W_("onBeforeCloseReturnSync",{isClosed:t}):W_("onBeforeCloseReturnSync",{isClosed:!1})}));var LC=function(e,t){if(void 0!==t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}else e.splice(0,e.length)},DC={Show:[],Hide:[],Error:[]},BC=function(e){return function(t){if(!Ak(t))throw new m_("onApp"+e+" should accept a function instead of "+typeof t);DC[e].push(t)}},FC=function(e){return function(t){if(!Ak(t)&&void 0!==t)throw new m_("offApp"+e+" should accept a function instead of "+typeof t);LC(DC[e],t)}},UC=BC("Show"),qC=BC("Hide"),WC=FC("Show"),VC=FC("Hide"),zC=function(e){return function(t){DC[e].forEach((function(n){var r;try{r=n(t)}catch(t){Reporter.thirdErrorReport({error:t,extend:"at onApp"+e+" function"})}return r}))}},GC=zC("Hide"),HC=zC("Show"),KC=new Py,JC="bluetoothAdapterStateChange",$C="bluetoothDeviceFound";V_(JC,(function(e){KC.emit(JC,e)})),V_($C,(function(e){KC.emit($C,e)}));var YC=A_(KC,JC,(function(e){return d_(e)})),QC=YC.on,XC=YC.off;function ZC(e){return(e.devices||[]).forEach((function(e){var t=e.advertisData;t?e.advertisData=eb(t):delete e.advertisData;var n=e.serviceData,r=void 0===n?{}:n;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];i?r[o]=eb(i):delete r[o]}})),e}var eI=new WeakMap,tI=A_(KC,$C,(function(e){var t=d_(e);return function(e){var n=eI.get(e)||ZC(e);eI.set(e,n),t(n)}})),nI=tI.on,rI=tI.off;var oI=new Py,iI="BLECharacteristicValueChange",aI="BLEConnectionStateChange";V_(iI,(function(e){oI.emit(iI,e)})),V_(aI,(function(e){oI.emit(aI,e)}));var sI=A_(oI,iI,(function(e){return d_(e)})),cI=sI.on,uI=sI.off,lI=A_(oI,aI,(function(e){return d_(e)})),fI=lI.on,dI=lI.off;var hI=function(){function e(e){e&&(this.traceId=e.traceId,this.createTime=String((new Date).valueOf()),this.extensions=[])}return e.prototype.generateSpan=function(){var t=[0,0,0,0,0,0,0,0].map((function(){return Math.floor(36*Math.random()).toString(36)})).join("");return new e({traceId:this.traceId+"-"+t,createTime:String((new Date).valueOf()),extensions:this.extensions})},e}();var pI,vI=function(){function e(){}var t=e.prototype;return t._reportUndefinedDefaultCode=function(){var e={domain:"js.open_platform.gadget",code:1e4,level:nm.warn,message:"undefined_default_code"};return new Om({name:"undefined_default_code",code:e})},t._buildParams=function(e,t){var n;return void 0===t&&(t={}),(n={}).biz_event_name=e,n.biz_data=t,n.common_data={},n},t.report=function(e,t,n,r){void 0===n&&(n={}),e||this._reportUndefinedDefaultCode();var o=new Om({name:"op_biz_event",code:new Mm(t)});r&&r.traceId&&o.tracing(r.traceId);var i=this._buildParams(e,n);return o.addMap(i).flush()},e}();var gI=sw("reportBadge"),mI=sw("updateBadge"),yI=new uw;V_("serverBadgePushObserved",(function(e){var t="serverBadgePush-"+((null==e?void 0:e.appId)||"");yI.emit(t,e)}));var bI=sw("getTenantAppScopes"),_I=sw("applyTenantAppScope");var wI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"getDeviceUUID",value:function(){return this.createInvokeMethodApi("getDeviceUUID")}}]}}),fw),SI=new Py.EventEmitter2,kI=new WeakMap,TI="onTransferMessage";V_("onTransferMessage",(function(e){SI.emit(TI,e)}));var EI=function(){function e(e){this.type=void 0;var t=e.type,n=void 0===t?"worker":t;this.type=n}var t=e.prototype;return t.transferMessage=function(e){W_("transferMessage",Object.assign({},e,{from:this.type}))},t.onTransferMessage=function(e){var t=kI.get(e)||d_(e,"onTransferMessage");kI.set(e,t),SI.on(TI,t)},t.offTransferMessage=function(e){var t=kI.get(e);t&&SI.off(TI,t)},t.getParentChannel=function(){var e;return"worker"===this.type&&(null==tm||null==(e=tm.nativeTMAConfig)?void 0:e.parentMessageChannel)||""},e}();var CI=[pw,vw,gw,Qw,Xw,Zw,nS,rS,aS,sS,cS,lS,LS,WS,gk,Vk,Dk,Gk,tT,wI,aT],II=function(e){return"string"==typeof e?e.replace(/[^\u0000-\u00ff]/g,"aa").length:0},AI=rw(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t);return{F:n,d:[{kind:"field",key:"original",value:function(){return new uS(this.container)}},{kind:"field",key:"currentShowCount",value:function(){return 0}},{kind:"field",key:"continueShowCount",value:function(){return 0}},{kind:"field",key:"lastCloseTime",value:function(){return 0}},{kind:"field",key:"isTipShowed",value:function(){return!1}},{kind:"method",key:"setup",value:function(){tS(Ay(n.prototype),"setup",this).call(this),ys(this.original)}},{kind:"method",decorators:[lw()],key:"showModal",value:function(e){if(void 0===e&&(e={}),!this.isTipShowed){if(this.currentShowCount>0)this.continueShowCount++;else Date.now()-this.lastCloseTime<500?this.continueShowCount++:this.reset();this.continueShowCount>=3?this.tryShowTipModal(e):this.showNormalModal(e)}}},{kind:"field",key:"getShowModalTipInfo",value:function(){return this.createInvokeMethodApi("getShowModalTipInfo")}},{kind:"method",key:"tryShowTipModal",value:function(e){var t=this;void 0===e&&(e={}),this.getShowModalTipInfo({success:function(e){t.showTipModal(e)},fail:function(n){t.showNormalModal(e)}})}},{kind:"method",key:"showNormalModal",value:function(e){var t=this;void 0===e&&(e={});var n=(e=Object.assign({},e)).success,r=e.fail;e.success=function(e){t.lastCloseTime=Date.now(),t.currentShowCount--,n&&n(e)},e.fail=function(e){t.currentShowCount--,r&&r(e)},this.currentShowCount++,this.original.showModal(e)}},{kind:"method",key:"showTipModal",value:function(e){var t=this;this.isTipShowed=!0,this.original.showModal({title:e.title,cancelText:e.cancelText,confirmText:e.confirmText,success:function(e){var n=e.confirm,r=e.cancel;if(t.isTipShowed=!1,n){t.reset();var o=t.currentShowCount;t.currentShowCount=0,hT({fail:function(){t.reset(),t.currentShowCount=o}})}r&&t.reset()},fail:function(e){t.isTipShowed=!1}})}},{kind:"method",key:"reset",value:function(){this.continueShowCount=0,this.lastCloseTime=0,this.isTipShowed=!1}}]}}),fw),MI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"showPrompt",value:function(){var e=this;return function(t){void 0===t&&(t={}),II(t.title)>30?e.beforeInvokeFail("showPrompt",t,"title length should not larger than 15 Chinese characters"):II(t.confirmText)>8?e.beforeInvokeFail("showPrompt",t,"confirmText length should not larger than 4 Chinese characters"):II(t.cancelText)>8?e.beforeInvokeFail("showPrompt",t,"cancelText length should not larger than 4 Chinese characters"):(t.maxLength=function(e){return"number"!=typeof e||isNaN(e)?140:e>=-1?e:140}(t.maxLength),e.invokeMethod("showPrompt",t))}}}]}}),fw),OI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"enterBot",value:function(){return this.createInvokeMethodApi("enterBot")}}]}}),fw),RI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"enterChat",value:function(){return this.createInvokeMethodApi("enterChat")}},{kind:"field",decorators:[lw()],key:"toggleChat",value:function(){return this.createInvokeMethodApi("toggleChat",{checkParams:{openChatId:""}})}}]}}),OI),xI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"enterChat",value:function(e){void 0===e&&(e={});var t=e,n=t.openid,r=t.openChatId;n||r?(n&&r&&delete e.openChatId,void 0===e.needBadge&&(e.needBadge=!0),this.invokeMethod("enterChat",e)):this.beforeInvokeFail("enterChat",e,"no valid id")}}]}}),OI),PI=function(e){function t(){return e.apply(this,arguments)||this}return am(t,e),t}(fw),NI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"enterProfile",value:function(){return this.createInvokeMethodApi("enterProfile",{checkParams:{openid:""}})}}]}}),PI),jI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"enterProfile",value:function(e){void 0===e&&(e={}),void 0===e.left&&(e.left=0),void 0===e.top&&(e.top=0);this.beforeInvoke("enterProfile",e,{openid:"String",left:0,top:0})&&this.invokeMethod("enterProfile",e)}}]}}),PI),LI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"startPasswordVerify",value:function(){return this.createInvokeMethodApi("startPasswordVerify")}}]}}),fw),DI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"method",decorators:[lw()],key:"chooseContact",value:function(e){void 0===e&&(e={}),void 0===e.externalContact&&(e.externalContact=!0),void 0===e.multi&&(e.multi=!0),void 0===e.ignore&&(e.ignore=!1),e.multi=Boolean(e.multi),!1===e.multi&&(e.choosenIds=null);var t=!1;null!==e.choosenIds&&null!==e.disableChosenIds&&e.choosenIds instanceof Array&&e.disableChosenIds instanceof Array&&e.choosenIds.forEach((function(n){-1!==e.disableChosenIds.indexOf(n)&&(t=!0)})),!1===t?W_("chooseContact",e):H_("chooseContact",e,"choosenIds and disableIds intersect")}},{kind:"method",decorators:[lw()],key:"chooseChat",value:function(e){void 0===e&&(e={}),void 0===e.externalChat&&(e.externalChat=!0),void 0===e.allowCreateGroup&&(e.allowCreateGroup=!0),void 0===e.ignoreSelf&&(e.ignoreSelf=!1),void 0===e.ignoreBot&&(e.ignoreBot=!1),void 0===e.multiSelect&&(e.multiSelect=!1),void 0===e.selectType&&(e.selectType=0),W_("chooseChat",e)}}]}}),fw),BI=rw(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t);return{F:n,d:[{kind:"field",decorators:[lw()],key:"ThemeChange",value:function(){return this.createEventApi("themeChange")}},{kind:"method",key:"setup",value:function(){tS(Ay(n.prototype),"setup",this).call(this),this.onMethod("onThemeChange",this._onThemeChange),this.onMethod("onThemeInit",this._onThemeChange)}},{kind:"field",key:"_onThemeChange",value:function(){var e=this;return function(t){e.emitter.emit("themeChange",t)}}}]}}),fw),FI=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"getSecurityInfo",value:function(){return this.createInvokeMethodApi("getSecurityInfo")}},{kind:"field",decorators:[lw()],key:"getSecurityEnv",value:function(){return this.createInvokeMethodApi("getSecurityEnv")}}]}}),fw);V_("onTabbarDoubleTap",(function(e){void 0===e&&(e={});var t=Pk();if(0!==t.length){var n=t[t.length-1];n.hasOwnProperty("onTabbarDoubleTap")&&(ps.info("Invoke event onTabbarDoubleTap in page: "),bk.call(n,"onTabbarDoubleTap",e))}else ps.error("onTabbarDoubleTap 回调时还未加载页面")})),V_("onTabItemTap",(function(e){void 0===e&&(e={});var t=Pk();if(0!==t.length){var n=t[t.length-1];n.hasOwnProperty("onTabItemTap")&&(ps.info("Invoke event onTabItemTap in page: "),bk.call(n,"onTabItemTap",e))}else ps.error("onTabItemTap 回调时还未加载页面")}));var UI=new Py.EventEmitter2,qI="onLocationChange";V_("onLocationChange",(function(e){void 0===e&&(e={}),UI.emit(qI,e)}));var WI=sw("startLocationUpdate"),VI=sw("stopLocationUpdate"),zI=A_(UI,qI,(function(e){return d_(e)})),GI=zI.on,HI=zI.off;function KI(e,t){W_("logManager",{type:e,msg:t})}var JI={log:function(){var e=Array.prototype.slice.call(arguments);e.length&&KI("log",e[0].toString())},info:function(){var e=Array.prototype.slice.call(arguments);e.length&&KI("info",e[0].toString())},debug:function(){var e=Array.prototype.slice.call(arguments);e.length&&KI("debug",e[0].toString())},warn:function(){var e=Array.prototype.slice.call(arguments);e.length&&KI("warn",e[0].toString())}};var $I=new Py,YI="richTextEvent",QI="richTextEvent_";function XI(e){W_("showRichText",e)}V_(YI,(function(e){$I.emit(QI+e.eventName,e.data||{})}));var ZI=function(){function e(){}var t=e.prototype;return t.show=function(e){return XI(Object.assign({},e,{eventName:YI,fail:function(e){$I.emit(QI+"error",e)},success:function(){$I.emit(QI+"show")}})),this},t.update=function(e){return XI(Object.assign({},e,{eventName:YI,fail:function(e){$I.emit(QI+"error",e)}})),this},t.hide=function(){return W_("hideRichText"),$I.emit(QI+"hide"),this},t.onShow=function(e){var t=QI+"show";return $I.removeAllListeners(t),$I.on(t,(function(t){"function"==typeof e&&d_(e,"at richTextEvent.onShow callback function")(t)})),this},t.onPicSelect=function(e){var t=QI+"picSelect";return $I.removeAllListeners(t),$I.on(t,(function(t){"function"==typeof e&&d_(e,"at richTextEvent.onPicSelect callback function")(t)})),this},t.onModelSelect=function(e){var t=QI+"modelSelect";return $I.removeAllListeners(t),$I.on(t,(function(t){"function"==typeof e&&d_(e,"at richTextEvent.onModelSelect callback function")(t)})),this},t.onPublish=function(e){var t=QI+"publish";return $I.removeAllListeners(t),$I.on(t,(function(t){"function"==typeof e&&d_(e,"at richTextEvent.onPublish callback function")(t)})),this},t.onHide=function(e){var t=QI+"hide";return $I.removeAllListeners(t),$I.on(t,(function(t){"function"==typeof e&&d_(e,"at richTextEvent.onHide callback function")(t)})),this},t.onError=function(e){var t=QI+"error";return $I.removeAllListeners(t),$I.on(t,(function(t){"function"==typeof e&&d_(e,"at richTextEvent.onError callback function")(t)})),this},e}();function eA(){return new ZI}var tA=new Py,nA="_onWatermarkChange";V_("onWatermarkChange",(function(e){void 0===e&&(e={}),tA.emit(nA,e)}));var rA=new Py;V_("chatBadgeChangeObserved",(function(e){void 0===e&&(e={}),e.openChatId&&rA.emit(e.openChatId,{badge:e.badge})}));var oA,iA=!1,aA=[];var sA={NDEF:"NDEF",A:"NFC-A",B:"NFC-B",F:"NFC-F",V:"NFC-V",MIFARE_CLASSIC:"MIFARE-Classic",MIFARE_ULTRALIGHT:"MIFARE-Ultralight",ISO_DEP:"ISO-DEP"},cA=new Py,uA=new WeakMap,lA="discovered";V_("nfcFoundDevice",(function(e){cA.emit(lA,e)}));var fA=function(){function e(e){this.tech=e}var t=e.prototype;return t.connect=function(e){W_("nfcConnect",Object.assign({tech:this.tech},e))},t.close=function(e){W_("nfcClose",Object.assign({tech:this.tech},e))},t.setTimeout=function(e){W_("nfcSetTimeout",Object.assign({tech:this.tech},e))},t.transceive=function(e){W_("nfcTransceive",Object.assign({tech:this.tech},e))},t.getMaxTransceiveLength=function(e){W_("nfcMaxTransceiveLength",Object.assign({tech:this.tech},e))},e}(),dA=function(e){function t(){return e.call(this,sA.A)||this}am(t,e);var n=t.prototype;return n.getAtqa=function(e){W_("nfcGetAtqa",e)},n.getSak=function(e){W_("nfcGetSak",e)},t}(fA),hA=function(e){function t(){return e.call(this,sA.MIFARE_CLASSIC)||this}return am(t,e),t}(fA),pA=((oA={})[sA.A]=dA,oA[sA.MIFARE_CLASSIC]=hA,oA),vA={};function gA(e){return function(){return function(e){return vA[e]||(vA[e]=new pA[e]),vA[e]}(e)}}var mA,yA={tech:sA,getNfcA:gA(sA.A),getMifareClassic:gA(sA.MIFARE_CLASSIC),onDiscovered:function(e){var t=uA.get(e)||d_(e,"NFCAdapter.Discovered");uA.set(e,t),cA.on(lA,t)},offDiscovered:function(e){var t=uA.get(e);t&&cA.off(lA,t)},startDiscovery:function(e){W_("nfcStartDiscovery",e)},stopDiscovery:function(e){W_("nfcStopDiscovery",e)}};!function(e){e[e.NOT_INITED_YET=0]="NOT_INITED_YET",e[e.INITTING=1]="INITTING",e[e.INITED=2]="INITED"}(mA||(mA={}));var bA=new(function(){function e(){this.initStatus=void 0,this.initParams=void 0,this.initStatus=mA.NOT_INITED_YET,this.initParams={}}var t=e.prototype;return t.init=function(){var e=Ab(Mb.mark((function e(t){return Mb.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initStatus===mA.NOT_INITED_YET){e.next=2;break}throw new Error("already inited");case 2:this.initStatus=mA.INITTING,this.initParams=Object.assign({},this.initParams,null!=t?t:{}),this.initStatus=mA.INITED;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.inited=function(){return this.initStatus===mA.INITED},t.run=function(e,t,n,r,o){var i,a,s=this;if(!e||!t)return Promise.reject(new Error("u should provide functionName and data"));if(this.initStatus!==mA.INITED)return Promise.reject(new Error("cloud not inited yet"));var c=Object.assign({"content-type":"application/json"},null!=(i=this.initParams.headers)?i:{},null!=(a=null==n?void 0:n.headers)?a:{});return new Promise((function(i,a){W_("callLightService",{context:Object.assign({method:"post"},s.initParams,null!=n?n:{},{headers:c,function_name:e,data:JSON.stringify(t)})},{afterSuccess:null!=r?r:function(e){i(e)},afterCancel:null!=o?o:function(e){a(e)},afterFail:null!=o?o:function(e){a(e)}})}))},e}());var _A=sw("addTabBarItem"),wA=sw("removeTabBarItem"),SA=new uw;V_("onTabBarReady",(function(e){SA.emit("tabBarReady",{status:e.tab_bar_ready})}));var kA=new Py.EventEmitter2,TA="onNavigateBack";V_("onNavigateBackListener",(function(e){var t=Pk(),n=TA+"_"+t[t.length-1].__webviewId__;kA.emit(n,e)}));var EA=sw("chooseMedia"),CA=new Py.EventEmitter2,IA=Symbol("beacon_service_change"),AA=Symbol("beacon_update");V_("beaconServiceChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];CA.emit.apply(CA,[IA].concat(t))})),V_("beaconUpdate",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];CA.emit.apply(CA,[AA].concat(t))}));var MA=sw("getBeacons"),OA=sw("startBeaconDiscovery"),RA=sw("stopBeaconDiscovery");var xA,PA,NA=sw("getStepCount");new Py.EventEmitter2,function(e){e.CREATE="init",e.ADD="addComment",e.SETMETA="setCommentMetadata",e.ACTIVE="activateComment",e.DEACTIVE="deactivateComment",e.DESTROY="destroy"}(xA||(xA={})),function(e){e.AFTERADD="add_comment",e.MENTION="mention",e.ADDREPLY="add_reply",e.ACITVECHANGE="active_comment_change",e.RESOLVE="resolve",e.EDIT="edit",e.DELETE="delete_reply",e.PANELSHOW="panel_show_status_change",e.PANELCLOSE="panel_close",e.DATACHANGE="data_update",e.INIT="ready",e.PANELHEIGHTCHANGE="panel_height_update",e.ERROR="comment_error",e.READY="allReady"}(PA||(PA={}));var jA=new Py.EventEmitter2,LA=Symbol("memoryWarning");V_("onMemoryWarning",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];jA.emit.apply(jA,[LA].concat(t))}));var DA=[].concat(CI,[MI,AI,xI,NI,LI,DI,BI,FI]),BA=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"openDrawerSidebar",value:function(){var e=this;return function(t){var n=Xb(t,{type:{type:"String",required:!0},width:{type:"Number",required:!1}});n?e.beforeInvokeFail("openDrawerSidebar",t,n):e.invokeMethod("openDrawerSidebar",t)}}},{kind:"field",decorators:[lw()],key:"closeDrawerSidebar",value:function(){return this.createInvokeMethodApi("closeDrawerSidebar")}},{kind:"field",decorators:[lw()],key:"getDrawerSidebarInfo",value:function(){return this.createInvokeMethodApi("getDrawerSidebarInfo")}},{kind:"field",decorators:[lw()],key:"DrawerSidebarIconClick",value:function(){return this.createNativeEventApi("onDrawerSidebarIconClick")}}]}}),fw),FA=rw(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,e(cb(n)),n}return am(n,t),n}(t),d:[{kind:"field",decorators:[lw()],key:"updateCalendarEvent",value:function(){return this.createInvokeMethodApi("updateCalendarEvent")}},{kind:"field",decorators:[lw()],key:"preloadCalendarEventView",value:function(){return this.createInvokeMethodApi("preloadCalendarEventView")}},{kind:"field",decorators:[lw()],key:"unloadCalendarEventView",value:function(){return this.createInvokeMethodApi("unloadCalendarEventView")}}]}}),fw);var UA={scene:-1,query:"",isSticky:!1,shareTicket:"",referrerInfo:{appId:"",extraData:{}}};var qA=new Map,WA=new Py;V_("onMessage",(function(e){void 0===e&&(e={});var t=e,n=t.type,r=t.taskId;void 0!==r&&(n&&"message"!==n?"close"===n&&WA.removeAllListeners(""+r):WA.emit(""+r,e))}));var VA=new Set(["1"]);var zA=new Py.EventEmitter2,GA="onTabCloseListener";V_("onWorkplaceCloseObserve",(function(e){zA.emit(GA,e)}));var HA,KA,JA=new Py.EventEmitter2;!function(e){e.CREATE="initOpComment",e.ADD="addComment",e.SETMETA="setCommentMetadata",e.ACTIVE="activateComment",e.DEACTIVE="deactivateComment",e.DESTROY="destroyComment",e.OPENPANEL="openCommentPanel",e.CLOASEPANEl="closeCommentPanel"}(HA||(HA={})),function(e){e.AFTERADD="commentAdd",e.MENTION="mention",e.ACITVECHANGE="commentActiveChange",e.RESOLVE="commentResolve",e.EDIT="commentEdit",e.PANELSHOW="commentPanelShow",e.PANELCLOSE="commentPanelHide",e.DATACHANGE="commentDataChange",e.DELETE="commentDelete",e.ERROR="commentError",e.READY="allReady"}(KA||(KA={}));for(var $A=[KA.ACITVECHANGE,KA.RESOLVE,KA.EDIT,KA.PANELSHOW,KA.PANELCLOSE,KA.AFTERADD,KA.DATACHANGE,KA.MENTION,KA.ERROR,KA.DELETE],YA=function(e){var t=$A[e];V_(t,(function(e){var n=e;JA.emit(t,n)}))},QA=0;QA<$A.length;QA++)YA(QA);var XA=function(e,t,n,r){var o=this;this.token="",this.rect=void 0,this.appId="",this.type="outer",this.callbackArr=[],this.emitAppIdError=function(){o.reportError("invalid appid",-1,"create_manager")},this.createCommentManager=function(e){var t={token:o.token,appId:o.appId,type:o.type,permission:e};"inner"===o.type&&o.rect&&(t.rect=o.rect);var n=Xb(t,{token:{type:"String",required:!0},rect:{type:"Object",required:"inner"===t.type},type:{type:"String"}});if(n)JA.emit(KA.ERROR,{code:-1,msg:n});else{if("inner"===t.type&&t.rect){var r=Zb(t.rect,{top:100,bottom:100,right:100},"rect");if(r)return void JA.emit(KA.ERROR,{code:-1,msg:r})}W_(HA.CREATE,Object.assign({},t,{success:function(){JA.emit(KA.READY)},fail:function(e){JA.emit(KA.ERROR,e)}}))}},this.addComment=function(e){var t=Xb(e,{quote:{type:"String",required:!0},position:{type:"String",required:!0},insertIndex:{type:"Number"}});t?JA.emit(KA.ERROR,{code:-1,msg:t}):W_(HA.ADD,e)},this.setCommentMetadata=function(e){var t=Xb({metaData:e},{metaData:{type:"Array",required:!0}});t?JA.emit(KA.ERROR,{code:-1,msg:t}):W_(HA.SETMETA,e)},this.activateComment=function(e){var t=e.commentId,n=e.replyId,r={commentId:t};void 0!==n&&(r.replyId=n);var o=Xb(r,{commentId:{type:"String",required:!0},replyId:{type:"String"}});o?JA.emit(KA.ERROR,{code:-1,msg:o}):W_(HA.ACTIVE,r)},this.deactivateComment=function(){W_(HA.DEACTIVE)},this.showCommentPanel=function(){W_(HA.OPENPANEL)},this.hideCommentPanel=function(){W_(HA.CLOASEPANEl)},this.destroy=function(){for(var e=0;e<o.callbackArr.length;e++){var t=o.callbackArr[e],n=t.hook,r=t.callback;n&&r&&JA.removeListener(n,r)}W_(HA.DESTROY)},this.onAfterAddComment=function(e){o.callbackWrapper(KA.AFTERADD,e)},this.onAfterEditComment=function(e){o.callbackWrapper(KA.EDIT,e)},this.onAfterDeleteComment=function(e){o.callbackWrapper(KA.DELETE,e)},this.onActiveCommentChange=function(e){o.callbackWrapper(KA.ACITVECHANGE,e)},this.onResolveComment=function(e){o.callbackWrapper(KA.RESOLVE,e)},this.onCommentPanelShow=function(e){o.callbackWrapper(KA.PANELSHOW,e)},this.onCommentPanelClose=function(e){o.callbackWrapper(KA.PANELCLOSE,e)},this.onCommentChange=function(e){o.callbackWrapper(KA.DATACHANGE,e)},this.reportError=function(e,t,n){void 0===t&&(t=-1),void 0===n&&(n="");var r=ky.GadgetMonitorCode;Sy(ky.GadgetEventName.jsError,r.commentWarn).addMap({commentMsg:e,commentErrorCode:t,commentService:n}).flush()},this.onError=function(e){o.callbackWrapper(KA.ERROR,(function(t){var n=t.code,r=void 0===n?-1:n,i=t.msg,a=void 0===i?"error":i,s=t.service,c=void 0===s?"":s;o.reportError(a,r,c),null==e||e(t)}))},this.onReady=function(e){o.callbackWrapper(KA.READY,e)},this.onMention=function(e){o.callbackWrapper(KA.MENTION,e)},this.callbackWrapper=function(e,t){var n=function(n){n.token!==o.token&&e!==KA.ERROR||(e===KA.DATACHANGE&&(n=n.data||[]),null==t||t(n))};o.callbackArr.push({hook:e,callback:n}),JA.on(e,n)},this.token=e,this.rect=n,this.type=null!=r?r:"outer";var i=TMAConfig.appId;if(this.appId=null!=i?i:"",i){var a=Object.assign({comment:!0,copy:!0,resolve:!0,delete:!0},t);this.createCommentManager(a)}else this.emitAppIdError()},ZA=[].concat(DA,[BA,RI,FA,jI]),eM=Object.freeze({__proto__:null,apis:ZA,filePicker:function(e){void 0===e&&(e={}),W_("filePicker",e)},docsPicker:function(e){void 0===e&&(e={});var t=e.maxNum;void 0===t||t>0?W_("docsPicker",e):H_("docsPicker",e,"no valid maxNum")},openDocument:function(e){void 0===e&&(e={}),G_("openDocument",e,{filePath:"String"})&&W_("openDocument",e)},saveFileAs:function(e){void 0===e&&(e={}),G_("saveFileAs",e,{filePath:"String"})&&W_("saveFileAs",e)},getLaunchOptionsSync:function(){var e=Object.assign({},UA);return W_("getLaunchOptionsSync",{success:function(t){if(t.query&&"string"==typeof t.query)try{t.query=JSON.parse(decodeURIComponent(t.query))}catch(e){}Object.assign(e,t)},fail:function(e){throw new Error(e.errMsg)}}),e},print:function(e){void 0===e&&(e={}),G_("print",e,{url:""})&&W_("print",e)},getHostLaunchQuery:function(e){void 0===e&&(e={});var t=tt.getHostLaunchQuerySync(e);e.success&&e.success(Object.assign(t,{errMsg:"getHostLaunchQuery:ok"})),e.complete&&e.complete(Object.assign(t,{errMsg:"getHostLaunchQuery:ok"}))},createMessagePassingTask:function(e){void 0===e&&(e={});var t=e.type,n=void 0===t?"1":t;if(VA.has(""+n)){var r=qA.get(n);if(r)return r;var o=n,i=[];WA.on(""+o,(function(e){i.forEach((function(t){var n=["appId","mode"],r=e.source||{},o={source:Object.keys(r).filter((function(e){return n.includes(e)})).reduce((function(e,t){return e[t]=r[t],e}),{}),data:e.data||""};d_(t,"at MessagePassingTask.onMessage callback function")(o)}))}));var a={postMessage:function(e){void 0===e&&(e={});G_("postMessage",e=Object.assign(e,{taskId:o}),{data:"string"})&&W_("postMessage",e)},onMessage:function(e){"function"!=typeof e||i.includes(e)||i.push(e)},offMessage:function(e){var t=i.indexOf(e);t>-1&&i.splice(t,1)}};qA.set(n,a);var s={errMsg:"createMessagePassingTask:ok"};return"function"==typeof e.success&&e.success(s),"function"==typeof e.complete&&e.complete(s),a}H_("createMessagePassingTask",e,"invalid type")},getEnvVariable:function(e){void 0===e&&(e={}),W_("getEnvVariable",e)},cloud:bA,onWorkplaceTabClose:function(e){"function"==typeof e&&(zA.listeners(GA).length?zA.listeners(GA).includes(e)||zA.on(GA,e):W_("onWorkplaceTabClose",{},{beforeSuccess:function(){zA.on(GA,e)}}))},offWorkplaceTabClose:function(e){var t=!1;e&&"function"==typeof e?(zA.off(GA,e),zA.listeners(GA).length||(t=!0)):void 0===e&&(zA.removeAllListeners(GA),t=!0),t&&W_("offWorkplaceTabClose",{})},openOuterPage:function(e){if(void 0===e&&(e={}),G_("openOuterPage",e,{url:"String"})){var t=ws().getContainer().LifecycleState;e.url=sb(t.path,e.url),e.url=a_(e.url),J_("openOuterPage",e.url,e)&&W_("openOuterPage",e)}},setWindowSize:function(e){void 0===e&&(e={});var t=Xb(e,{windowWidth:{type:"Number",required:!1},windowHeight:{type:"Number",required:!1},x:{type:"Number",required:!1},y:{type:"Number",required:!1}});t?H_("setWindowSize",e,t):W_("setWindowSize",e)},getScreenInfoOfLark:function(e){void 0===e&&(e={}),W_("getScreenInfoOfLark",e)},createCommentManager:function(e){var t=e.token,n=e.permission,r=e.rect,o=e.type;return new XA(t,n,r,o)},setTabBarBadge:function(e){void 0===e&&(e={}),G_("setTabBarBadge",e,{index:1,text:"String"})&&W_("setTabBarBadge",e)},hideTabBarRedDot:function(e){void 0===e&&(e={}),G_("hideTabBarRedDot",e,{index:1})&&W_("hideTabBarRedDot",e)},showTabBarRedDot:function(e){void 0===e&&(e={}),G_("showTabBarRedDot",e,{index:1})&&W_("showTabBarRedDot",e)},removeTabBarBadge:function(e){void 0===e&&(e={}),G_("removeTabBarBadge",e,{index:1})&&W_("removeTabBarBadge",e)},showTabBar:function(e){void 0===e&&(e={}),e.animation=Boolean(e.animation)||!1,W_("showTabBar",e)},hideTabBar:function(e){void 0===e&&(e={}),e.animation=Boolean(e.animation)||!1,W_("hideTabBar",e)},setTabBarItem:function(e){void 0===e&&(e={}),G_("setTabBarItem",e,{index:1})&&W_("setTabBarItem",e)},setTabBarStyle:function(e){void 0===e&&(e={}),G_("setTabBarStyle",e,{color:"color",selectedColor:"selectedColor",backgroundColor:"backgroundColor",borderStyle:"borderStyle"})&&W_("setTabBarStyle",e)},chooseLocation:function(e){void 0===e&&(e={}),W_("chooseLocation",e)},onLocationChange:GI,startLocationUpdate:WI,stopLocationUpdate:VI,offLocationChange:HI,getLogManager:function(){return JI},getCustomizedInput:eA,getRichText:function(){return eA()},getPerformance:function(e){G_("getPerformance",e,{})&&W_("getPerformance",e)},startDeviceCredential:function(e){void 0===e&&(e={}),G_("startDeviceCredential",e,{authContent:"String"})&&W_("startDeviceCredential",e)},mailto:function(e){void 0===e&&(e={}),W_("mailto",e)},checkWatermark:function(e){void 0===e&&(e={}),W_("checkWatermark",e)},hasWatermark:function(e){void 0===e&&(e={}),W_("hasWatermark",e)},onWatermarkChange:function(e){var t,n,r;if(e)if("function"==typeof e?t=e:"object"==typeof e&&("function"==typeof e.callback&&(t=e.callback),"function"==typeof e.success&&(n=e.success),"function"==typeof e.fail&&(r=e.fail)),t)if(0===tA.listenerCount(nA)){W_("onWatermarkChange",{success:function(e){tA.on(nA,t),n&&n(e)},fail:r})}else tA.on(nA,t),n&&n();else r&&r("have no callback")},offWatermarkChange:function(e){var t,n,r;if(e)if("function"==typeof e?t=e:"object"==typeof e&&("function"==typeof e.callback&&(t=e.callback),"function"==typeof e.success&&(n=e.success),"function"==typeof e.fail&&(r=e.fail)),t){n&&n();var o=tA.listenerCount(nA);tA.off(nA,t),1===o&&0===tA.listenerCount(nA)&&W_("offWatermarkChange",{})}else r&&r("have no callback")},setAuthenticationInfo:function(e){void 0===e&&(e={}),G_("setAuthenticationInfo",e,{mobile:"String",identifyCode:"String",identifyName:"String"})&&W_("setAuthenticationInfo",e)},startFaceIdentify:function(e){void 0===e&&(e={}),W_("startFaceIdentify",e)},startFaceVerify:function(e){void 0===e&&(e={}),G_("startFaceVerify",e,{userId:"String"})&&W_("startFaceVerify",e)},getDeviceID:function(e){void 0===e&&(e={}),W_("getDeviceID",e)},getWifiStatus:function(e){void 0===e&&(e={}),W_("getWifiStatus",e)},getWifiStatusSync:function(){var e={};return W_("getWifiStatusSync",{},{beforeAll:function(t){"getWifiStatusSync:ok"===t.errMsg&&(delete t.errMsg,e=t)}}),e},getUserInfoEx:function(e){void 0===e&&(e={}),W_("getUserInfoEx",e)},onChatBadgeChange:function(e){G_("onChatBadgeChange",e,{openChatId:"",onChange:function(){}})&&(rA.listeners(e.openChatId)&&rA.listeners(e.openChatId).includes(e.onChange)?K_("onChatBadgeChange"):0===rA.listeners(e.openChatId).length?W_("onChatBadgeChange",e,{beforeSuccess:function(t){rA.on(e.openChatId,e.onChange)}}):rA.on(e.openChatId,e.onChange))},offChatBadgeChange:function(e){if(G_("offChatBadgeChange",e,{openChatId:""})){var t=e.openChatId,n=e.onChange;n?(rA.off(t,n),rA.listeners(t).length?K_("offChatBadgeChange"):W_("offChatBadgeChange",e,(function(e){}))):rA.removeAllListeners(t)&&W_("offChatBadgeChange",e,(function(e){}))}},getChatInfo:function(e){if(G_("getChatInfo",e,{openChatId:"",chatType:0})){var t=e.chatType;[0,1].includes(t)?0!==t||[0,1].includes(e.userType)?W_("getChatInfo",e):H_("getChatInfo",e,"must set userType when chatType is 0"):H_("getChatInfo",e,"chatType can only be 0 or 1")}},getServerTime:function(e){void 0===e&&(e={}),W_("getServerTime",e)},getTriggerContext:function(e){void 0===e&&(e={}),W_("getTriggerContext",e)},sendMessageCard:function(e){void 0===e&&(e={}),W_("sendMessageCard",e)},createMapContext:function(e,t){return NC||(ps.error("mapContext not installed yet"),NC=PC()),NC(e,t)},execDiagnoseCommands:function(e){void 0===e&&(e={}),iA?aA.push(e):(iA=!0,W_("execDiagnoseCommands",e,{beforeAll:function(){iA=!1},afterAll:function(e){aA.forEach((function(t){"function"==typeof t.complete&&d_(t.complete,"at execDiagnoseCommands complete callback function")(e)}))},afterSuccess:function(e){aA.forEach((function(t){"function"==typeof t.success&&d_(t.success,"at execDiagnoseCommands success callback function")(e)}))},afterFail:function(e){aA.forEach((function(t){"function"==typeof t.fail&&d_(t.fail,"at execDiagnoseCommands fail callback function")(e)}))}}))},getNFCAdapter:function(){return yA},checkLocalFaceVerify:function(e){W_("checkLocalFaceVerify",e)},prepareLocalFaceVerify:function(e){var t=Xb(e,{timeout:{type:"Number",required:!0}});t?H_("prepareLocalFaceVerify",e,t):W_("prepareLocalFaceVerify",e)},startLocalFaceVerify:function(e){var t=Xb(e,{path:{type:"String",required:!0}});t?H_("startLocalFaceVerify",e,t):W_("startLocalFaceVerify",e)},share:function(e){W_("share",e)},addTabBarItem:_A,removeTabBarItem:wA,onTabBarReady:function(e){SA.on("tabBarReady",e)},offTabBarReady:function(e){SA.off("tabBarReady",e)},onNavigateBack:function(e){if("function"==typeof e){var t=Pk(),n=TA+"_"+t[t.length-1].__webviewId__;kA.listeners(n).length?kA.listeners(n).includes(e)||kA.on(n,e):(W_("onNavigateBack",{}),kA.on(n,e))}},offNavigateBack:function(e){var t=Pk(),n=TA+"_"+t[t.length-1].__webviewId__;e&&"function"==typeof e?kA.off(n,e):void 0===e&&kA.removeAllListeners(n)},chooseMedia:EA,startBeaconDiscovery:OA,stopBeaconDiscovery:RA,onBeaconServiceChange:function(e){CA.on(IA,e)},onBeaconUpdate:function(e){CA.on(AA,e)},offBeaconServiceChange:function(e){var t;if(null!=(t=CA.listeners(IA))&&t.length)return e?CA.off(IA,e):void CA.listeners(IA).forEach((function(e){CA.off(IA,e)}))},offBeaconUpdate:function(e){var t;if(null!=(t=CA.listeners(AA))&&t.length)return e?CA.off(AA,e):void CA.listeners(AA).forEach((function(e){CA.off(AA,e)}))},getBeacons:MA,getStepCount:NA,onMemoryWarning:function(e){jA.on(LA,e)},offMemoryWarning:function(e){"function"==typeof e&&jA.off(LA,e)},onAppRoute:function(e){ws().getContainer().containerEventEmitter.on("onAppRoute",e)},exitMiniProgram:hT,uploadFile:function(e){if(void 0===e&&(e={}),(ws().agent||{}).useNewUploadAPI)return function(e){if(void 0===e&&(e={}),G_("uploadFile",e,{url:"",filePath:"",name:""})){var t=Object.assign({},e);"object"!=typeof t.header&&void 0!==t.header&&(ps.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof e.formData&&void 0!==e.formData&&(ps.warn("uploadFile: formData must be an object"),delete t.formData),t.header=t.header?u_(t.header):{},t.formData=t.formData?u_(t.formData):{},["success","fail","complete"].forEach((function(e){var n=t[e];"function"==typeof n&&(t[e]=d_(n,"at api uploadFile "+e+" callback function"))}));try{return new bT(t)}catch(t){pT({resultType:"fail",errMsg:"uploadFile:fail create UploadFile instant catch error",bizInvokeTime:Date.now(),errCode:Gw.InternalError,uploadTaskId:"",url:e.url,method:e.method}),H_("uploadFile",e,t.message||"create UploadFile instant catch error")}}else pT({resultType:"fail",errMsg:"uploadFile:fail invalid param type",bizInvokeTime:Date.now(),errCode:Gw.InvalidParam,uploadTaskId:"",url:e.url,method:e.method})}(e);if(G_("uploadFile",e,{url:"",filePath:"",name:""})){"object"!=typeof e.header&&void 0!==e.header&&(ps.warn("uploadFile: header must be an object"),delete e.header),"object"!=typeof e.formData&&void 0!==e.formData&&(ps.warn("uploadFile: formData must be an object"),delete e.formData);var t=e.header?c_(e.header):{},n=e.formData?c_(e.formData):{};try{return new zT(Object.assign({},e,{header:t,formData:n}))}catch(t){GT(e.url,e.method,"uploadFile:fail create Upload instant catch error"),H_("uploadFile",e,t.message)}}else GT(e.url,e.method,"uploadFile:fail invalid param type")},downloadFile:SE,chooseImage:function(e){void 0===e&&(e={}),W_("chooseImage",i_({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess:function(e){e.tempFileSizes&&(e.tempFiles=e.tempFilePaths.map((function(t,n){return{path:t,size:e.tempFileSizes[n]}}))),delete e.tempFileSizes}})},saveImageToPhotosAlbum:function(e){void 0===e&&(e={}),e.filePath=kE.get(e.filePath)||e.filePath,W_("saveImageToPhotosAlbum",e,{})},previewImage:function(e){void 0===e&&(e={}),G_("previewImage",e,{})&&(e.urls&&(e.urls=e.urls.map((function(e){return kE.get(e)||e}))),W_("previewImage",e))},getImageInfo:function(e){if(G_("getImageInfo",e,{src:""}))if(/^(http|https):\/\//.test(e.src))SE({url:e.src,success:function(t){e.src=t.tempFilePath,W_("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})},fail:function(t){H_("getImageInfo",e,"download image fail")}});else if(/^(tt)?file:\/\//.test(e.src))W_("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}});else{var t;t=ws().getContainer().LifecycleState.path,e.src=sb(t,e.src),W_("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})}},compressImage:function(e){if(void 0===e&&(e={}),G_("compressImage",e,{src:""}))if(/^(tt)?file:\/\//.test(e.src)||/^(http|https):\/\//.test(e.src))W_("compressImage",e);else{var t;t=ws().getContainer().LifecycleState.path,e.src=sb(t,e.src),W_("compressImage",e)}},getRecorderManager:function(){return AE},chooseVideo:function(e){void 0===e&&(e={}),e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||["front","back"],"boolean"!=typeof e.compressed&&(e.compressed=!0),W_("chooseVideo",e)},saveVideoToPhotosAlbum:function(e){void 0===e&&(e={}),W_("saveVideoToPhotosAlbum",e,{})},createVideoContext:function(e,t){return new ME(e,t)},getFileSystemManager:function(){return xE},saveFile:PE,getFileInfo:NE,getSavedFileList:jE,removeSavedFile:LE,getLocation:function(e){var t;DE?(BE.push(e),Date.now()-DE>=1e4&&(t=Date.now()-DE,ky.build(by.api,my.api_queue_timeout).addMap({api_name:"getLocation",api_queue_length:BE.length,api_timeout:t}).flush())):(DE=Date.now(),FE(e))},openLocation:UE,getLocationStatus:qE,getNetworkType:VE,onNetworkStatusChange:function(e){WE.on("networkStatusChange",e)},offNetworkStatusChange:function(e){WE.off("networkStatusChange",e)},getConnectedWifi:GE,getWifiList:HE,onGetWifiList:function(e){"function"==typeof e&&(zE.on("getWifiList",e),1===zE.size("getWifiList")&&W_("onGetWifiList",{}))},offGetWifiList:function(e){if("function"==typeof e){var t=zE.size("getWifiList");zE.off("getWifiList",e),1===t&&0===zE.size("getWifiList")&&W_("offGetWifiList",{})}},getNetworkQualityType:JE,onNetworkQualityChange:function(e){var t=KE.size("networkQualityChange");KE.on("networkQualityChange",e);var n=KE.size("networkQualityChange");0===t&&1===n&&$E()},offNetworkQualityChange:function(e){var t=KE.size("networkQualityChange");KE.off("networkQualityChange",e);var n=KE.size("networkQualityChange");1===t&&0===n&&YE()},startCompass:function(e){void 0===e&&(e={}),W_("startCompass",e),XE=!0},stopCompass:function(e){void 0===e&&(e={}),W_("stopCompass",e),XE=!1},onCompassChange:function(e){XE||(W_("startCompass",{}),XE=!0),"function"==typeof e&&QE.push(d_(e,"onCompassChange"))},startAccelerometer:function(e){void 0===e&&(e={}),ZE=!0,W_("enableAccelerometer",Object.assign({},e,{enable:ZE}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}})},stopAccelerometer:function(e){void 0===e&&(e={}),ZE=!1,W_("enableAccelerometer",Object.assign({},e,{enable:ZE}),Object.assign({},e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}))},onAccelerometerChange:function(e){"function"==typeof e&&(ZE||W_("enableAccelerometer",{enable:ZE=!0}),eC.push(d_(e,"onAccelerometerChange")))},makePhoneCall:function(e){G_("makePhoneCall",e,{phoneNumber:""})&&W_("makePhoneCall",e)},scanCode:function(e){void 0===e&&(e={}),G_("scanCode",e,{})&&W_("scanCode",e,{beforeSuccess:function(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},getClipboardData:function(e){void 0===e&&(e={}),W_("getClipboardData",e)},setClipboardData:function(e){void 0===e&&(e={}),G_("setClipboardData",e,tC)&&W_("setClipboardData",e)},setKeepScreenOn:function(e){void 0===e&&(e={}),void 0===e.keepScreenOn&&(e.keepScreenOn=!0),G_("setKeepScreenOn",e,{keepScreenOn:!0})&&W_("setKeepScreenOn",e)},onUserCaptureScreen:function(e){0!=nC.length||rC||(W_("onUserCaptureScreen",{}),rC=!0),nC.push(e)},offUserCaptureScreen:function(e){0==(nC=nC.filter((function(t){return t!=e}))).length&&rC&&(W_("offUserCaptureScreen",{}),rC=!1)},vibrateLong:iC,vibrateShort:oC,navigateToMiniProgram:function(e){e=e||{};var t,n={};if("tap"!==ws().getContainer(D_).detectUserInteraction)t="must be invoked by user tap gesture";else if(e.appId){if(e.envVersion&&"current"!==e.envVersion&&"latest"!==e.envVersion)t="envVersion must be current or latest";else if(e.extraData&&"[object Object]"!==Object.prototype.toString.call(e.extraData))t="extraData must be plain object";else if(e.path&&e.path.includes("?"))try{n=e.path.split("?")[1].split("&").reduce((function(e,t){var n=t.split("=");return""!==n[0]&&(e[n[0]]=n[1]||""),e}),n)}catch(e){t="path is illegal"}}else t="appId is missing";t?H_("navigateToMiniProgram",e,t):W_("navigateToMiniProgram",{appId:e.appId,startPage:a_(e.path),query:n,extraData:JSON.stringify(e.extraData),versionType:e.envVersion,success:e.success,fail:e.fail,complete:e.complete})},navigateBackMiniProgram:function(e){var t;e=e||{},"tap"!==ws().getContainer(D_).detectUserInteraction?t="must be invoked by user tap gesture":e.extraData&&"[object Object]"!==Object.prototype.toString.call(e.extraData)&&(t="extraData must be plain object"),t?H_("navigateBackMiniProgram",e,t):W_("navigateBackMiniProgram",{extraData:JSON.stringify(e.extraData),success:e.success,fail:e.fail,complete:e.complete})},createAnimation:function(e){return void 0===e&&(e={}),new uC(e)},pageScrollTo:function(e){if(function(){var e=Pk(),t=e[e.length-1];if("object"!=typeof __allConfig__||!t)return!0;var n=__allConfig__[t.__route__];return!n||!n.disableScroll}()){var t=getCurrentPages(),n=t[t.length-1].__webviewId__;e.hasOwnProperty("page")&&e.page.hasOwnProperty("__webviewId__")&&(n=e.page.__webviewId__),mk(D_).bridge.invokeWebviewMethod("pageScrollTo",e,n,(function(){"function"==typeof e.success&&e.success({errMsg:"pageScrollTo:ok"}),"function"==typeof e.complete&&e.complete({errMsg:"pageScrollTo:ok"})}))}},disablePageScroll:function(e){var t=getCurrentPages();U_("disable-scroll",{disable:e},[t[t.length-1].__webviewId__])},createIntersectionObserver:lC,getUseDuration:function(e){void 0===e&&(e={}),W_("getUseDuration",e,{})},getUsageRecord:function(e){void 0===e&&(e={}),W_("getUsageRecord",e,{})},addShortcut:function(e){var t=ws().getContainer(D_);"tap"===t.detectUserInteraction?t.host.agent.isIDE?H_("addShortcut",e,"暂不支持在开发者工具调用"):W_("addShortcut",e):H_("addShortcut",e,"must be invoked by user tap gesture")},checkShortcut:function(e){ws().getContainer(D_).host.agent.isIDE?H_("checkShortcut",e,"暂不支持在开发者工具调用"):W_("checkShortcut",e)},getSetting:vC,openSetting:gC,getPhoneNumber:function(e){void 0===e&&(e={}),W_("_serviceGetPhoneNumber",e,{beforeAll:function(e){"object"!=typeof e.detail&&(e.detail={}),e.detail.errMsg=e.errMsg.replace("_serviceGetPhoneNumber","getPhoneNumber"),delete e.errMsg}})},getBlockActionSourceDetail:function(e){void 0===e&&(e={}),W_("getBlockActionSourceDetail",e)},showShareMenu:function(e){void 0===e&&(e={}),W_("showShareMenu",e,{})},hideShareMenu:function(e){void 0===e&&(e={}),W_("hideShareMenu",e,{})},updateShareMenu:function(e){void 0===e&&(e={}),Object.assign(mC,{withShareTicket:!!e.withShareTicket});var t="updateShareMenu";Jb(e.success)&&d_(e.success,"at "+t+" success callback")(),Jb(e.complete)&&d_(e.complete,"at "+t+" complete callback")()},getShareInfo:function(e){void 0===e&&(e={}),W_("getShareInfo",e,{})},getUpdateManager:function(){return _C},getGeneralInfo:function(e){void 0===e&&(e={}),W_("getGeneralInfo",e,{})},invokeBusiness:function(e){if(void 0===e&&(e={}),"string"==typeof e.__method){var t=e.__method;delete e.__method,W_(t,e)}},callHostMethod:function(e){void 0===e&&(e={}),G_("callHostMethod",e,{method:""})&&W_("callHostMethod",e)},callHostMethodSync:function(e){var t,n;if(void 0===e&&(e={}),G_("callHostMethodSync",e,{method:""})){if(W_("callHostMethodSync",e,{success:function(e){n=e},fail:function(e){void 0===e&&(e={}),t=e.errMsg}}),t)throw new g_(t);return n}},addHostEventListener:function(e,t){if("string"!=typeof e)throw new g_("eventName is invalid");if(void 0!==t&&"function"!=typeof t)throw new g_("listener callback should be function");W_("addHostEventListener",{eventName:"host_event_"+e}),function(e,t){ws().getContainer(D_).bridge.addHostListener(e,t)}(e,t)},getHostLaunchQuerySync:function(e){var t={};return W_("getHostLaunchQuerySync",e,{beforeAll:function(e){void 0===e&&(e={}),t.launchQuery=e.launchQuery}}),t},reportAnalytics:function(e,t,n){if(!y_(e)||!e)throw new g_("eventName must be a string.");if(e.length>110)throw new g_("eventName exceeded the maximum length: 110.");if(!Kb(t))throw new g_("data must be an object.");0!==n&&1!==n&&(n=0);var r=Object.keys(t),o={value:{}};if(r.length>256)throw new g_("data exceeded the maximum number of fields: 256.");r.filter((function(e){return!Kb(t[e])})).forEach((function(e){if(e.length>128)throw new g_(e+" exceeded the maximum number of bytes: 128.");if(String(t[e]).length>1024)throw new g_("the value of data["+e+"] exceeded the maximum number of bytes: 1024.");if(e&&"_"===e[0]&&1!=n)throw new g_("the key first char can not be _.");if(("mp_id"===e||"mp_name"===e)&&1!=n)throw new g_("the key can not be mp_name or mp_id.");o.value[e]=t[e]})),W_("reportAnalytics",Object.assign({},o,{event:e,type:n}))},requestAppReview:wC,endAppReview:SC,getExtConfig:function(e){W_("getExtConfig",e,{})},getExtConfigSync:function(){var e={};return W_("getExtConfigSync",{},{beforeSuccess:function(t){void 0===t&&(t={}),e=t}}),e},showMorePanel:function(e){W_("showMorePanel",e)},setMenuButtonVisibility:function(e){W_("setMenuButtonVisibility",e)},arrayBufferToBase64:Zy,base64ToArrayBuffer:eb,hideKeyboard:function(){W_("hideKeyboard")},getMenuButtonLayout:kC,getMenuButtonBoundingClientRect:kC,canIUse:function(e){if(void 0===e&&(e=""),"string"!=typeof e)throw new v_("canIUse: schema should be string");var t=tt.getSystemInfoSync(),n=t.appName,r=t.platform,o=t.SDKVersion,i=void 0===o?"1.0.0":o;if(!xC({app:n,plat:r,sdk:i},e))return!1;var a=e.split(".");return!!OC.apply(null,[i].concat(a))||!!RC.apply(null,[i].concat(a))},preloadMiniProgram:function(e){void 0===e&&(e={});var t=Object.assign({extraData:{}},e);if(G_("preloadMiniProgram",t,{appList:[],extraData:{}})){if(!Qb(t.appList)||t.appList.every((function(e){return!(Kb(e)&&(t=e.appId,y_(t)&&Gb.test(t)));var t})))return void function(e,t,n,r,o){void 0===e&&(e={}),void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r={}),void 0===o&&(o=!1);var i=t+":fail "+n,a=Object.assign({},{errMsg:i},r);Kb(e)&&(o?(Jb(e.fail)&&d_(e.fail,"at "+t+" fail callback")(a),Jb(e.complete)&&d_(e.complete,"at "+t+" complete callback")(a)):setTimeout((function(){Jb(e.fail)&&d_(e.fail,"at "+t+" fail callback")(a),Jb(e.complete)&&d_(e.complete,"at "+t+" complete callback")(a)}),0))}(t,"preloadMiniProgram","no valid appId");W_("preloadMiniProgram",t,{})}},onBeforeExitMiniProgram:function(e){if(!Jb(e))throw new m_("the param of onBeforeExitMiniProgram should be a function");jC=d_(e,"onBeforeCloseReturnSync")},offBeforeExitMiniProgram:function(){jC=null},onAppShow:UC,offAppShow:WC,onAppHide:qC,offAppHide:VC,onError:function(e){if(Reporter.registerErrorListener(e),!Ak(e))throw new m_("onAppService-Error should accept a function instead of "+typeof e);DC.Error.push(e)},offError:function(e){if(!Ak(e)&&void 0!==e)throw new m_("offAppService-Error should accept a function instead of "+typeof e);Reporter.unRegisterErrorListener(e),LC(DC.Error,e)},performance:{mark:function(e){}},getTraceInfo:function(){var e=ws().global.TMATrace;return e?new hI(e):{}},getTenantAppScopes:bI,applyTenantAppScope:_I,createMessageManager:function(e){return new EI({type:e})},openBluetoothAdapter:function(e){void 0===e&&(e={}),W_("openBluetoothAdapter",e)},closeBluetoothAdapter:function(e){void 0===e&&(e={}),W_("closeBluetoothAdapter",e)},getBluetoothAdapterState:function(e){void 0===e&&(e={}),W_("getBluetoothAdapterState",e)},startBluetoothDevicesDiscovery:function(e){void 0===e&&(e={});var t=Xb(e,{services:{type:"Array",required:!1},allowDuplicatesKey:{type:"Boolean",required:!1},interval:{type:"Number",required:!1}});t?H_("startBluetoothDevicesDiscovery",e,t):W_("startBluetoothDevicesDiscovery",e)},stopBluetoothDevicesDiscovery:function(e){void 0===e&&(e={}),W_("stopBluetoothDevicesDiscovery",e)},onBluetoothAdapterStateChange:QC,offBluetoothAdapterStateChange:XC,onBluetoothDeviceFound:nI,offBluetoothDeviceFound:rI,getConnectedBluetoothDevices:function(e){void 0===e&&(e={});var t=Xb(e,{services:{type:"Array",required:!0}});t?H_("getConnectedBluetoothDevices",e,t):W_("getConnectedBluetoothDevices",e)},getBluetoothDevices:function(e){void 0===e&&(e={});var t=e.success;t&&(e.success=function(e){var n=ZC(e);t(n)}),W_("getBluetoothDevices",e)},connectBLEDevice:function(e){void 0===e&&(e={});var t=Xb(e,{deviceId:{type:"String",required:!0}});t?H_("connectBLEDevice",e,t):W_("connectBLEDevice",e)},disconnectBLEDevice:function(e){void 0===e&&(e={});var t=Xb(e,{deviceId:{type:"String",required:!0}});t?H_("disconnectBLEDevice",e,t):W_("disconnectBLEDevice",e)},getBLEDeviceCharacteristics:function(e){void 0===e&&(e={});var t=Xb(e,{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0}});t?H_("getBLEDeviceCharacteristics",e,t):W_("getBLEDeviceCharacteristics",e)},getBLEDeviceServices:function(e){void 0===e&&(e={});var t=Xb(e,{deviceId:{type:"String",required:!0}});t?H_("getBLEDeviceServices",e,t):W_("getBLEDeviceServices",e)},notifyBLECharacteristicValueChange:function(e){void 0===e&&(e={});var t=Xb(e,{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0},descriptorId:{type:"String",required:!1},state:{type:"Boolean",required:!1}});t?H_("notifyBLECharacteristicValueChange",e,t):W_("notifyBLECharacteristicValueChange",e)},onBLECharacteristicValueChange:cI,offBLECharacteristicValueChange:uI,onBLEConnectionStateChange:fI,offBLEConnectionStateChange:dI,readBLECharacteristicValue:function(e){void 0===e&&(e={});var t=Xb(e,{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0}});t?H_("readBLECharacteristicValue",e,t):W_("readBLECharacteristicValue",e)},writeBLECharacteristicValue:function(e){void 0===e&&(e={});var t=Xb(e,{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0},value:{type:"String",required:!0}});t?H_("writeBLECharacteristicValue",e,t):W_("writeBLECharacteristicValue",e)},setBLEMTU:function(e){if(e_())H_("setBLEMTU",e,"iOS does not support");else{var t=Xb(e,{deviceId:{type:"String",required:!0},mtu:{type:"Number",required:!0}});t?H_("setBLEMTU",e,t):W_("setBLEMTU",e)}},opmonitor:function(){return pI||(pI=new vI),pI},reportBadge:gI,updateBadge:mI,onServerBadgePush:function(e,t){var n=(null==t?void 0:t.appId)||t_()||"",r="serverBadgePush-"+n,o=yI.size(r);yI.on(r,e);var i=yI.size(r);0===o&&1===i&&W_("onServerBadgePush",{appId:n})},offServerBadgePush:function(e,t){var n=(null==t?void 0:t.appId)||t_()||"",r="serverBadgePush-"+n,o=yI.size(r);yI.off(r,e);var i=yI.size(r);1===o&&0===i&&W_("offServerBadgePush",{appId:n})},getScreenBrightness:function(e){var t=e.success,n=e.fail;return new Promise((function(e,r){W_("getScreenBrightness",{},{afterSuccess:function(n){e(t?t(n):n)},afterCancel:function(e){r(n?n(e):e)},afterFail:function(e){r(n?n(e):e)}})}))},setScreenBrightness:function(e){var t=e.value,n=e.success,r=e.fail;return new Promise((function(e,o){W_("setScreenBrightness",{value:t},{afterSuccess:function(t){e(n?n(t):t)},afterCancel:function(e){o(r?r(e):e)},afterFail:function(e){o(r?r(e):e)}})}))}});var tM=function(e){function t(){return e.apply(this,arguments)||this}return am(t,e),t.prototype.useNeoNativeComp=function(e){var t,n,r;return!(null==(t=this.host.global)||null==(n=t.JSCoreFG)||null==(r=n.nativeComponent)||!r[e])},vs(t,[{key:"isWebview",get:function(){return!1}},{key:"isService",get:function(){return!0}},{key:"isAndroid",get:function(){return"android"===this.host.global.nativeTMAConfig.platform}},{key:"isIOS",get:function(){return"ios"===this.host.global.nativeTMAConfig.platform}},{key:"isSupportNewBridge",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.shouldUseNewBridge}},{key:"workerApiUseJSSDKMonitor",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.workerApiUseJSSDKMonitor}},{key:"shouldReportApiInvoke",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.apiUseJSSDKMonitor}},{key:"globalTrace",get:function(){var e,t;return null==(e=this.host)||null==(t=e.global)?void 0:t.TMATrace}},{key:"useNewRequestAPI",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.useNewRequestAPI}},{key:"useNewUploadAPI",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.useNewUploadAPI}},{key:"randomDeviceId",get:function(){var e;return null==(e=this.host.global)?void 0:e.nativeTMAConfig.randomDeviceId}},{key:"useNewDownloadAPI",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.useNewDownloadAPI}},{key:"pcRequestUseJssdktaskId",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.requestUseJssdktaskId}}]),t}(Db),nM={},rM=Function.prototype;function oM(){return arguments.length>0&&/^\s*return this\s*;?\s*$/.test(arguments[arguments.length-1])?function(){return nM}:function(){}}var iM,aM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).runningSpace="user",t.agent=new tM(cb(t)),t._eval=void 0,t}am(t,e);var n=t.prototype;return n.setup=function(){e.prototype.setup.call(this),this.global.snapshotLaunch&&(this.global.TMAConfig=Object.assign({},this.global.TMAConfig,{platform:"android",snapshotLaunch:!0})),"kernel"===this.runningSpace&&(this.global.mockTTMethod={}),void 0!==this.global.webkit||this.global.document||this._overwriteEval(),function(e){var t=e.onContainerEvent;t(N_.ON_APP_ENTER_BACKGROUND,(function(e,t){void 0===t&&(t={}),e.LifecycleState.__ground="background",e.containerEventEmitter.emit(N_.ON_APP_ENTER_BACKGROUND,t)})),t(N_.ON_APP_ENTER_FOREGROUND,(function(e,t){void 0===t&&(t={}),e.LifecycleState.__ground="foreground",void 0!==t.scene&&void 0!==t.subScene&&(e.LifecycleState.scene=t.scene,e.LifecycleState.subScene=t.subScene),t.path=e.LifecycleState.path,t.query=e.LifecycleState.query,ps.log(N_.ON_APP_ENTER_FOREGROUND,t,e.LifecycleState),e.containerEventEmitter.emit(N_.ON_APP_ENTER_FOREGROUND,t,e.fWillRoute),e.fWillRoute=!1}))}(this)},n._overwriteEval=function(){this._eval=this.global.eval,this.global.eval=void 0,oM.prototype=rM,oM.prototype.constructor=oM,this.global.Function=oM},vs(t,[{key:"loadScript",get:function(){return this.global.loadScript}}]),t}(Ob);!function(e){e.BLOCK="block",e.CREATOR="creator"}(iM||(iM={}));var sM=["onLoad","onReady","onShow","onHide","onUnload"],cM=["created","ready","attached","moved","detached"],uM=[String,Number,Boolean,Object,Array],lM=["",0,!1,null,[],null];var fM={},dM=function(e){var t=this;this.is="/"+(Ck()+Ck())+"-"+Ck()+"-"+Ck()+"-"+Ck()+"-"+Ck()+Ck()+Ck(),this.externalClasses=[],this.behaviors=[],this.properties=Object.create(null),this.data={},this.methods=Object.create(null),this.relations=Object.create(null),this.options=Object.create(null),this.created=Sk,this.attached=Sk,this.ready=Sk,this.moved=Sk,this.detached=Sk,this.ancestors=[],e.behaviors&&(this.behaviors=e.behaviors),this.definitionFilter=e.definitionFilter,this.behaviors.forEach((function(n){var r=fM[n];if(r){Ak(r.definitionFilter)&&r.definitionFilter(e,hM(r)),r.externalClasses.forEach((function(e){-1===t.externalClasses.indexOf(e)&&t.externalClasses.push(e)})),Object.assign(t.properties,r.properties),Ek(t.data,r.data),Object.assign(t.methods,r.methods),Object.assign(t.relations,r.relations),Object.assign(t.options,r.options);for(var o=0;o<r.ancestors.length;o++){var i=r.ancestors[o];-1===t.ancestors.indexOf(i)&&t.ancestors.push(i)}}})),Array.isArray(e.externalClasses)&&e.externalClasses.forEach((function(e){-1===t.externalClasses.indexOf(e)&&t.externalClasses.push(e)})),e.properties&&Object.assign(this.properties,e.properties),e.data&&Ek(this.data,e.data),e.methods&&Object.assign(this.methods,e.methods),e.relations&&Object.assign(this.relations,e.relations),e.options&&Object.assign(this.options,e.options);for(var n=0;n<cM.length;n++){var r=cM[n],o=void 0;(e.lifetimes&&(o=e.lifetimes[r])&&Ak(o)||(o=e[r])&&Ak(o))&&(this[r]=o)}this.ancestors.push(this),fM[this.is]=this};function hM(e){return e.behaviors.reduce((function(e,t){var n=fM[t];if(!n)return e;var r=n.definitionFilter;return Ak(r)&&e.push((function(e){r(e,hM(n))})),e}),[])}function pM(e,t){var n=e.split("/");n.pop();for(var r=t.split("/");r.length;){var o=r.shift();""!==o&&"."!==o&&(".."===o?n.pop():n.push(o))}return"/"+n.join("/")}var vM=function(e){function t(t,n){var r;for(var o in(r=e.call(this,t)||this).is=n,r.relationMap={},r.standardizedProperties={},r.properties){var i=r.properties[o],a=void 0;if("object"!=typeof i||null===i||Array.isArray(i))if(-1!==(a=uM.indexOf(i))){var s=lM[a];r.standardizedProperties[o]={type:ob(i),value:s,observer:void 0}}else r.standardizedProperties[o]={type:"null",value:i,observer:void 0};else{var c=i.type,u=i.value;-1===(a=uM.indexOf(i.type))?c=null:void 0===u&&(u=lM[a]),r.standardizedProperties[o]={type:ob(c),value:u,observer:i.observer}}}for(var l in r.relations){var f=r.relations[l],d=f.type;f.target?f.target=String(f.target):l.startsWith("/")?f.target=l:f.target=pM(globPageRegistPath,l),f.originalKey=l,r.relationMap[d]?r.relationMap[d].push(f):r.relationMap[d]=[f]}return r}am(t,e);var n=t.prototype;return n.hasBehavior=function(e){for(var t=0;t<this.ancestors.length;t++)if(this.ancestors[t]===fM[e])return!0;return!1},n.callbackLifetime=function(e,t,n){var r=this;qy((function(){for(var o=0;o<r.ancestors.length;o++){var i=r.ancestors[o][e];"function"==typeof i&&i.call(t,n)}}),[],{slowReportKey:"componentInvoke",errMsg:"at "+t.__route__+" component "+e+" function"})},t}(dM),gM=function(e){return new vM({},"/"+e)};function mM(){var e={};return W_("getAppInfoSync",{},{beforeSuccess:function(t){void 0===t&&(t={}),e=t}}),e}var yM={request:function(e){if(void 0===e&&(e={}),G_("request",e,{url:""})){if(!o_(e.url))return void H_("request",e,'invalid url "'+e.url+'"');if("function"===e.data)return void H_("request",e,"data should not be Function");var t=Hb(e.header);e.header=e.header||{},e.header=c_(e.header),"Undefined"!==t&&"Object"!==t&&(e.header={}),e.header=Object.keys(e.header).reduce((function(t,n){return"content-type"===n.toLowerCase()?t[n.toLowerCase()]=e.header[n]:t[n]=e.header[n],t}),{});var n=e.header||{},r="GET";e.method&&(e.method=e.method.toUpperCase()),"string"==typeof e.method&&(r=e.method.toUpperCase());var o,i="text";e.responseType&&(i=e.responseType.toLowerCase()),e.dataType=e.dataType||"json",n["content-type"]=n["content-type"]||"application/json",o=void 0===e.data?"":"string"==typeof e.data||e.data instanceof ArrayBuffer?e.data:n["content-type"].indexOf("application/x-www-form-urlencoded")>-1?n_(e.data,!0):n["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):e.data.toString(),"GET"===r&&(e.url=r_(e.url,e.data));try{return new Hw(Object.assign({},e,{header:n,method:r,responseType:i,data:o}),1)}catch(e){H_("request",e,e&&e.message)}}},openModalWebview:function(e){if(!e.path&&!e.url)throw new Error("path or url must be provide");W_("openModalWebview",e)},closeModalWebview:function(e){G_("closeModalWebview",e,{id:""})&&W_("closeModalWebview",e)},getAppInfo:function(e){e.success&&e.success(mM())},getHostInfo:function(e){var t;e.success&&e.success((t={},W_("getHostInfoSync",{},{beforeSuccess:function(e){void 0===e&&(e={}),t=e.data||{}}}),t))}};function bM(e){Object.assign(e.webViewInfo,{dataStack:[],currentPageInstance:null,target:null,eventName:""})}function _M(e){var t=e.webViewInfo,n=t.currentPageInstance,r=t.eventName,o=t.target,i=t.dataStack;n&&r&&0!==i.length&&jk(n,r)&&bk.call(n,r,{currentTarget:o,detail:{data:i},target:o,timeStamp:Date.now(),type:"message"})}function wM(e,t,n){var r=e.webViewInfo;"shareAppMessage"===t?_M(e):"navigateBack"===t&&r.prePageRoute===n.route&&(_M(e),bM(e))}var SM=Object.freeze({__proto__:null,postMessage:function(e){!function(e){if(e){var t=mk(D_).webViewInfo,n=e.data||{};t.dataStack.push(n),d_(e.success||Sk,"postMessage error")({errMsg:"invokeMiniProgramAPI:ok"})}}(e)},navigateTo:function(e){ws().getContainer().api.exports.navigateTo(e)},redirectTo:function(e){ws().getContainer().api.exports.redirectTo(e)},switchTab:function(e){ws().getContainer().api.exports.switchTab(e)},reLaunch:function(e){ws().getContainer().api.exports.reLaunch(e)},navigateBack:function(e){ws().getContainer().api.exports.navigateBack(e)},login:function(e){tt.login(e)},openSchema:function(e){ws().getContainer().api.exports.openSchema(e)}}),kM={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};function TM(e,t,n,r,o){(0,e.bridge.publish)("callbackAppServiceMethod",{res:t,isSuccess:n,callbackId:r},[o])}function EM(e){var t=e.bridge,n=t.subscribe,r=t.invoke;n("invokeAppServiceMethod",(function(t,n){var o=t.name,i=t.type,a=t.args,s=t.callbackId;try{if("bridge"===i)r(o,a,(function(t){t.errMsg=t.errMsg||o+":ok",t.errMsg.includes(o+":ok")?TM(e,t,!0,s,n):TM(e,t,!1,s,n)}));else if(a.success=function(t){TM(e,t,!0,s,n)},a.fail=function(t){TM(e,t,!1,s,n)},"sdk"===i)"function"==typeof yM[o]?yM[o](a):tt[o](a);else if("jssdk"===i){["redirectTo","navigateBack","openSchema"].includes(o)&&SM[o](a)}}catch(t){var c={errMsg:o+":fail "+t.message};TM(e,c,!1,s,n)}})),n("WEBVIEW_ERROR_MSG",(function(e){if(yk(e)&&yk(e.error)){var t=e.error;e.error=function(e){var t=e.name,n=e.message,r=e.stack,o=new(kM[t]||Error)(n);return o.stack=r,o.fromWebview=!0,o}(t),Reporter.errorReport(e)}})),n("renderID",(function(t,n){var r=t.renderID;e.sourceRender={renderID:r,webviewID:n},setTimeout((function(){e.sourceRender=void 0}),0)})),n("callbackWebviewMethod",(function(e){var n=e.res,r=e.callbackID;t.callbacks[r]&&((0,t.callbacks[r].callback)(n),delete t.callbacks[r])}))}var CM=function(){function e(){this.infos=new Map,this.reverses=new Map,this.owners=new Map,this.i=0,this.enabled=!1}var t=e.prototype;return t.add=function(e,t){var n=this.infos.get(e);if(n)return n.owner.add(t),this.owners.get(t).add(n.id),n.id;var r={id:++this.i,owner:new Set([t]),scalar:e};this.infos.set(e,r),this.reverses.set(r.id,r);var o=this.owners.get(t);return o?o.add(r.id):this.owners.set(t,new Set([r.id])),r.id},t.associate=function(e,t){var n=this.reverses.get(e);if(!n)return null;n.owner.add(t);var r=this.owners.get(t);return r?r.add(e):this.owners.set(t,new Set([e])),n.scalar},t.getOwnerAssociateId=function(e){var t=this.owners.get(e);return t?Array.from(t):[]},t.removeByID=function(e,t){var n=this.reverses.get(e);if(n){n.owner.delete(t);var r=this.owners.get(t);r.delete(e),0===n.owner.size&&(this.infos.delete(n.scalar),this.reverses.delete(n.id)),0===r.size&&this.owners.delete(t)}},t.removeByOwner=function(e){var t=this.owners.get(e);if(t)for(var n,r=ls(t.values());!(n=r()).done;){var o=n.value;this.removeByID(o,e)}},t.createPlaceholder=function(e,t){return{__type:"scalar",__id:this.add(e,t)}},t.isPlaceholder=function(e){return!!e&&"object"==typeof e&&"scalar"===e.__type},t.replacePlaceholder=function(e,t){return this.associate(e.__id,t)},t.stringifyWithReplace=function(e,t){var n=this;return this.enabled?JSON.stringify(e,(function(e,r){return n.isScalar(r)?n.createPlaceholder(r,t):r})):JSON.stringify(e)},t.parseWithRestore=function(e,t){var n=this;return this.enabled?JSON.parse(e,(function(e,r){return n.isPlaceholder(r)?n.replacePlaceholder(r,t):r})):JSON.parse(e)},t.cloneWithReplace=function(e,t){return this.enabled?void 0===e?e:JSON.parse(this.stringifyWithReplace(e,t)):e},t.walkWithRestore=function(e,t){var n=this;return this.enabled?Tk(e,(function(e){return n.isPlaceholder(e)?n.replacePlaceholder(e,t):e})):e},t.enable=function(){this.enabled=!0},t.disable=function(){this.enabled=!1},t.isScalar=function(e){return"function"==typeof e||e instanceof Map||e instanceof Set},e}(),IM=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).CId=t,r.host=n,r.C={},r.optionsStoredByRoute={},r.containerEventEmitter=new Py.EventEmitter2,r.bridge=void 0,r.LifecycleState={},r.scalar=new CM,r.api=void 0,r.renderID=1,r.sourceRender=void 0,r.host=n,r}am(t,e);var n=t.prototype;return n.setup=function(){e.prototype.setup.call(this),ys(this.bridge),this.api.setup(),EM(this);var t,n,r;this.LifecycleState={path:"",query:{},scene:0,subScene:0,webviewId:-1,__ground:"foreground"},n=(t=this).bridge,r=t.containerEventEmitter,n.on(N_.ON_APP_ROUTE,(function(e,n){if(void 0===e&&(e={}),void 0===n&&(n=0),e.webviewId=e.webviewId||n,"object"==typeof e.query){for(var o in e.query)e.query[o]=Lk(e.query[o]);e.exitState&&(e.query.exitState=e.exitState)}else e.raw_query=e.query,e.query=I_(e.query);["path","query","webviewId"].forEach((function(n){void 0!==e[n]&&(t.LifecycleState[n]=e[n])})),r.emit(N_.ON_APP_ROUTE,e,n),t.onAppRoute(e)}))},n.teardown=function(){this.api.teardown(),e.prototype.teardown.call(this)},t}(Rb);function AM(e){var t=e.subscribeContainerEvent,n=e.onContainerEvent;t(N_.TAP_SHARE_BUTTON,(function(e,t,n){var r=e.C[n].page;e.host.newFramework&&r.renderer.restoreDataset(t.target);var o={target:t.target,from:"button",channel:t.target.dataset.channel};ps.log("tapShareButton shareData",o),e.onShareAppMessage(o,n)})),n(N_.ON_DESTROY_WEBVIEW,_k(N_.ON_DESTROY_WEBVIEW,(function(e,t,n){var r=e.C,o=e.pageStack;if(r.hasOwnProperty(n)){for(var i=o.length-1,a=-1;i>=0;i--)if(o[i].webviewId===n){a=i;break}-1!==a&&o.splice(a,1),e.deletePage(n)}else ps.warn("事件警告 destroy a no exist webview id: "+n)}))),n(N_.ON_PAGE_RELOAD,(function(e,t){void 0===t&&(t={}),mk(D_).containerEventEmitter.emit(N_.ON_PAGE_RELOAD,t)})),n(N_.ON_PULL_DOWN_REFRESH,(function(e,t,n){mk(D_).containerEventEmitter.emit(N_.ON_PULL_DOWN_REFRESH,n)})),n(N_.ON_SHARE_APP_MESSAGE,(function(e,t,n){void 0===t&&(t={}),mk(D_).containerEventEmitter.emit(N_.ON_SHARE_APP_MESSAGE,t,n)})),n(N_.ON_SAVE_EXIT_STATE,(function(e,t,n){void 0===t&&(t={}),e.containerEventEmitter.emit(N_.ON_SAVE_EXIT_STATE,t,n)})),n(N_.ON_APP_LAUNCH,(function(e,t){void 0===t&&(t={});var n=e.LifecycleState;if(ps.info("onAppLaunch",t,n),"object"==typeof t.query)for(var r in t.query)t.query[r]=decodeURIComponent(t.query[r]);else t.query=I_(t.query);t.path===n.path&&function(e,t){return E_(e,t)}(t.query,n.query)?ps.info("onAppLaunch","path 和 query与本地一致，忽略此次事件"):(e.fWillRoute=!0,["path","query"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),e.containerEventEmitter.emit(N_.ON_APP_LAUNCH,t))}))}var MM=new WeakMap,OM=function(e){var t=this;this.is=e.is,this.route=this.__route__,this.__properties__=kk(e.standardizedProperties);var n=kk(e.data);for(var r in this.__properties__)n[r]=this.__properties__[r].value;for(var o in this.data=this.properties=n,sM.forEach((function(e){t[e]=Sk})),e.methods)this[o]=Wy(e.methods[o],{slowReportKey:"componentInvoke",errMsg:"at "+this.__route__+" component "+o+" function",context:this});MM.set(this,e)},RM=function(e,t){var n=MM.get(e);return!(null==n||!n.hasBehavior(t))},xM=function(e,t,n){void 0===n&&(n={});var r=MM.get(e);"attached"===t&&(e.attaching=!0),null==r||r.callbackLifetime(t,e,n),"attached"===t&&(e.attaching=!1)},PM=function(e,t,n){void 0===n&&(n=!1);var r=e.properties,o=[],i=e.getContainer();return!i.host.newFramework&&n&&i.scalar.walkWithRestore(t,e),Object.keys(t).forEach((function(a){var s=r[a];if(e.__properties__[a]){var c=e.__properties__[a].type,u=function(e,t){if("null"===t)return e;if(t===rb(e).toLowerCase())return e;switch(t){case"string":return null==e?"":"object"!=typeof e||Array.isArray(e)?e.toString():"[object Object]";case"number":var n=+e;return isNaN(n)?0:n;case"boolean":return!!e;case"array":return[];case"object":return Array.isArray(e)||null===e?e:"object"==typeof e?{}:null}}(t[a],c);i.host.newFramework&&n&&(u=kk(u)),t[a]=u,s!==u&&(e.data[a]=e.properties[a]=u,o.push({oldValue:s,newValue:u,key:a}))}var l,f=MM.get(e),d=i.renderers[e.__webviewId__];i.host.newFramework&&null!=f&&f.externalClasses.includes((void 0===ab[l=a]&&(ab[l]=l.replace(ib,"$1-$2").toLowerCase()),ab[l]))&&d&&d.setAttribute(e.element,a,t[a])})),!i.host.newFramework&&n?NM(e,o):Promise.resolve().then((function(){return NM(e,o)})),t},NM=function(e,t){t.forEach((function(t){var n=t.oldValue,r=t.newValue,o=t.key,i=e.__properties__[o].observer;(function(e){return"string"==typeof e}(i)&&(i=e[i]),nb(i))&&d_(i.bind(e),"")(r,n)}))},jM={onLoad:["created","attached"],onReady:["ready"],onShow:[],onUnload:["detached"]};function LM(e,t,n){var r=jM[t];r&&r.length>0&&r.forEach((function(t){xM(e,t,n)}))}function DM(e,t){for(var n,r=function(e){if("String"!==rb(e)){var t="path 类型应为字符串";throw ps.error("TypeError",t),new wk(t)}for(var n=!1,r=!1,o=e.length,i=[],a="",s=0,c=0;c<o;++c){var u=e[c];if("\\"===u)c+1<o&&("."===e[c+1]||"["===e[c+1]||"]"===e[c+1])?(a+=e[c+1],c+=1):a+="\\";else if("."===u)a&&(i.push(a),a="");else if("["===u){if(a&&(i.push(a),a=""),0===i.length)throw ps.error("数据路径错误","Path can not start with []: "+e),new wk("Path can not start with []: "+e);r=!0,n=!1}else if("]"===u){if(!n)throw ps.error("数据路径错误","Must have number in []: "+e),new wk("Must have number in []: "+e);r=!1,i.push(s),s=0}else if(r){if(u<"0"||u>"9")throw ps.error("数据路径错误","Only number 0-9 could inside []: "+e),new wk("Only number 0-9 could inside []: "+e);n=!0,s=10*s+u.charCodeAt(0)-48}else a+=u}if(a&&i.push(a),0===i.length)throw ps.error("数据路径错误","Path can not be empty"),new wk("Path can not be empty");return i}(t),o={},i=e,a=0;a<r.length;++a)Number(r[a])===r[a]&&r[a]%1==0?Array.isArray(i)||(o[n]=[],i=o[n]):"Object"!==rb(i)&&(o[n]={},i=o[n]),n=r[a],o=i,i=i[r[a]];return{obj:o,key:n}}var BM=[],FM=!1,UM=new(function(){function e(){var e,t=this;this.webviewReadyMap=void 0,this.webviewMsgBuff=void 0,this.legacy=void 0,this.webviewReadyMap=new Map,this.webviewMsgBuff=new Map,this.legacy=!(null!=tm&&null!=(e=tm.TMAConfig)&&e.pageCreateInAdvance),this.legacy?ps.log("jscore preload legacy mode"):Ss((function(e){var n;null==(n=e.getContainer(D_))||n.bridge.on("markTemplateReady",(function(e){ps.log(" jscore preload event!!!!!!"),t.markTemplateReady(e.webViewId)}))}))}var t=e.prototype;return t.enqueueSetData=function(e){var t=e.__webviewId__;this.webviewMsgBuff.has(t)||this.webviewMsgBuff.set(t,[]);var n=this.webviewMsgBuff.get(t);n.includes(e)||n.push(e)},t.isTemplateReady=function(e){var t=this.legacy,n=this.webviewReadyMap;if(t)return!0;if(n.has(e))return!!n.get(e);var r=function(e){var t,n=!1;return null==(t=ws().getContainer(D_))||t.bridge.invokeMethod("isTemplateReady",{webViewId:e},{beforeAll:function(e){var t;n=null!=(t=null==e?void 0:e.isReady)&&t}}),n}(e);return this.webviewReadyMap.set(e,r),r},t.markTemplateReady=function(e){this.webviewReadyMap.set(e,!0),this.flushWebviewMsg(e)},t.flushWebviewMsg=function(e){if(this.webviewMsgBuff.has(e)){var t=this.webviewMsgBuff.get(e);if(null!=t&&t.length){for(var n=t.length-1;n>-1;n--){var r=t[n];VM(r,r._cbs?zM.bind(null,r._cbs):void 0)}this.webviewMsgBuff.delete(e)}}},e}()),qM="undefined"!=typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout.bind(tm);function WM(e,t,n){void 0===n&&(n=Sk);var r=UM,o=e._pendingState;if(Ok(o)?e._pendingState=t:Object.keys(t).forEach((function(e){o[e]=t[e]})),Ak(n)){var i=e._cbs;i||(i=e._cbs=[]),i.push(n.bind(e))}if(r&&!r.isTemplateReady(e.__webviewId__))return r.enqueueSetData(e);BM.includes(e)||BM.push(e),FM||(FM=!0,qM((function(){return function(e){var t;FM=!1;for(;t=BM.pop();){var n=t._cbs;VM(t,n?zM.bind(null,n):void 0)}}()})))}function VM(e,t){var n=e._pendingState;e._pendingState=null,e._cbs=null,GM.call(e,n,t)}function zM(e,t){if(!Mk(e))for(var n=0,r=e.length;n<r;++n)e[n](t)}function GM(e,t){var n,r,o=ws(),i=null!=(n=this._container)?n:o.getContainer(D_),a=(null==(r=i.sourceRender)?void 0:r.webviewID)===this.__webviewId__?i.sourceRender.renderID:i.renderID++;void 0===this.__nodeId__||0===this.__nodeId__?i.bridge.invokeWebviewMethod("appDataChange",{renderID:a,data:i.scalar.cloneWithReplace(e,this),timeStamp:Date.now()},this.__webviewId__,t):i.bridge.invokeWebviewMethod("componentDataChange",{renderID:a,nodeid:this.__nodeId__,data:i.scalar.cloneWithReplace(e,this),timeStamp:Date.now()},this.__webviewId__,t)}var HM=function(){function e(e,t){this.__webviewId__=e,this.__nodeId__=t,this.data={},this._pendingState=void 0,this._cbs=void 0,this._pendingState=null,this._cbs=null}var t=e.prototype;return t.setData=function(e,t){void 0===t&&(t=Sk);try{var n=rb(e);if("Object"!==n)return void ps.error("setData's first param must be object, you pass "+n);KM.call(this,e),WM(this,e,t)}catch(e){!function(e,t){if(void 0===t&&(t=""),"[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceEngineKnownError"===e.type)throw e;Reporter.errorReport({key:"jsEngineScriptError",error:e,extend:t})}}(e)}},t.createSelectorQuery=function(){return new Bk(this.__webviewId__)},t.getContainer=function(){return ws().getContainer(D_)},e}(),KM=function(e){for(var t in e){void 0===e[t]&&ps.error("setData field "+t+" to undefined not work");var n=DM(this.data,t),r=n.obj,o=n.key;r&&(r[o]=kk(e[t]))}},JM=function(e){return null==e},$M={"#":"id","@":"tagName","*":"properties",$:"children","%":"key","=":"count","&":"type","-":"text"},YM={id:"#",tagName:"@",properties:"*",children:"$",key:"%",count:"=",type:"&",text:"-"},QM=1,XM=function(){function e(e){this.type="VirtualText",this.id=QM++,this.parent=null,this.text=void 0,this.text=String(e)}return e.prototype.toJSON=function(){return ZM.call(this)},e}();function ZM(){var e={};for(var t in this){var n=YM[t];"undefined"==typeof window||window.__isNeedChangeAttr||(n=t),JM(n)||(e[n]=this[t])}return e}function eO(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}function tO(e,t,n){if(0===e.length)return!1;for(var r,o,i=0,a=e.length-1;i<=a;){if(o=e[r=(a+i)/2>>0],i===a)return o>=t&&o<=n;if(o<t)i=r+1;else{if(!(o>n))return!0;a=r-1}}return!1}function nO(e,t,n,r,o,i){void 0===o&&(o={}),void 0===i&&(i=0),tO(n,i,i)&&(o[i]=e);var a=t?t.children:void 0;if(a&&a.length)for(var s=Array.from(r.getChildren(e)),c=0;c<a.length;c++){i+=1;var u=a[c],l=i+(u.count||0);tO(n,i,l)&&nO(s[c],u,n,r,o,i),i=l}return o}function rO(e,t,n,r){var o=[];for(var i in t)"a"!==i&&o.push(Number(i));if(0!==o.length){var a=nO(e,t.a,o,n);o.forEach((function(e){[].concat(t[e]).forEach((function(t){!function(e,t,n,r){var o=e.patch,i=e.type;i===eO.PROPS?n.applyProperties(t,o):i===eO.VTEXT?function(e,t,n,r){var o=t.text,i=n.getParent,a=n.replaceChild,s=n.createTextNode,c=i(e);c&&a(c,s(o,r),e)}(t,o,n,r):i===eO.ORDER?function(e,t,n,r){for(var o,i,a,s=n.removeChild,c=n.createElement,u=n.insertBefore,l=n.getChildren,f={},d=0;d<t.removes.length;d++)i=t.removes[d],o=l(e)[i.from],i.key&&(f[i.key]=o),s(e,o);for(var h=l(e).length,p=0;p<t.inserts.length;p++)(o=(a=t.inserts[p]).__needCreate?c(a.vnode,r):f[a.key])&&u(e,o,a.to>=h++?null:l(e)[a.to])}(t,o,n,r):i===eO.REMOVE?function(e,t){var n=t.getParent(e);n&&t.removeChild(n,e)}(t,n):i===eO.INSERT?function(e,t,n,r){var o=n.appendChild,i=n.createElement;e&&o(e,i(t,r))}(t,o,n,r):i===eO.VNODE?function(e,t,n,r){var o=n.getParent,i=n.replaceChild,a=n.createElement,s=o(e);s&&i(s,a(t,r),e)}(t,o,n,r):i===eO.COMMENT?function(e,t,n){var r=t.text;(0,n.setTextContent)(e,r)}(t,o,n):console.error("TypeError when apply patch with unknown type: "+o.type)}(t,a[e],n,r)}))}))}}function oO(e,t,n){var r,o=e.children.indexOf(t);if(-1===o)throw new Error("Failed to execute '"+n+"' on 'VirtualNode': The node "+(null!=(r=t.tagName)?r:" ")+" is not a child of "+e.tagName+".");return o}function iO(e,t,n){function r(e){return Ok(e)?-1:e.count||0}var o=r(t),i=r(n);do{var a;e.count+=o-i,e=null==(a=e)?void 0:a.parent}while(!Ok(e))}function aO(e,t){if(!Ok(e)){t.enter(e);var n=e.children;Ok(n)||n.forEach((function(n){t.build(e,n),aO(n,t)}))}}function sO(e){aO(e,{enter:function(e){for(var t in e){var n=$M[t];Ok(n)||(e[n]=e[t],delete e[t])}},build:function(e,t){t.parent=e}})}function cO(e){if(uO(e)&&!Ok(e))for(var t in e){var n=e[t];if($M.hasOwnProperty(t))e[$M[t]]=n,delete e[t];uO(e)&&cO(n)}}function uO(e){return Kb(e)||Qb(e)}"undefined"!=typeof window&&(window.__isNeedChangeAttr=!0),eO.VTEXT=1,eO.VNODE=2,eO.PROPS=3,eO.ORDER=4,eO.INSERT=5,eO.REMOVE=6,eO.COMMENT=7;var lO=new Map,fO={createElement:function(e){return sO(e),e},createTextNode:function(e){return void 0===e&&(e=""),new XM(e)},appendChild:function(e,t){t.parent=e,iO(e,t,null),e.children.push(t)},removeChild:function(e,t){var n=oO(e,t,"removeChild");-1!==n&&(t.parent=null,iO(e,null,t),e.children.splice(n,1))},insertBefore:function(e,t,n){if(Ok(n))fO.appendChild(e,t);else{var r=oO(e,n,"insertBefore");-1!==r&&(t.parent=e,iO(e,t,null),e.children.splice(r,0,t))}},replaceChild:function(e,t,n){var r=oO(e,n,"replaceChild");-1!==r&&(t.parent=e,n.parent=null,iO(e,t,n),e.children.splice(r,1,t))},applyProperties:function(e,t){Ok(e)||Object.keys(t).forEach((function(n){e.properties[n]=t[n]}))},setTextContent:function(e,t){e.text=t},getParent:function(e){return e.parent},getChildren:function(e){return Ok(e)?[]:e.children}},dO={getParent:function(e){return e.parent},getChildren:function(e){return Ok(e)?[]:e.children.filter((function(e){return"VirtualNode"===e.type}))},getTagName:function(e){return e.tagName},getID:function(e){return e.properties.id||""},getClassName:function(e){return e.properties.className||""},isCustomComponent:function(e){if(!e||!Kb(e.properties))return!1;var t=e.id;if(!t||t<=0)return!1;var n=xk(Nk(),t);return null==n?void 0:n.vtree},getShadowRoot:function(e){var t=e.id,n=(xk(Nk(),t)||{}).vtree;return lO.set(n,e),n},getShadowRootHost:function(e){return lO.get(e)},isShadowRoot:function(e){return"__shadowRoot__"===e.properties.id}};function hO(e,t,n,r){void 0===r&&(r=!0);var o=(xk(t,n)||{}).vtree;if(r){var i=Wb(e,o,dO);return i&&dO.isCustomComponent(i)?xk(t,i.id).instance:null}return Vb(e,o,dO).filter(dO.isCustomComponent).map((function(e){return(xk(t,e.id)||{}).instance}))}function pO(e,t,n,r,o){void 0===o&&(o=!0);ws().getContainer().bridge.invokeWebviewMethod("selectComponent",{selector:e,single:o,nodeid:n},t,r)}function vO(e,t){var n=e.componentSettings,r=e.optionsStoredByRoute;if(!n[t]){var o;r[t]instanceof vM?o=r[t]:(ps.error("Component is not registered in "+t),o=gM(t));var i={};Object.keys(o.standardizedProperties).forEach((function(e){i[e]={type:o.standardizedProperties[e].type,value:o.standardizedProperties[e].value}}));var a=ws();n[t]={ancestors:o.ancestors.map((function(e){return e.is})),externalClasses:o.externalClasses,properties:i,data:a.newFramework?o.data:e.scalar.cloneWithReplace(o.data,e),relationMap:o.relationMap,options:o.options}}return n[t]}function gO(e,t,n,r){var o=__allConfig__[t];if(tb(o)&&o.usingComponents&&tb(o.usingComponents)){var i=bO(t);for(var a in r[t]=i,i){var s=i[a];if(!n[s]){var c=vO(e,s);n[s]=c,gO(e,s,n,r)}}}}function mO(e,t){var n=e.pageSettings;if(!n[t]){var r={},o={};gO(e,t,r,o),n[t]={componentSettings:r,usingComponents:o}}return n[t]}var yO={},bO=function(e){if(!yO[e]){var t;yO[e]={};var n=null==(t=__allConfig__[e])?void 0:t.usingComponents;n&&Object.keys(n).forEach((function(t){var r=n[t],o=r.startsWith("/")?r.slice(1):sb(e,r);yO[e][t.toLowerCase()]=o}))}return yO[e]};function _O(e){try{if("object"==typeof __allConfig__)return __allConfig__[e].onReachBottomDistance||50}catch(e){return 50}return 50}function wO(e){try{if("object"==typeof __allConfig__)return __allConfig__[e].disableSwipeBack}catch(e){return!1}return!1}function SO(e,t){var n,r,o;return{webviewId:t.__webviewId__,enablePullUpRefresh:jk(t,"onReachBottom"),enablePageScroll:jk(t,"onPageScroll"),enableSelectionChange:jk(t,"onSelectionChange")||jk(t,"onSelectChange"),onReachBottomDistance:_O(t.__route__),route:t.__route__,query:t.options,openType:e.openType,disableSwipeBack:wO(t.__route__),disableBindtapCursor:!!(null!=(n=null==(r=e.getConfig(t.__route__))?void 0:r.disableBindtapCursor)?n:null==(o=e.TMAConfig.ext)?void 0:o.disableBindtapCursor)}}function kO(e,t){ky.build(by.executeProcess,my[e]||yy[e]).addMap({name:e,timestamp:Date.now(),page_path:t}).flush()}var TO=function(e){function t(t,n,r,o){var i;return(i=e.call(this,t,r)||this).__route__=n,i.type=o,i.route=void 0,i.__properties__=void 0,i.options=void 0,i}am(t,e);var n=t.prototype;return n.selectComponent=function(e,t){var n=this;if(!Ak(t))return hO(e,this.__webviewId__,this.__nodeId__,!0);var r=Rk();setTimeout((function(){pO.call(n,e,n.__webviewId__,n.__nodeId__,(function(e){if(null!==e){var o=r[n.__webviewId__];e=null!=o&&o[e]?o[e].instance:null}t(e)}),!0)}))},n.selectAllComponents=function(e,t){var n=this;if(!Ak(t))return hO(e,this.__webviewId__,this.__nodeId__,!1);var r=Rk();setTimeout((function(){pO.call(n,e,n.__webviewId__,n.__nodeId__,(function(e){var o=r[n.__webviewId__]||{};t(e.reduce((function(e,t){return o[t]&&e.push(o[t].instance),e}),[]))}),!1)}))},n.pageScrollTo=function(){},n.createIntersectionObserver=function(e){return lC.call(this,this,e)},n.getContainer=function(){return ws().getContainer(D_)},t}(HM),EO=function(e){var t=this.getContainer(),n=SO(t,this);if(n.isPageReload=e,"object"==typeof __allConfig__){var r=mO(t,this.__route__),o=r.componentSettings,i=r.usingComponents;n.usingComponents=i,n.componentSettings=o}if("component"===this.type&&yk(this.options)&&this.__properties__)for(var a in this.options)this.__properties__[a]&&(this.data[a]=this.options[a]);var s={data:t.scalar.cloneWithReplace(this.data,this),ext:n,options:{isFirstPage:t.openType===j_.APP_LAUNCH,firstRender:!0,timestamp:Date.now()},timeStamp:Date.now()};kO(jm,this.__route__),t.bridge.invokeWebviewMethod("appDataChange",s,this.__webviewId__)},CO=["__webviewId__","__route__","route","data"],IO=function(e){for(var t in this.route=this.__route__,Kb(e.data)?this.data=kk(e.data):(ps.error("Page.data should be an object"),this.data={}),function(e,t,n,r,o){void 0===o&&(o={});var i=o,a=i.route,s=void 0===a?"":a,c=i.slowReportKey,u=i.context,l=void 0===u?t:u;r.forEach((function(r){t[r]=function(){Reporter.__route__=s,Reporter.__method__=r,ps.info(s+"."+r+" invoked");for(var t=n[r]||Sk,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return qy(t,i,{slowReportKey:c,errMsg:"at "+s+" "+e+" lifeCycleMethod "+r+" function",context:l})}}))}("page",this,e,sM,{context:this,slowReportKey:"pageInvoke"}),e){var n=e[t];CO.includes(t)||sM.includes(t)||(Ak(n)?this[t]=Wy(n,{slowReportKey:"pageInvoke",errMsg:"at "+this.__route__+" page "+t+" function",context:this}):this[t]=kk(e[t]))}},AO=function(e){function t(t,n,r,o){var i;return void 0===o&&(o={}),(i=e.call(this,n,r,void 0,"page")||this).trace=o,i.onLoad=void 0,i.onReady=void 0,i.onShow=void 0,i.onHide=void 0,i.onUnload=void 0,IO.call(cb(i),t),i}return am(t,e),t.prototype.getTraceInfo=function(){return new hI(this.trace)},t}(TO),MO=function(e){function t(t,n,r,o){var i;return(i=e.call(this,n,r,o,"component")||this).is=void 0,i.__properties__=void 0,i.properties={},i.id="",i.dataset={},i.attaching=!1,OM.call(cb(i),t),i}am(t,e);var n=t.prototype;return n.setData=function(t,n){void 0===n&&(n=Sk);var r=rb(t);"Object"===r?e.prototype.setData.call(this,PM(this,t),n):ps.error("setData's first param must be object, you pass "+r)},n.hasBehavior=function(e){return RM(this,e)},n.createSelectorQuery=function(){return e.prototype.createSelectorQuery.call(this).in(this)},n.triggerEvent=function(e,t,n){var r=ws().getContainer(D_);r.bridge.invokeWebviewMethod("triggerComponentEvent",{eventName:e,eventDetail:r.scalar.cloneWithReplace(t,this),eventOption:n,nodeid:this.__nodeId__},this.__webviewId__)},n.getRelationNodes=function(e,t){if(void 0===t&&(t=Sk),!e||t===Sk)return[];var n=Rk(),r=this;return ws().getContainer(D_).bridge.invokeWebviewMethod("getRelationNodes",{relation:e,nodeid:r.__nodeId__},r.__webviewId__,(function(e){if(Array.isArray(e)&&0!==e.length){var o=n[r.__webviewId__]||{};t.call(r,e.map((function(e){return o[e]?o[e].instance:null})))}else t.call(r,e)})),[]},t}(TO);function OO(e){e.page.onHide()}function RO(e,t){var n=e.pageStack;t.page.onUnload(),e.deletePage(t.webviewId),n.pop(),e.bridge.clearCallbackMethods()}function xO(e,t,n,r,o){var i=e.C,a=e.pageStack,s=!0;if(0!==a.length){for(;a.length>1;)RO(e,a[a.length-1]),s=!1;if(a[0].webviewId===n)return e.currentPage=a[0],void(s||e.currentPage.page.onShow());if(!function(e,t){var n=e.tabPagePaths;if(!e.tabRun){try{TMAConfig.tabBar.list.forEach((function(e){n.push(e.pagePath)}))}catch(e){}e.tabRun=!0}return n.includes(t.route)}(e,a[0])?RO(e,a[0]):s&&OO(a[0]),i.hasOwnProperty(n)){var c=i[n].page;e.currentPage={webviewId:n,route:t,page:c},e.pageStack=[e.currentPage],c.onShow()}else e.pageStack=[],e.createPage(t,n,r,o)}else ps.warn("Page route 错误","switchTab before pages are registered.")}var PO=_k("onWebviewComponentEvent",(function(e,t,n){var r,o=t.eventName,i=t.nodeId,a=t.route,s=void 0===a?"":a,c=e.componentInstances;if(!e.host.newFramework&&"created"===o&&(r=e.optionsStoredByRoute[s])){var u=new MO(r,n,s,i);c[n]||(c[n]={}),c[n][i]={instance:u,route:s,webviewId:n,status:"attached"}}if(c[n]&&c[n][i]){"attached"!==o&&"detached"!==o||(c[n][i].status=o);var l=c[n][i].instance;xM(l,o)}})),NO=_k("onWebviewDataChange",(function(e,t,n){var r=e.componentInstances,o=t.nodeId,i=t.datatype,a=t.data;if(r[n]&&r[n][o]){var s=r[n][o].instance;switch(i){case"instance":s.id=a.id;break;case"dataset":s.dataset=Object.assign({},s.dataset,a);break;case"properties":PM(s,a,!0)}}})),jO=_k("onComponentRelationChange",(function(e,t,n){var r=t.data,o=e.componentInstances[n];o&&r&&r.forEach((function(t){var n=t.nodeid,r=t.originalKey,i=t.target,a=t.type,s=(o[i]||{}).instance,c=o[n]||{},u=c.instance,l=c.route;if(s&&u){var f=e.optionsStoredByRoute[l];if(f){var d=f.relations[r][a];"function"==typeof d&&d.call(u,s)}}}))}));function LO(e,t){var n=e.type,r=e.data,o=r.vtree,i=r.patches,a=xk(t,e.nodeId);if(!Ok(a))switch(n){case"create":sO(o),a.vtree=o;break;case"update":var s=a.vtree;if(Ok(s))return;cO(i),i.a=s,rO(s,i,fO);break;default:throw new Error("Incorrect event type for mutating vdom at service side: "+n)}}var DO=ky.GadgetEventName,BO=ky.GadgetMonitorCode,FO=function(e){function t(t){var n;return(n=e.call(this,t.appKey,t.host.ttJSBridge,t.host.isSupportArrayBuffer,t.host.agent.isSupportNewBridge)||this).callbackID=0,n.callbacks={},n.injectPubsubAccounter(),n}am(t,e);var n=t.prototype;return n.injectPubsubAccounter=function(){var e=this,t=this.bridge.accounter;this.subscribe("TTI_DETECT",(function(n){var r;if(!t.closed()){var o=null!=(r=null==n?void 0:n.time)?r:(new Date).valueOf();t.stopAccounting(o),e.doPubsubPerfReport(n.data,o,!1)}})),this.subscribe("TTI_REPORT",(function(n){t.closed()||(t.stopAccounting(t.calledTTI),e.doPubsubPerfReport(n,t.calledTTI,!0))}))},n.doPubsubPerfReport=function(e,t,n){if(e){var r=this.bridge.accounter.generateReport();r&&(Sy(DO.webviewSlowPubsub,BO.webview_slowest_pubsub).addMap(Object.assign({},e.timeCostMax,{time_cost:e.timeCostMax.timeCost})).flush(),Sy(DO.webviewPubsubTimeStat,BO.webview_pubsub_timecost_statistic).addMap(e.timeCostSta).flush(),Sy(DO.serviceSlowPubsub,BO.appservice_slowest_pubsub).addMap(Object.assign({},r.timeCostMax,{time_cost:r.timeCostMax.timeCost})).flush(),Sy(DO.servicePubsubTimeStat,BO.appservice_pubsub_timecost_statistic).addMap(r.timeCostSta).flush(),n?Sy(DO.reportedTTI,BO.appservice_reported_tti).addMap({time:t}).flush():Sy(DO.detectedTTI,BO.webview_detected_tti).addMap({time:t}).flush())}},n.invokeMethod=function(t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),e.prototype.invokeMethod.call(this,t,n,Object.assign({},r,{afterAll:function(e){var t;null==(t=r)||null==t.afterAll||t.afterAll(e)}}))},n.publish2Webview=function(e,t,n){this.publish(e,t,n)},n.clearCallbackMethods=function(){var e=this,t=getCurrentPages().map((function(e){return e.__webviewId__}));Object.keys(this.callbacks).forEach((function(n){var r=e.callbacks[n].webviewID;t.includes(r)||delete e.callbacks[n]}))},n.invokeWebviewMethod=function(e,t,n,r){var o;r&&(o=this.callbackID,this.callbacks[o]={callback:r,webviewID:n},this.callbackID+=1),this.publish2Webview("invokeWebviewMethod",{name:e,args:t,callbackID:o},n?[n]:[])},t}(Lb);function UO(){throw new Error("Please use setHooks to change DOM operation")}var qO={createElement:UO,createText:UO,createAnchor:UO,appendChild:UO,insertBefore:UO,removeNode:UO,setText:UO,setAttribute:UO,setDataset:UO,addEventListener:UO,isCustomTagName:function(){return!1},createComponentModel:UO};function WO(e){qO=e}function VO(e,t,n){for(var r,o=0,i=t;o<i-1;)e[r=Math.floor((o+i)/2)]<n?o=r:i=r;return o}var zO=Symbol.for("pymtql-private-dep-name");function GO(e){var t=e[zO];if(t)return t;var n=e.map((function(e){return"string"==typeof e?[e]:e})),r=n.length;return t={check:function(e){for(var t=0;t<r;t++)for(var o=n[t],i=e,a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;if(!0===s)return!0;i=s.changes}return!1}},e[zO]=t,t}var HO=GO([]),KO=Symbol("tmar-lark-litt");function JO(e){return"object"==typeof e&&e&&e[KO]}function $O(e,t,n){var r;void 0===n&&(n=[]);for(var o=0;o<n.length;o++){var i=n[o];JO(i)||"string"==typeof i||(n[o]=""+o)}return(r={})[KO]=!0,r.type="element",r.tagName=e,r.props=t,r.children=n,r}function YO(e){return JO(e)&&"pair"===e.type}function QO(e,t){var n;return(n={})[KO]=!0,n.type="pair",n.deps=e,n.expr=t,n}function XO(e,t){var n;return(n={})[KO]=!0,n.type="condition",n.cases=e,n.fallback=t,n}function ZO(e,t,n){var r,o,i;return void 0===n&&(n={}),(i={})[KO]=!0,i.type="repeat",i.items=e,i.template=t,i.options={keyName:n.key,itemName:null!=(r=n.item)?r:"item",indexName:null!=(o=n.index)?o:"index",deps:n.deps},i}function eR(e,t,n){var r;return(r={})[KO]=!0,r.type="template",r.is=e,r.data=t,r.templates=n,r}function tR(e,t,n,r){var o;return(o={})[KO]=!0,o.type="customElement",o.is=e,o.props=t,o.slots=n,o}function nR(e,t,n){var r;return void 0===n&&(n={}),(r={})[KO]=!0,r.type="slot",r.name=e,r.template=t,r.options=n,r}var rR=Symbol.for("pymtql-private-normalize-result-key");function oR(e){var t=e[rR];return t||(t=e[rR]=Object.keys(e).map((function(t){var n=e[t];if("@"===t[0]){var r=t.slice(1).split("."),o=r[0],i=r.slice(1),a={catch:i.includes("catch"),capture:i.includes("capture"),mut:i.includes("mut")};return YO(n)?{type:1,name:o,value:n,modifier:a}:{type:0,name:o,value:n,modifier:a}}return"#"===t[0]?YO(n)?{type:5,name:t.slice(1),value:n}:{type:4,name:t.slice(1),value:n}:YO(n)?{type:3,name:t,value:n}:{type:2,name:t,value:n}})).filter((function(e){return!!e})))}var iR=Symbol.for("pymtql-private-condition-cases");var aR=Symbol.for("pymtql-private-node-name");function sR(e){if(!YO(e))return[HO,function(){return e}];var t=e[aR];return t||(t=[GO(e.deps),e.expr],e[aR]=t,t)}var cR=["slot"],uR=Symbol.for("pymtql-private-slot-results-name"),lR=Symbol.for("lope-rind-slot-to-if-pair"),fR="default",dR=QO([],(function(){return fR}));function hR(e){return void 0===e?fR:String(e)||fR}function pR(e){if("string"==typeof e)return[dR,[e]];if(e[lR])return e[lR];var t,n;if(YO(e))t=dR,n=[e];else{var r,o=null!=(r=null==e?void 0:e.props)?r:{},i=o.slot,a=ow(o,cR);if(YO(i))t=QO(i.deps,(function(e){return hR(i.expr(e))}));else{var s=hR(i);t=s===fR?dR:QO([],(function(){return s}))}n=[$O(e.tagName,a,e.children)]}var c=[t,n];return e[lR]=c,c}var vR="_structural_binding";function gR(e){return e._structural_binding}var mR,yR=function(){function e(e,t,n){this.element=e,this.expr=n,this.currentValue="",this.deps=void 0,this.deps=GO(t)}var t=e.prototype;return t.create=function(e){qO.setText(this.element,this.currentValue=this.expr(e))},t.update=function(e,t){this.deps.check(t)&&this.currentValue!==(this.currentValue=this.expr(e))&&qO.setText(this.element,this.currentValue)},e}(),bR=function(){function e(e,t,n,r){this.element=e,this.propName=t,this.expr=r,this.currentValue=void 0,this.deps=void 0,this.deps=GO(n)}var t=e.prototype;return t.create=function(e){qO.setAttribute(this.element,this.propName,this.currentValue=this.expr(e))},t.update=function(e,t){this.deps.check(t)&&this.currentValue!==(this.currentValue=this.expr(e))&&qO.setAttribute(this.element,this.propName,this.currentValue)},e}(),_R=function(){function e(e,t,n,r){this.element=e,this.propName=t,this.expr=r,this.currentValue=void 0,this.deps=void 0,this.deps=GO(n)}var t=e.prototype;return t.create=function(e){qO.setDataset(this.element,this.propName,this.currentValue=this.expr(e))},t.update=function(e,t){this.deps.check(t)&&this.currentValue!==(this.currentValue=this.expr(e))&&qO.setDataset(this.element,this.propName,this.currentValue)},e}(),wR=function(){function e(e,t,n,r,o){this.element=e,this.binding=t,this.propName=n,this.expr=o,this.currentValue=void 0,this.deps=void 0,this.deps=GO(r)}var t=e.prototype;return t.create=function(e){this.currentValue=this.binding.nextChanges[this.propName]=this.expr(e)},t.update=function(e,t){this.deps.check(t)&&(this.binding.nextChanges[this.propName]=this.expr(e))},e}(),SR=function(){function e(e,t,n,r){this.element=e,this.eventName=t,this.modifier=r,this.currentValue="",this.deps=void 0,this.expr=void 0;var o=sR(n);this.deps=o[0],this.expr=o[1]}var t=e.prototype;return t.create=function(e){qO.addEventListener(this.element,this.eventName,this.currentValue=this.expr(e),this.modifier)},t.update=function(e,t){this.deps.check(t)&&this.currentValue!==(this.currentValue=this.expr(e))&&qO.addEventListener(this.element,this.eventName,this.currentValue,this.modifier)},e}(),kR=function(){function e(e,t,n){var r,o;this.element=e,this.anchor=t,this.currentTemplate=void 0,this.currentBinding=void 0,this.cases=void 0,this.fallback=void 0,this.fallback=this.currentTemplate=n.fallback,this.cases=(r=n.cases,(o=r[iR])||(o=r.map((function(e){var t=e[0],n=e[1];return YO(t)?[GO(t.deps),t.expr,n]:[HO,function(){return t},n]})),r[iR]=o,o))}var t=e.prototype;return t.create=function(e){for(var t=0;t<this.cases.length;t++){var n=this.cases[t];if(n[1](e)){this.currentTemplate=n[2];break}}this.currentTemplate&&(this.currentBinding=new IR(this.element,this.anchor,this.currentTemplate)).create(e)},t.update=function(e,t){for(var n,r,o=this.fallback,i=0;i<this.cases.length;i++){var a=this.cases[i];if(a[1](e)){o=a[2];break}}o!==this.currentTemplate?(null==(n=this.currentBinding)||n.destroy(!0),this.currentTemplate=o,o?(this.currentBinding=new IR(this.element,this.anchor,o),this.currentBinding.create(e)):this.currentBinding=void 0):null==(r=this.currentBinding)||r.update(e,t)},t.destroy=function(e){var t;null==(t=this.currentBinding)||t.destroy(e),this.currentBinding=void 0,this.currentTemplate=void 0},t.getStartAnchor=function(){return this.currentBinding?this.currentBinding.getStartAnchor():this.anchor},t.moveToAnchor=function(){var e;null==(e=this.currentBinding)||e.moveToAnchor()},vs(e,[{key:vR,get:function(){return!0}}]),e}(),TR=function(){function e(e,t,n){this.element=e,this.anchor=t,this.currentValue=[],this.currentBindings=[],this.currentKeys=void 0,this.currentIndexes=void 0,this.deps=void 0,this.expr=void 0,this.template=void 0,this.keyName=void 0,this.itemName=void 0,this.indexName=void 0,this.filter=void 0,this.subDeps=void 0,this.hasKey=void 0;var r=sR(n.items);this.deps=r[0],this.expr=r[1],this.template=n.template,this.keyName=n.options.keyName,this.itemName=n.options.itemName,this.indexName=n.options.indexName,this.subDeps=n.options.deps?GO(n.options.deps):void 0,this.filter=n.options.filter,this.hasKey=YO(n.items)&&void 0!==this.keyName&&null!==this.keyName}var t=e.prototype;return t.addAnchor=function(e,t){void 0===t&&(t=this.anchor);var n=qO.createAnchor(e);return qO.insertBefore(this.element,n,t),n},t.create=function(e){var t=this.getItemsAndIndexes(e),n=t.items,r=t.indexes,o=t.flag;this.currentValue=n,this.currentIndexes=r,this.hasKey&&(this.currentKeys=this.getKeysOfItems(n,o));for(var i=0;i<n.length;i++){var a=n[i],s=this.addAnchor("item"),c=new IR(this.element,s,this.template),u=Object.create(e);u[this.itemName]=a,u[this.indexName]=r?r[i]:i,c.create(u),this.currentBindings.push(c)}},t.update=function(e,t){var n,r,o=this.deps.check(t),i=0;if(o){var a=this.getItemsAndIndexes(e);n=a.items,r=a.indexes,i=a.flag}else n=this.currentValue,r=this.currentIndexes;if(this.hasKey){if(o){var s=this.getKeysOfItems(n,i);this._updateKeyedUsingLIS(s),this.currentKeys=s,this.currentValue=n,this.currentIndexes=r}for(var c=this.indexName,u=this.itemName,l=this.currentBindings,f=0;f<l.length;f++){var d=Object.create(e);d[c]=r?r[f]:f,d[u]=n[f];var h=l[f];if(1&h._flag)h.create(d);else if(o){var p=Object.create(t);p[c]=!0,p[u]=!0,h.update(d,p)}else h.update(d,t);h._flag=0}}else this._updateNonKeyed(e,t,n,r,o)},t.destroy=function(e){for(var t=0;t<this.currentBindings.length;t++){var n=this.currentBindings[t];n.destroy(e),e&&qO.removeNode(n.anchor)}},t.getStartAnchor=function(){return 0===this.currentBindings.length?this.anchor:this.currentBindings[0].getStartAnchor()},t.moveToAnchor=function(){for(var e=0;e<this.currentBindings.length;e++)this.currentBindings[e].moveToAnchor()},t._updateNonKeyed=function(e,t,n,r,o){for(var i=this.currentIndexes,a=this.indexName,s=this.itemName,c=r&&!i||!r&&i,u=0;u<n.length;u++){var l=Object.create(e),f=this.currentBindings[u];if(l[a]=r?r[u]:u,l[s]=n[u],f)if(o){var d=Object.create(t);d[s]=!0,(c||r&&i&&r[u]!==i[u])&&(d[a]=!0),f.update(l,d)}else f.update(l,t);else{var h=this.addAnchor("item"),p=new IR(this.element,h,this.template);p.create(l),this.currentBindings[u]=p}}for(;u<this.currentBindings.length;u++){var v=this.currentBindings[u];v.destroy(!0),qO.removeNode(v.anchor)}this.currentBindings.length=n.length,this.currentValue=n,this.currentIndexes=r},t._updateKeyedUsingLIS=function(e){for(var t=this.currentKeys,n=t.length,r=e.length,o=this.currentBindings,i=0,a=n-1,s=0,c=r-1;t[i]===e[s]&&i<=a&&s<=c;)i++,s++;for(;t[a]===e[c]&&a>=i&&c>=s;)a--,c--;if(!(a<i&&c<s)){if(c<s){for(var u=i;u<=a;u++)o[u].destroy(!0),qO.removeNode(o[u].anchor);var l=o.slice();return l.splice(i,a-i+1),void(this.currentBindings=l)}var f=new Array(r);if(a<i){for(var d=0;d<i;d++)f[d]=o[d];for(;d<=c;d++){var h,p=this.addAnchor("item",null==(h=o[a+1])?void 0:h.getStartAnchor());(f[d]=new IR(this.element,p,this.template))._flag=1}for(;d<r;d++)f[d]=o[d-c+a];this.currentBindings=f}else{for(var v=this.generateKeyMap(t,i,a),g=c-s+1,m=new Array(g),y=new Set,b=0;b<s;b++)f[b]=o[b];for(var _=c+1;_<r;_++)f[_]=o[_];for(var w=0;w<g;w++){var S,k=e[s+w];if(y.has(k))m[w]=-1;else m[w]=null!=(S=v.get(k))?S:-1,y.add(k)}for(var T,E,C=function(e){var t=e.length;if(0===t)return[];var n=new Array(t+1),r=new Array(t+1),o=new Array(t);n[0]=-1/0,n[1]=e[0],r[0]=-1,r[1]=0,o[0]=-1,o[1]=-1;for(var i,a,s=1,c=1;c<t;c++)(a=VO(n,s+1,i=e[c]))<s?n[a+1]>i&&(n[a+1]=i,r[a+1]=c,o[c]=r[a]):(o[c]=r[s],n[++s]=i,r[s]=c);for(var u=new Array,l=r[s];-1!==l;l=o[l])u.unshift(l);return u}(m),I=C.length,A=null!=(T=f[c+1])?T:null,M=g-1,O=I-1;M>=0;){var R;if(-1===m[M])(E=f[s+M]=new IR(this.element,this.addAnchor("item",null==(R=A)?void 0:R.getStartAnchor()),this.template))._flag=1,A=E,M--,C[O]===M&&O--;else M===C[O]?(A=f[s+M]=o[m[M]],o[m[M]]=null,M--,O--):(this.moveBinding(o[m[M]],A),A=f[s+M]=o[m[M]],o[m[M]]=null,M--)}for(var x=i;x<=a;x++){var P=o[x];P&&(P.destroy(!0),qO.removeNode(P.anchor))}this.currentBindings=f}}},t.generateKeyMap=function(e,t,n){for(var r=new Map,o=t;o<=n;o++){var i=e[o];r.has(i)||r.set(i,o)}return r},t.moveBinding=function(e,t){var n=null===t?this.anchor:t.getStartAnchor();qO.insertBefore(this.element,e.anchor,n),e.moveToAnchor()},t.getKeysOfItems=function(e,t){if(1==(1&t)){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=r;return n}var o=this.keyName;return"*this"===o?e.slice(0):"string"==typeof o?e.map((function(e){return null==e?void 0:e[o]})):"function"==typeof o?e.map(o):[]},t.getItemsAndIndexes=function(e){var t,n,r=this.expr(e),o=0;if("string"==typeof r)t=r.split(""),o|=1;else if("number"==typeof r){for(var i=new Array(r),a=0;a<r;a++)i[a]=a;t=i,o|=1}else Array.isArray(r)?t=r:"[object Object]"===Object.prototype.toString.call(r)?(t=(n=Object.keys(r)).map((function(e){return r[e]})),o|=2):t=[];return{indexes:n,items:t,flag:o}},vs(e,[{key:vR,get:function(){return!0}}]),e}(),ER=function(){function e(e,t,n){this.element=e,this.anchor=t,this.name=n,this.currentTemplate=null,this.currentBinding=null}var t=e.prototype;return t.create=function(e){var t;if(e.__$$slots){var n=e.__$$slots,r=n.scope,o=n.slots,i=n.dynSlot,a=n.instance,s=null!=(t=o[this.name])?t:i;if(s){this.currentBinding=new IR(this.element,this.anchor,s),this.currentTemplate=s;var c=Object.create(r);c.__$$slotName=this.name,a.beforeSlotRender(),this.currentBinding.create(c),a.afterSlotRender()}}},t.update=function(e,t){if(e.__$$slots&&this.currentTemplate){var n=e.__$$slots,r=n.scope,o=n.changes,i=n.instance,a=Object.create(r);a.__$$slotName=this.name,i.beforeSlotRender(),this.currentBinding.update(a,o),i.afterSlotRender()}},t.destroy=function(e){this.currentBinding&&this.currentBinding.destroy(e)},t.getStartAnchor=function(){return this.currentBinding?this.currentBinding.getStartAnchor():this.anchor},t.moveToAnchor=function(){this.currentBinding&&this.currentBinding.moveToAnchor()},vs(e,[{key:vR,get:function(){return!0}}]),e}(),CR=function(){function e(e,t,n){this.element=e,this.anchor=t,this.currentBinding=null,this.expr=void 0,this.deps=void 0,this.template=void 0;var r=pR(n),o=r[0],i=r[1];this.template=i;var a=sR(o);this.deps=a[0],this.expr=a[1]}var t=e.prototype;return t.create=function(e){if(this.expr(e)===e.__$$slotName){this.currentBinding=new IR(this.element,this.anchor,this.template);var t=Object.create(e);t.__$$slotName=void 0,this.currentBinding.create(t)}},t.update=function(e,t){var n,r,o=Object.create(e);(o.__$$slotName=void 0,this.deps.check(t))?this.expr(e)===e.__$$slotName?this.currentBinding?this.currentBinding.update(o,t):(this.currentBinding=new IR(this.element,this.anchor,this.template),this.currentBinding.create(o)):(null==(n=this.currentBinding)||n.destroy(!0),this.currentBinding=null):null==(r=this.currentBinding)||r.update(o,t)},t.destroy=function(e){var t;null==(t=this.currentBinding)||t.destroy(e)},t.moveToAnchor=function(){var e;null==(e=this.currentBinding)||e.moveToAnchor()},t.getStartAnchor=function(){var e,t;return null!=(e=null==(t=this.currentBinding)?void 0:t.getStartAnchor())?e:this.anchor},vs(e,[{key:vR,get:function(){return!0}}]),e}(),IR=function(){function e(e,t,n){var r;this.element=e,this.anchor=t,this.currentElementOrBindings=[],this.bindings=[],this.template=void 0,this._flag=0,this.template=null!=(r=n.nodes)?r:n}var t=e.prototype;return t.create=function(e){this._clone(this.template,this.element,this.anchor,this.currentElementOrBindings,"string"==typeof e.__$$slotName);for(var t=this.bindings.length-1;t>=0;t--)this.bindings[t].create(e)},t.update=function(e,t){for(var n=this.bindings,r=n.length-1;r>=0;r--)n[r].update(e,t)},t.destroy=function(e){for(var t=this.currentElementOrBindings.length-1;t>=0;t--){var n=this.currentElementOrBindings[t];gR(n)?n.destroy(e):e&&qO.removeNode(n)}},t.getStartAnchor=function(){if(0===this.currentElementOrBindings.length)return this.anchor;for(var e=this.currentElementOrBindings[0];gR(e);)e=e.getStartAnchor();return e},t.moveToAnchor=function(){for(var e=this.currentElementOrBindings.length-1;e>=0;e--){var t=this.currentElementOrBindings[e];gR(t)?(qO.insertBefore(this.element,t.anchor,this.anchor),t.moveToAnchor()):qO.insertBefore(this.element,t,this.anchor)}},t._clone=function(e,t,n,r,o){for(var i=this,a=n,s=!0,c=function(e){if(s)return a;var n=i.addAnchor(e,t,a);return null==r||r.push(n),n},u=function(e){var n=c("slot-condition"),o=new CR(t,n,e);a=n,s=!1,i.bindings.push(o),null==r||r.push(o)},l=e.length-1;l>=0;l--){var f=e[l];if("string"!=typeof f)switch(f.type){case"element":if(o){u(f);break}var d=f.tagName,h=f.props,p=f.children;if("slot"===d){var v,g=null!=(v=h.name)?v:fR,m=s?a:this.addAnchor("slot",t,a),y=new ER(t,m,g);this.bindings.push(y),null==r||r.push(y),a!==m&&(null==r||r.push(m)),a=m,s=!1;break}if(qO.isCustomTagName(d)){var b=c("component"),_=new MR(t,b,f);a=b,s=!1,this.bindings.push(_),null==r||r.push(_);break}var w=qO.createElement(d);if(h)for(var S=oR(h),k=0;k<S.length;k++){var T=S[k];switch(T.type){case 1:var E=new SR(w,T.name,T.value,T.modifier);this.bindings.push(E);break;case 0:qO.addEventListener(w,T.name,T.value,T.modifier);break;case 3:var C=new bR(w,T.name,T.value.deps,T.value.expr);this.bindings.push(C);break;case 2:qO.setAttribute(w,T.name,T.value);break;case 5:var I=new _R(w,T.name,T.value.deps,T.value.expr);this.bindings.push(I);break;case 4:qO.setDataset(w,T.name,T.value)}}this._clone(p,w,null),qO.insertBefore(t,w,a),a=w,s=!0,null==r||r.push(w);break;case"pair":if(o){u(f);break}var A=qO.createText(),M=new yR(A,f.deps,f.expr);qO.insertBefore(t,A,a),a=A,s=!0,this.bindings.push(M),null==r||r.push(A);break;case"condition":var O=c("condition"),R=new kR(t,O,f);a=O,s=!1,this.bindings.push(R),null==r||r.push(R);break;case"repeat":var x=c("repeat"),P=new TR(t,x,f);a=x,s=!1,this.bindings.push(P),null==r||r.push(P);break;case"template":var N=c("template"),j=new AR(t,N,f);a=N,s=!1,this.bindings.push(j),null==r||r.push(j)}else{if(o){u(f);continue}var L=qO.createText(f);qO.insertBefore(t,L,a),a=L,s=!0,null==r||r.push(L)}}},t.addAnchor=function(e,t,n){void 0===n&&(n=null);var r=qO.createAnchor(e);return qO.insertBefore(t,r,n),r},t._addSlotCondition=function(){},vs(e,[{key:vR,get:function(){return!0}}]),e}(),AR=function(){function e(e,t,n){this.element=e,this.anchor=t,this.node=n,this.currentValue=null,this.currentTemplate=null,this.currentBinding=null,this.nameDeps=void 0,this.nameExpr=void 0,this.dataDeps=void 0,this.dataExpr=void 0,this.templates=void 0;var r=sR(n.is);this.nameDeps=r[0],this.nameExpr=r[1];var o=sR(n.data);this.dataDeps=o[0],this.dataExpr=o[1],this.templates=n.templates}var t=e.prototype;return t.create=function(e){var t=this.nameExpr(e),n="function"==typeof this.templates?this.templates(t):this.templates[t];n&&(this.currentTemplate=n,(this.currentBinding=new IR(this.element,this.anchor,n)).create(this.currentValue=this.dataExpr(e)))},t.update=function(e,t){var n,r,o=this.currentTemplate;this.nameDeps.check(t)&&(o=null!=(n="function"==typeof this.templates?this.templates(this.nameExpr(e)):this.templates[this.nameExpr(e)])?n:null);if(o!==this.currentTemplate)null==(r=this.currentBinding)||r.destroy(!0),this.currentTemplate=o,o?(this.currentBinding=new IR(this.element,this.anchor,o)).create(this.currentValue=this.dataExpr(e)):this.currentBinding=null;else if(o&&this.dataDeps.check(t)){var i=this.dataExpr(e),a=this.currentValue,s={};Object.keys(i).forEach((function(e){var t=i[e];("object"==typeof t||t!==(null==a?void 0:a[e]))&&(s[e]=!0)})),this.currentValue=i,this.currentBinding.update(i,s)}},t.destroy=function(e){var t;null==(t=this.currentBinding)||t.destroy(e)},t.getStartAnchor=function(){return this.currentBinding?this.currentBinding.getStartAnchor():this.anchor},t.moveToAnchor=function(){this.currentBinding&&this.currentBinding.moveToAnchor()},vs(e,[{key:vR,get:function(){return!0}}]),e}(),MR=function(){function e(e,t,n){this.element=e,this.anchor=t,this.node=n,this.instance=void 0,this.currentBindings=[],this.nextChanges={},this.is=void 0,this.props=void 0,this.customElement=void 0,this.elementBinding=void 0,this.slots=void 0,this.dynSlot=void 0,this.is=n.tagName,this.props=oR(n.props);var r=function(e){if(e[uR])return e[uR];var t={slots:{},dynSlot:e};return e[uR]=t,t}(n.children);this.slots=r.slots,this.dynSlot=r.dynSlot}var t=e.prototype;return t.create=function(e){var t=this.instance=qO.createComponentModel(this.is),n=this.customElement=t.element;qO.insertBefore(this.element,n,this.anchor);for(var r=this.nextChanges,o=this.props,i=0;i<o.length;i++){var a=o[i];switch(a.type){case 1:var s=new SR(n,a.name,a.value,a.modifier);this.currentBindings.push(s);break;case 0:qO.addEventListener(n,a.name,a.value,a.modifier);break;case 3:var c=a.name,u=void 0;u="id"===c||"className"===c||"style"===c||"hidden"===c?new bR(n,c,a.value.deps,a.value.expr):new wR(n,this,c,a.value.deps,a.value.expr),this.currentBindings.push(u);break;case 2:var l=a.name,f=a.value;"id"===l||"className"===l||"style"===l||"hidden"===l?qO.setAttribute(n,l,f):r[l]=f;break;case 5:var d=new _R(n,a.name,a.value.deps,a.value.expr);this.currentBindings.push(d);break;case 4:qO.setDataset(n,a.name,a.value)}}for(var h=0;h<this.currentBindings.length;h++)this.currentBindings[h].create(e);r.__$$slots={scope:e,slots:this.slots,dynSlot:this.dynSlot,changes:{},instance:this.instance},this.nextChanges={},t._$create(r);var p=this.elementBinding=new IR(n,null,t.template);t.binding=p,t.beforeRender(),p.create(t.data),t.afterRender(),t._$ready()},t.update=function(e,t){for(var n=this.nextChanges={},r=0;r<this.currentBindings.length;r++)this.currentBindings[r].update(e,t);n.__$$slots={scope:e,slots:this.slots,changes:t,dynSlot:this.dynSlot,instance:this.instance};var o=this.instance._$update(n);this.instance.beforeRender(),this.elementBinding.update(this.instance.data,o),this.instance.afterRender()},t.destroy=function(e){this.elementBinding.destroy(!1),e&&qO.removeNode(this.customElement),this.instance._$destroy()},t.getStartAnchor=function(){return this.customElement},t.moveToAnchor=function(){qO.insertBefore(this.element,this.customElement,this.anchor)},vs(e,[{key:vR,get:function(){return!0}}]),e}(),OR={getParent:function(e){return e.logicalParentNode||e.parentNode||null},getChildren:function(e){return(e.isCustomComponent?e.logicalChildNodes:e.childNodes).filter((function(e){return"node"===e.type}))},getTagName:function(e){return e.tagName||""},getID:function(e){return e.id},getClassName:function(e){return e.originalClassName},isCustomComponent:function(e){return e.isCustomComponent},getShadowRoot:function(e){return e.shadowRoot},isShadowRoot:function(e){return"shadowroot"===e.tagName},getShadowRootHost:function(e){return e.host.element}},RR=function(e){function t(t,n,r,o){var i,a;return(a=e.call(this,{template:null==(i=ws().global.window.app[n])?void 0:i.nodes})||this).__webviewId__=t,a.__route__=n,a.parent=r,a.type=o,a.route=void 0,a.__properties__=void 0,a.options=void 0,a.element=void 0,a}am(t,e);var n=t.prototype;return n._$applyDataUpdate=function(e){var t={};return Object.keys(e).forEach((function(e){var n=function(e){for(var t=!1,n=e.length,r=[],o="",i=0,a=0;a<n;a++){var s=e[a];"\\"===s?a+1<n&&("."===e[a+1]||"["===e[a+1]||"]"===e[a+1])?(o+=e[a+1],a++):o+="\\":"."===s?o&&(r.push(o),o=""):"["===s?(o&&(r.push(o),o=""),t=!0):"]"===s?(t=!1,r.push(i),i=0):t?i=10*i+s.charCodeAt(0)-48:o+=s}return o&&r.push(o),r}(e);t[n[0]]=!0})),t},n.beforeRender=function(){this.renderer.pushModel(this)},n.afterRender=function(){this.renderer.popModel()},n.setData=function(t,n){"Object"===rb(t)&&(KM.call(this,t),WO(this.renderer),e.prototype.render.call(this,t),this.renderer.flush(n))},n.createSelectorQuery=function(){return new Bk(this.__webviewId__)},n.selectComponent=function(e,t){var n,r=Wb(e,this.element.shadowRoot||this.element,OR),o="component"===(null==r||null==(n=r.model)?void 0:n.type)?r.model:null;return"function"==typeof t&&t(o),o},n.selectAllComponents=function(e,t){for(var n=Vb(e,this.element.shadowRoot||this.element,OR),r=[],o=0;o<n.length;o++){var i=n[o].model;i&&"component"===i.type&&r.push(i)}return"function"==typeof t&&t(r),r},n.createIntersectionObserver=function(e){return lC.call(this,this,e)},n.pageScrollTo=function(){},n.getContainer=function(){return ws().getContainer(D_)},vs(t,[{key:"renderer",get:function(){return this.getContainer().renderers[this.__webviewId__]}}]),t}(function(){function e(e){var t,n,r;void 0===e&&(e={}),this.data=void 0,this.template=void 0,this.element=void 0,this.anchor=void 0,this.binding=void 0,this.createdCallbacks=[],this.mountedCallbacks=[],this.updateCallbacks=[],this.destroyCallbacks=[],this.data=null!=(t=e.data)?t:{},this.template=null!=(n=e.template)?n:[],this.element=e.element,this.anchor=null!=(r=e.anchor)?r:null}var t=e.prototype;return t._$create=function(e){var t=this._$processDataUpdate(e);Object.assign(this.data,t),e.__$$slots&&(this.data.__$$slots=e.__$$slots),e.__$$slotName&&(this.data.__$$slotName=e.__$$slotName),this.createdCallbacks.forEach((function(e){return e()}))},t._$update=function(e){var t=this._$processDataUpdate(e),n=this._$applyDataUpdate(t);return e.__$$slots&&(this.data.__$$slots=e.__$$slots,n.__$$slots=!0),e.__$$slotName&&(this.data.__$$slotName=e.__$$slotName,n.__$$slotName=!0),n},t._$ready=function(){this.mountedCallbacks.forEach((function(e){return e()}))},t._$destroy=function(){this.destroyCallbacks.forEach((function(e){return e()}))},t.mount=function(e,t){var n,r;if(this.element=null!=(n=this.element)?n:e,this.anchor=null!=(r=this.anchor)?r:t,!this.element||!this.template)return null;var o=this.binding=new IR(this.element,this.anchor,this.template);return this.beforeRender(),o.create(this.data),this.afterRender(),o},t.beforeRender=function(){},t.afterRender=function(){},t.beforeSlotRender=function(){},t.afterSlotRender=function(){},t.render=function(e){var t=this._$applyDataUpdate(e);this.binding&&(this.beforeRender(),this.binding.update(this.data,t),this.afterRender())},t._$applyDataUpdate=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];t[o]=!0,this.data[o]=e[o]}return t},t._$processDataUpdate=function(e){return e},e}()),xR=function(e){var t=this.getContainer(),n=SO(t,this);if(n.isPageReload=e,n.newFramework=!0,"object"==typeof __allConfig__){var r=mO(t,this.__route__),o=r.componentSettings,i=r.usingComponents;n.usingComponents=i,n.componentSettings=o}var a={isFirstPage:t.openType===j_.APP_LAUNCH,firstRender:!0,timestamp:Date.now()};if(this.renderer.firstRenderInformation={ext:n,options:a},"component"===this.type&&yk(this.options)&&this.__properties__)for(var s in this.options)this.__properties__[s]&&(this.data[s]=this.options[s]);WO(this.renderer),this.mount(),this.renderer.flush()},PR=new(function(e){function t(){return e.apply(this,arguments)||this}am(t,e);var n=t.prototype;return n.getRelationInformation=function(e){return e.model?e.model:null},n.getParent=function(e){return"shadowroot"===e.tagName?null:e.logicalParentNode},n.getChildren=function(e){return e.isCustomComponent?e.logicalChildNodes:e.childNodes},n.isTravelable=function(e){return"node"===e.type},t}(zb)),NR=function(e,t){e.relationMap.parent&&jR(e,e.relationMap.parent,e.relationLinks.parent,!0,"attached"===t),e.relationMap.ancestor&&jR(e,e.relationMap.ancestor,e.relationLinks.ancestor,!1,"attached"===t)},jR=function(e,t,n,r,o){for(var i=0;i<t.length;i++){var a=t[i],s=null;o&&(s=PR.getNewParentNode(e.element,a,r)),n[i]=s}},LR=function(e){function t(t,n,r,o,i){var a;(a=e.call(this,n,r,i,"component")||this).is=void 0,a.__nodeId__=void 0,a.__properties__=void 0,a.properties={},a.id="",a.dataset={},a.attaching=!1,a.ancestors=void 0,a.relationMap=void 0,a.relationLinks=void 0,a.relations=void 0,OM.call(cb(a),t);var s=a.getContainer();"body"===o?(a.element=a.renderer.createElement(o),a.element.host=cb(a),a.__nodeId__=0):(a.element=a.renderer.createCustomElement(o,cb(a)),a.__nodeId__=a.element._id);var c=vO(s,a.__route__);return PR.initializeRelation(cb(a),c),a}am(t,e);var n=t.prototype;return n.setData=function(t,n){var r=rb(t);"Object"===r?e.prototype.setData.call(this,PM(this,t),n):ps.error("setData's first param must be object, you pass "+r)},n.hasBehavior=function(e){return RM(this,e)},n.createSelectorQuery=function(){return e.prototype.createSelectorQuery.call(this).in(this)},n.triggerEvent=function(e,t,n){var r=this;this.attaching?setTimeout((function(){r._triggerEvent(e,t,n)}),0):this._triggerEvent(e,t,n)},n._triggerEvent=function(e,t,n){for(var r={id:this.element.id,dataset:this.element.dataset},o=this.element;o;){var i={id:o.id,dataset:o.dataset};this.renderer.triggerEvent(this.element._id,e,{type:e,detail:t,currentTarget:i,target:r,timeStamp:Date.now()}),o=null!=n&&n.bubbles?o.parentNode:null}},n.getRelationNodes=function(e,t){var n=PR.getRelations(e,this.element),r=Array.isArray(n)?n.map((function(e){return e.model})):n;return"function"==typeof t&&t(r),r},n._$create=function(t){this.element.model=this,e.prototype._$create.call(this,t)},n._$update=function(t){var n=e.prototype._$update.call(this,t);return delete t.__$$slots,n},n._$destroy=function(){this.element.model=null,e.prototype._$destroy.call(this)},n.beforeSlotRender=function(){this.renderer.pushModel(this.parent)},n.afterSlotRender=function(){this.renderer.popModel()},n._$processDataUpdate=function(e){return PM(this,e,!0)},t}(RR),DR=function(e){function t(t,n,r,o){var i;return void 0===o&&(o={}),(i=e.call(this,n,r,null,"page")||this).trace=o,i.onLoad=void 0,i.onReady=void 0,i.onShow=void 0,i.onHide=void 0,i.onUnload=void 0,IO.call(cb(i),t),i.element=i.renderer.createElement("body"),i.element.host=cb(i),i}return am(t,e),t.prototype.getTraceInfo=function(){return new hI(this.trace)},t}(RR);!function(e){e[e.CreateElement=0]="CreateElement",e[e.CreateCustomElement=1]="CreateCustomElement",e[e.CreateText=2]="CreateText",e[e.CreateAnchor=3]="CreateAnchor",e[e.AppendChild=4]="AppendChild",e[e.InsertBefore=5]="InsertBefore",e[e.RemoveNode=6]="RemoveNode",e[e.SetText=7]="SetText",e[e.SetAttribute=8]="SetAttribute",e[e.AddEventListener=9]="AddEventListener",e[e.RemoveEventListener=10]="RemoveEventListener"}(mR||(mR={}));var BR=1,FR=function(e){for(var t=e.parentNode,n=e.host;t;){if(t.host===n)return t;t=t.host.element}return null},UR=function(e){return null==e?"":e.toString().replace(/\\r/g,"").replace(/\\n/g,"\n")},qR=function(){function e(t,n,r,o,i){this.host=t,this.model=n,this.type=r,this.tagName=o,this.text=i,this._id=BR++,this.id="",this.originalClassName="",this.shadowRoot=null,this.parentNode=null,this.childNodes=[],this.logicalParentNode=null,this.logicalChildNodes=[],this.dataset={},this.listeners={},n&&(this.shadowRoot=new e(n,null,"node","shadowroot"))}var t=e.prototype;return t.appendChild=function(e){var t;this.shadowRoot?this.shadowRoot.appendChild(e):(null==(t=e.parentNode)||t.removeChild(e),e.parentNode=this,this.childNodes.push(e),this.addToLogicalParent(e),e.model&&NR(e.model,"attached"))},t.insertBefore=function(e,t){if(this.shadowRoot)this.shadowRoot.insertBefore(e,t);else{var n,r=this.childNodes.indexOf(t);if(-1!==r)null==(n=e.parentNode)||n.removeChild(e),e.parentNode=this,this.childNodes.splice(r,0,e),this.addToLogicalParent(e),e.model&&NR(e.model,"attached")}},t.addToLogicalParent=function(e){var t;e.host===this.host?(e.logicalParentNode=this,this.isCustomComponent&&this.logicalChildNodes.push(e)):(t=FR(e))&&-1===t.logicalChildNodes.indexOf(e)&&(e.logicalParentNode=t,t.logicalChildNodes.push(e))},t.removeChild=function(e){if(this.shadowRoot)this.shadowRoot.removeChild(e);else{var t=this.childNodes.indexOf(e);-1!==t&&(e.parentNode=null,this.childNodes.splice(t,1),this.removeFromLogicalParent(e),e.model&&NR(e.model,"detached"))}},t.removeFromLogicalParent=function(e){var t;if(e.host===this.host){if(e.logicalParentNode=null,this.isCustomComponent){var n=this.logicalChildNodes.indexOf(e);-1!==n&&(e.logicalParentNode=null,this.logicalChildNodes.splice(n,1))}}else if(t=FR(e)){var r=t.logicalChildNodes.indexOf(e);-1!==r&&(e.logicalParentNode=null,t.logicalChildNodes.splice(r,1))}},vs(e,[{key:"isCustomComponent",get:function(){return!(!this.model||"component"!==this.model.type)}}]),e}(),WR=function(){function e(){this._id=0,this.stringToID={},this.idToString={},this.diff={}}var t=e.prototype;return t.addTagName=function(e){if("number"!=typeof this.stringToID[e]){var t=this._id++;this.stringToID[e]=t,this.idToString[t]=e,this.diff[t]=e}return this.stringToID[e]},t.getAll=function(){return this.idToString},t.getDiff=function(){var e=this.diff;return this.diff={},e},e}(),VR=function(){function e(e,t){this.webviewID=e,this.container=t,this.firstRenderInformation=null,this.nodes=new Map,this.nodesToRelease=[],this.modelStack=[],this.commands=[],this.callbacks=[],this.nextRenders=[],this.timer=null,this.tagNameMap=new WR}var t=e.prototype;return t.createElement=function(e){var t=new qR(this.currentModel,null,"node",e);this.nodes.set(t._id,t);var n=this.currentModel&&"page"!==this.currentModel.type?this.currentModel.element._id:0,r=this.tagNameMap.addTagName(e);return this.commands.push([mR.CreateElement,t._id,n,r]),t},t.createCustomElement=function(e,t){var n=new qR(this.currentModel,t,"node",e);this.nodes.set(n._id,n);var r=this.currentModel&&"page"!==this.currentModel.type?this.currentModel.element._id:0,o=this.tagNameMap.addTagName(e);return this.commands.push([mR.CreateCustomElement,n._id,n.shadowRoot._id,r,o]),n},t.createText=function(e){e=UR(e);var t=new qR(this.currentModel,null,"text",void 0,e);this.nodes.set(t._id,t);var n=this.currentModel&&"page"!==this.currentModel.type?this.currentModel.element._id:0;return this.commands.push([mR.CreateText,t._id,n,e]),t},t.createAnchor=function(e){var t=new qR(this.currentModel,null,"comment",void 0,e);this.nodes.set(t._id,t);var n=this.currentModel&&"page"!==this.currentModel.type?this.currentModel.element._id:0;return this.commands.push([mR.CreateAnchor,t._id,n,e]),t},t.appendChild=function(e,t){var n;e.appendChild(t);var r=(null==(n=t.logicalParentNode)?void 0:n._id)||0;this.commands.push([mR.AppendChild,e._id,r,t._id])},t.insertBefore=function(e,t,n){if(n){var r;e.insertBefore(t,n);var o=(null==(r=t.logicalParentNode)?void 0:r._id)||0;this.commands.push([mR.InsertBefore,e._id,o,t._id,n._id])}else this.appendChild(e,t)},t.removeNode=function(e){var t=e.parentNode;if(t){var n,r=(null==(n=e.logicalParentNode)?void 0:n._id)||0;t.removeChild(e),this.nodesToRelease.push(e),this.commands.push([mR.RemoveNode,t._id,r,e._id])}},t.setText=function(e,t){t=UR(t),e.text=t,this.commands.push([mR.SetText,e._id,t])},t.setDataset=function(e,t,n){e.model instanceof LR&&(e.model.dataset[t]=n),e.dataset[t]=n},t.setAttribute=function(e,t,n){"slot"!==t&&("id"===t?(e.model instanceof LR&&(e.model.id=n),e.id=n):"className"===t&&(e.originalClassName=n),this.commands.push([mR.SetAttribute,e._id,t,n]))},t.addEventListener=function(e,t,n,r){var o=e.listeners,i=r.capture,a=r.catch,s=i?"capture":"normal";if(o[t]||(o[t]={normal:null,capture:null}),n){var c=o[t][s];c?c.value=n:(this.commands.push([mR.AddEventListener,e._id,t,a?1:0]),o[t][s]={value:n,modifier:r})}else o[t][s]&&this.commands.push([mR.RemoveEventListener,e._id,t]),o[t][s]=null;"-data-custom-hidden"===t&&this.commands.push([mR.SetAttribute,e._id,"bind-data-custom-hidden",n])},t.isCustomTagName=function(e){var t=this.currentModel,n=bO(t.__route__)[e];return!(!n||!window.app[n])},t.createComponentModel=function(e){var t,n=this.currentModel,r=n.getContainer(),o=n.__webviewId__,i=bO(n.__route__)[e];r.optionsStoredByRoute[i]instanceof vM?t=r.optionsStoredByRoute[i]:(ps.error("Component is not registered in "+i),t=gM(i));var a=new LR(t,o,i,e,n);return r.componentInstances[o]=r.componentInstances[o]||{},r.componentInstances[o][a.__nodeId__]={instance:a,route:i,webviewId:o,status:"attached"},a},t.triggerEvent=function(e,t,n){var r,o,i=this.nodes.get(e);if(i){var a=null==(r=i.listeners)||null==(o=r[t])?void 0:o.normal;if(a&&i.host){var s=i.host[a.value];"function"==typeof s&&s(n)}}},t.pushModel=function(e){this.modelStack.push(e)},t.popModel=function(){this.modelStack.pop()},t.restoreDataset=function(e){if(e&&"number"==typeof e.dataset){var t,n=e.dataset,r=null==(t=this.nodes.get(n))?void 0:t.dataset;e.dataset=r?kk(r):{}}},t.flush=function(e){var t=this;e&&this.callbacks.push(e),null===this.timer&&(this.timer=setTimeout((function(){if(t.timer=null,0===t.commands.length){var e=t.callbacks;return t.callbacks=[],void e.forEach((function(e){return e()}))}var n={commands:t.commands,tagNameMap:t.tagNameMap.getAll(),timeStamp:Date.now()};t.firstRenderInformation&&(Object.assign(n,t.firstRenderInformation),kO(jm,t.firstRenderInformation.ext.route));var r=t.callbacks;t.callbacks=[],t.commands=[],t.firstRenderInformation=null,t.container.bridge.invokeWebviewMethod("render",n,t.webviewID,(function(){r.forEach((function(e){return e()})),setTimeout((function(){for(var e=0;e<t.nodesToRelease.length;e++)for(var n=[t.nodesToRelease[e]];n.length;){var r=n.shift();t.nodes.delete(r._id);for(var o=0;o<r.childNodes.length;o++){var i=r.childNodes[o];n.push(i)}}}),0)})),t.nextRenders.forEach((function(e){return e()})),t.nextRenders=[]}),0))},t.nextRender=function(e){this.nextRenders.push(e)},vs(e,[{key:"pending",get:function(){return this.commands.length>0}},{key:"currentModel",get:function(){return this.modelStack[this.modelStack.length-1]}}]),e}(),zR=function(e){function t(){var t;return(t=e.call(this,D_,ws())||this).bridge=new FO(cb(t)),t.componentInstances={},t.pageSettings={},t.componentSettings={},t.pageStack=[],t.tabPagePaths=[],t.tabRun=!1,t.fWillRoute=!0,t.detectUserInteraction=null,t.currentPage=void 0,t.openType=void 0,t.webViewInfo={dataStack:[],currentPageInstance:null,target:null,eventName:""},t.api=new hw(cb(t),ZA),t.renderers={},t.isForeground=!1,t.pagesToReload=[],t.onAppRoute=_k(N_.ON_APP_ROUTE,t.onAppRoute.bind(cb(t))),t.onPageReload=_k(N_.ON_PAGE_RELOAD,t.onPageReload.bind(cb(t))),t.onPullDownRefresh=_k(N_.ON_PULL_DOWN_REFRESH,t.onPullDownRefresh.bind(cb(t))),t.onShareAppMessage=_k(N_.ON_SHARE_APP_MESSAGE,t.onShareAppMessage.bind(cb(t))),t.onSaveExitState=_k(N_.ON_SAVE_EXIT_STATE,t.onSaveExitState.bind(cb(t))),t}am(t,e);var n=t.prototype;return n.setup=function(){e.prototype.setup.call(this),this.webviewEventInit(),this.containerEventEmitter.on(N_.ON_PAGE_RELOAD,this.onPageReload),this.containerEventEmitter.on(N_.ON_PULL_DOWN_REFRESH,this.onPullDownRefresh),this.containerEventEmitter.on(N_.ON_SHARE_APP_MESSAGE,this.onShareAppMessage),this.containerEventEmitter.on(N_.ON_SAVE_EXIT_STATE,this.onSaveExitState)},n.onAppRoute=function(e){var t,n,r=e.path,o=e.webviewId,i=e.query,a=void 0===i?{}:i,s=e.openType,c=e.trace;ps.log("On app route",r,o,a,s,s,c),s!==j_.NAVIGATE_BACK&&kO(Bm,r),this.openType=s,s===j_.NAVIGATE_TO?function(e,t,n,r,o){var i=e.currentPage,a=e.C;i&&OO(i),a.hasOwnProperty(n)?ps.error("Page route 错误(system error)","navigateTo with an already exist webviewId "+n):e.createPage(t,n,r,o)}(this,r,o,a,c):s===j_.REDIRECT_TO?function(e,t,n,r,o){var i=e.currentPage,a=e.C;i&&RO(e,i),a.hasOwnProperty(n)?ps.error("Page route 错误(system error) redirectTo with an already exist webviewId "+n):e.createPage(t,n,r,o)}(this,r,o,a,c):s===j_.NAVIGATE_BACK?function(e,t,n,r){var o=e.pageStack,i=e.host;wM(e,"navigateBack",{route:t});for(var a=!1,s=o.length-1;s>=0;--s){var c=o[s];if(c.webviewId===n){a=!0,e.currentPage=c,c.page.onShow(),i.agent.isPC&&(c.page.onShareAppMessage&&"function"==typeof c.page.onShareAppMessage?i.ttJSBridge.invoke("showShareMenu"):i.ttJSBridge.invoke("hideShareMenu"));break}RO(e,c)}a||ps.error("Page route 错误(system error) navigateBack with an unexist webviewId "+n)}(this,r,o):s===j_.SWITCH_TAB?xO(this,r,o,a,c):s===j_.APP_LAUNCH?function(e,t,n,r,o){e.C.hasOwnProperty(n)?ps.error("Page route 错误(system error) appLaunch with an already exist webviewId "+n):e.createPage(t,n,r,o)}(this,r,o,a,c):s===j_.RE_LAUNCH||s===j_.AUTO_RELAUNCH?function(e,t,n,r,o){for(var i=e.pageStack;i.length>0;)RO(e,i[i.length-1]);e.createPage(t,n,r,o)}(this,r,o,a,c):ps.error("Page route 错误(system error)","Illegal open type: "+s),ky.build(by.openplatformMpPageView,my.mpPageView).setPlatform("Tea").addMap({page_path:r,lifecycle_id:null==(t=this.host.agent.globalTrace)?void 0:t.traceId,application_id:null==(n=this.host.global.TMAConfig)?void 0:n.appId}).flush()},n.webviewEventInit=function(){var e=this,t=this;this.bridge.subscribe("PAGE_EVENT",(function(e,n){cT(t,Object.assign({webviewId:n},e))})),this.bridge.subscribe("COMPONENT_EVENT",(function(e,n){PO(t,e,n)})),this.bridge.subscribe("COMPONENT_DATA_CHANGE",(function(e,n){NO(t,e,n)})),this.bridge.subscribe("componentRelationChange",(function(e,n){jO(t,e,n)})),this.bridge.subscribe("vdomChange",_k("onVDOMChange",LO)),this.bridge.on(rT,(function(t,n){ps.log("onPageResize triggered",t,n),e.bridge.publish(rT,t,[n])})),function(e){var t=e.bridge,n=e.webViewInfo,r=t.subscribe;r(iT.inserted,(function(t){if(bM(e),null!=t&&t.bindmessage){var r=Pk(),o=r.length;0!==o&&(n.eventName=t.bindmessage,n.target=t.target,n.currentPageInstance=r[o-1],o>1&&(n.prePageRoute=r[o-2].__route__))}})),r(iT.removed,(function(){_M(e),bM(e)}))}(this)},n.firstRender=function(e,t){this.host.newFramework?xR.call(e,t):EO.call(e,t)},n.createPage=function(e,t,n,r){var o,i,a,s;ps.log("creating_page ==> route: ",e," wvid: ",t," query: ",n," trace: ",r),kO(Lm,e),null!=(o=this.host.global)&&null!=(i=o.TMAConfig)&&null!=(a=i.ext)&&a.experimentSupportScalar&&this.scalar.enable();try{var c,u,l;ky.build(by.scalar,my.scalarEnabled).addMap({enabled:null!=(c=this.host.global)&&null!=(u=c.TMAConfig)&&null!=(l=u.ext)&&l.experimentSupportScalar?1:0}).flush()}catch(e){}if(!this.optionsStoredByRoute.hasOwnProperty(e))try{var f,d,h=e+"-service.js";if(null!=(f=this.host.global)&&f.hasDefine(h))null==(d=this.host.global)||d.require(h);else this.host.loadScript(h)}catch(e){ky.build(by.jsError,my.loadScriptError).addMap({errMsg:JSON.stringify(e)||""}).flush()}this.optionsStoredByRoute.hasOwnProperty(e)?s=this.optionsStoredByRoute[e]:(ps.warn("Page route 错误: Page["+e+"] not found. May be caused by: 1. Forgot to add page route in app.json. 2. Invoking Page() in async task."),s={}),this.host.newFramework&&(this.renderers[t]=new VR(t,this));var p=this.getInstance(s,t,e,r),v=kk(n);this.currentPage={page:p,webviewId:t,route:e},this.pageStack.push(this.currentPage),p.options=v,this.firstRender(p,!1),p.onShareAppMessage&&"function"==typeof p.onShareAppMessage?this.host.agent.isPC&&this.host.ttJSBridge.invoke("showShareMenu"):this.bridge.invokeMethod("hideShareMenu"),this.C[t]={page:p,route:e,webviewId:t},p.onLoad(n),p.onShow(),kO(Dm,e)},n.getInstance=function(e,t,n,r){var o;return e instanceof vM?(ps.log("component as page",n),function(e){var t=function(t){if(Ak(e[t])&&sM.includes(t)&&Ak(e[t])){var n=e[t];e[t]=function(r){LM(e,t,r),n.apply(e,Array.from(arguments))}}};for(var n in e)t(n)}(o=this.host.newFramework?new LR(e,t,n,"body",null):new MO(e,t,n,0))):o=this.host.newFramework?new DR(e,t,n,r):new AO(e,t,n,r),o},n.deletePage=function(e){var t,n,r,o,i,a=this.C[e].page;this.scalar.removeByOwner(a),n=e,r=(t=this).componentInstances,o=t.scalar,i=r[n]||{},Object.entries(i).forEach((function(e){e[0];var t=e[1],n=t.instance;"attached"===t.status&&xM(n,"detached",{}),o.removeByOwner(n)})),delete r[n],delete this.renderers[e],delete this.C[e]},n.onPageReload=function(e){var t=e.webviewId;if(ps.info("On page reload"),this.isForeground)if(this.C.hasOwnProperty(t)){var n=this.C[t].page;if(this.host.newFramework){var r=this.renderers[t]=new VR(t,this);n.element=r.createElement("body"),n.element.host=n}this.firstRender(n,!0)}else ps.error("Page reload(system error) Can not find webviewId "+t);else this.pagesToReload.push(e)},n.flushPagesToReload=function(){var e=this;this.pagesToReload.forEach((function(t){return e.onPageReload(t)})),this.pagesToReload=[]},n.onPullDownRefresh=function(e){if(this.C.hasOwnProperty(e)){var t=this.C[e],n=t.page;jk(n,"onPullDownRefresh")&&(ps.info("Invoke event onPullDownRefresh in page: "+t.route),bk.call(n,"onPullDownRefresh"))}},n.onShareAppMessage=function(e,t){if(void 0===e&&(e={}),wM(this,"shareAppMessage",{}),null===e&&(e={}),t||(t=this.pageStack[this.pageStack.length-1].webviewId),this.C[t]){var n=function(e,t,n){"object"==typeof t&&null!==t||(t={});var r=e.C[n],o=r.page,i="onShareAppMessage",a=Object.assign({},t);if(jk(o,i)){var s={from:t.from||"menu",target:t.target,channel:t.channel,webViewUrl:t.webViewUrl},c=bk.call(o,i,s)||{};a=Object.assign(a,c)}if("string"==typeof a.path&&""!==a.path)a.path.startsWith("/")&&(a.path=a.path.substr(1)),a.path=encodeURIComponent(a_(a.path)||"");else{var u=r.route;Object.keys(o.options).length>0&&(u+="?"+Object.keys(o.options).map((function(e){return e+"="+encodeURIComponent(o.options[e])})).join("&")),a.path=encodeURIComponent(u)}return"string"==typeof a.PCPath&&""!==a.PCPath&&(a.PCPath.startsWith("/")&&(a.PCPath=a.PCPath.substr(1)),a.PCPath=encodeURIComponent(a.PCPath)),ps.log("CUSTOM_SHARE_RESULT",a),a}(this,e,t),r=yC();"channel"in e&&(n.channel=e.channel);var o,i=n.fail;n.path||n.PCPath||(o={errMsg:"shareAppMessage:fail option.path or option.PCPath is required"}),n.PCPath&&!n.PCMode&&(o={errMsg:"shareAppMessage:fail option.PCMode is required"}),!n.PCPath&&n.PCMode&&(o={errMsg:"shareAppMessage:fail option.PCPath is required"}),o?i&&i(o):this.bridge.invokeMethod("shareAppMessageDirectly",Object.assign({},n,r),{beforeAll:function(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage"),e.errMsg.startsWith("shareAppMessage:cancel")&&(e.errMsg="shareAppMessage:fail cancel")}})}},n.onSaveExitState=function(e,t){if(void 0===e&&(e={}),t||(t=this.pageStack[this.pageStack.length-1].webviewId),this.C[t]){var n=this.C[t].page,r=n.__route__,o="onSaveExitState",i=(e||{}).type,a=void 0===i?"":i;if(jk(n,o)){var s=bk.call(n,o,{})||{},c=Object.keys(n.options).filter((function(e){return"exitState"!==e})).map((function(e){return e+"="+encodeURIComponent(n.options[e])})).join("&");this.bridge.invokeMethod("saveExitAppState",{exitState:s,path:r,type:a,query:c})}else this.bridge.invokeMethod("saveExitAppState",{})}},n.getAllPageWebviewIds=function(){return Object.values(this.C).map((function(e){return e.webviewId}))},n.getPages=function(){return this.pageStack.map((function(e){return e.page}))},n.getComponent=function(e,t){var n;return null==(n=this.componentInstances[e][t])?void 0:n.instance},n.getConfig=function(e){return this.allConfigs[e]},vs(t,[{key:"TMAConfig",get:function(){return this.host.global.TMAConfig}},{key:"allConfigs",get:function(){return this.host.global.__allConfig__}}]),t}(IM),GR=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)if(new RegExp("("+r+")").test(t)){var o=n[r];t=t.replace(RegExp.$1,""+(1===RegExp.$1.length?o:("00"+o).substr((""+o).length)))}return t};function HR(e){var t,n=function(e){var t={};for(var n in e)t[n]=e[n];return t}(console),r=e.global,o=e.onContainerEvent,i=r.TMAConfig,a="pc"===i.platform,s="android"===i.platform,c=0;function u(r){void 0===r&&(r=!0);var o={cmd:"log",payload:{}},i=function(i){"function"==typeof console[i]&&(console[i]=function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];if(r){for(var f,d="",h=ls(c);!(f=h()).done;){var p=f.value;d+="string"==typeof p?p+" ":JSON.stringify(p)+" "}d.length>0&&(d=d.substr(0,d.length-1));var v=GR(new Date,"yyyy-MM-dd hh:mm:ss:S");if(o.payload={content:d,level:i,timestamp:v},a){var g=l(o);t.send(JSON.stringify(g))}else e.getContainer().bridge.invokeMethod("consoleLogOutput",o)}n[i].apply(n,c)})};for(var s in console)i(s)}function l(e){return e.mid=""+ ++c,e.payload=Object.assign(e.payload,{layer:"app",appId:i.appId||"",appMode:i.mode||"",appName:i.appName||""}),e}if(a||o("onOpenLogStateChanged",(function(e,t){u(t.allowLog)})),i&&"object"==typeof i&&i.hostConfig&&("object"==typeof i.hostConfig||"string"==typeof i.hostConfig))if(s)try{var f=JSON.parse(i.hostConfig);f&&f.openLog&&u()}catch(e){}else i.hostConfig.openLog&&(a?function(e){if(e&&"string"==typeof e){var n=new URL(e).origin+"?from=device&phone_brand="+i.platform+"&app_id="+i.appId+"&app_name="+i.appName;(t=new WebSocket(n)).onopen=function(e){u()},t.onmessage=function(e){},t.onerror=function(e){u(!1),t.close()},t.onclose=function(e){u(!1)}}}(i.websocketInfo):u())}var KR,JR=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).mockTTMethod={},t}am(t,e);var n=t.prototype;return n.setup=function(){var t=this;e.prototype.setup.call(this),_y.init({maxCacheCount:20,maxCacheTime:4e3});var n={__element:$O,__pair:QO,__ifPair:XO,__forPair:ZO,__tplPair:eR,__slot:nR,__customElement:tR};this.global.window?Object.assign(this.global.window,Object.assign({},n)):Object.assign(this.global,{window:n}),Object.assign(this.global,Object.assign({},n)),this.setContainer(new zR),HR(this),AM(this),function(e){var t=e.global,n=[];"object"==typeof t.TMAConfig&&null!==t.TMAConfig&&(t.TMAConfig.onReady=function(e){e(t.TMAConfig)},t.TMAConfig.onRealReady=function(e){"function"==typeof e&&n.push(e)},t.TMAConfig.ready=function(){n.forEach((function(e){e(t.TMAConfig)}))})}(this),this.global.metaReady=function(){return t.metaReady()},"kernel"===this.runningSpace&&(Object.defineProperty(this.global,"mockTTMethod",{enumerable:!1,configurable:!0,writable:!1,value:new Proxy(this.mockTTMethod,{set:function(e,t,n){return e[t]=n,!0},ownKeys:function(){return[]}})}),Object.defineProperty(this.global,"getCurrentPageComponent",{enumerable:!1,configurable:!0,writable:!1,value:function(e){var n=t.getContainer();if(n.currentPage)return n.getComponent(n.currentPage.webviewId,e)}}))},n.getContainer=function(){return e.prototype.getContainer.call(this,D_)},n.injectToGlobal=function(t){e.prototype.injectToGlobal.call(this,t)},n.metaReady=function(){var e=mM().whiteList;e&&-1!==e.indexOf("eval")&&(this.global.eval=this._eval),this.global.metaReady=void 0},vs(t,[{key:"newFramework",get:function(){var e,t;return!(null==(e=this.global)||null==(t=e.window)||!t.app)||void 0!==this.global.FRAMEWORK_VERSION}}]),t}(aM),$R=["onLaunch","onShow","onHide","onUnlaunch"],YR=["onError","onLaunch","onShow","onHide","onUnlaunch"],QR=function(e){var t,n,r=this;(this.onLaunch=void 0,this.onShow=void 0,this.onHide=void 0,this.onUnlaunch=void 0,$R.forEach((function(t){r[t]=function(){var n;ps.info("App."+t+" invoked"),Reporter.__route__="App",Reporter.__method__=t;for(var o=null!=(n=e[t])?n:Sk,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return zy(o,a,{context:r,errMsg:"at App lifeCycleMethod "+t+" function"})}})),Ak(e.onError)&&Reporter.registerErrorListener(e.onError),"function"==typeof(null==e?void 0:e.onThemeChange))&&(null==(t=(n=ws().getContainer().api.exports).onThemeChange)||t.call(n,(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];zy(e.onThemeChange,n,{context:r,errMsg:"at App lifeCycleMethod onThemeChange function"})})));for(var o in e)YR.includes(o)||(Ak(e[o])?this[o]=Gy(e[o],{context:this,errMsg:"App."+o+" error"}):this[o]=kk(e[o]));!function(e){var t=mk(D_).containerEventEmitter;"function"==typeof e&&t.on(N_.ON_APP_ENTER_BACKGROUND,e)}((function(){ws().getContainer().isForeground=!1;var e=Pk();if(e.length){var t=e[e.length-1];t.onHide(),U_("onAppEnterBackground",{},[t.__webviewId__])}GC(),r.onHide()}));var i=!0;!function(e){var t=mk(D_).containerEventEmitter;"function"==typeof e&&t.on(N_.ON_APP_ENTER_FOREGROUND,e)}((function(e,t){void 0===e&&(e={}),void 0===t&&(t=!1);var n=ws().getContainer();if(n.isForeground=!0,n.flushPagesToReload(),i)return i=!1,void ps.info("onAppEnterFG 触发 app.onShow","首次调用直接忽略以保证 onShow 同步");ps.info("onAppEnterFG 触发 app.onShow",e,t?"有 applaunch 事件，不会触发页面的 onShow":""),HC(e),r.onShow(e);var o=Pk();if(!t&&o.length){var a=o[o.length-1];a.onShow(),U_("onAppEnterForeground",{},[a.__webviewId__])}if(o.length){var s,c,u=o[o.length-1].__route__;ky.build(by.openplatformMpPageView,my.mpPageView).setPlatform("Tea").addMap({page_path:u,lifecycle_id:null==(s=ws().agent.globalTrace)?void 0:s.traceId,application_id:null==(c=ws().global.TMAConfig)?void 0:c.appId}).flush()}})),this.startApp=function(){TMAConfig?(TMAConfig.launch=tt.getLaunchOptionsSync(),kO(Rm,TMAConfig.launch.path),this.onLaunch(TMAConfig.launch),kO(xm,TMAConfig.launch.path),kO(Pm,TMAConfig.launch.path),this.onShow(TMAConfig.launch),kO(Nm,TMAConfig.launch.path),HC(TMAConfig.launch)):ps.error("App Launch Error: NO Configuration.")},ws().global.snapshotLaunch||this.startApp()},XR=_k("Initializing",(function(e){KR=new QR(e)}));var ZR,ex=new JR;ZR=ex,gs&&ps.warn("重复设置 host"),gs=ZR,function(){try{ys(gs);for(var e,t=ls(_s);!(e=t()).done;){(0,e.value)(gs)}}catch(e){ps.error(e)}}();var tx=["getUpdateManager","getNfcAdapter","createCanvasContext","createSelectorQuery","IntersectionObserver","getCustomizedInput","createIntersectionObserver","createInnerAudioContext","reportAnalytics","opmonitor"],nx={},rx=Object.assign({},eM,ex.getContainer().api.exports),ox=function(e){var t=rx[e];if("function"==typeof t)if("kernel"===ex.runningSpace){var n=e.endsWith("Sync")||tx.includes(e),r=e.startsWith("on")||e.startsWith("off");nx[e]=function(o){for(var i,a=null==(i=ex.mockTTMethod)?void 0:i[e],s=function(t){var n,r=Object.assign({errMsg:e+":ok"},t);return null!=(n=r.errMsg)&&null!=n.endsWith&&n.endsWith(":ok")?"function"==typeof(null==o?void 0:o.success)&&(null==o||o.success(r)):"function"==typeof(null==o?void 0:o.fail)&&(null==o||o.fail(r)),"function"==typeof(null==o?void 0:o.complete)&&(null==o||o.complete(r)),t},c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];if("function"!=typeof a)return a?n?a:void s(a):t.apply(void 0,[o].concat(u));var f=a([o].concat(u),{origin:t,method:e});if(n)return f;r||Promise.resolve(f).then(s).catch((function(t){"function"==typeof(null==o?void 0:o.fail)&&(null==o||o.fail({errMsg:e+":fail",error:t}))}))}}else nx[e]=f_(t,"at tt."+e);else nx[e]=t};for(var ix in rx)ox(ix);return t.App=XR,t.Behavior=function(e){return new dM(e).is},t.Component=function(e){if("Object"===rb(e)){var t=new vM(e,"/"+globPageRegistPath);mk(D_).optionsStoredByRoute[globPageRegistPath]=t}else ps.warn("Component's option must be an object, see "+globPageRegistPath+".js")},t.Page=function(e){if(!globPageRegistering)throw new wk("Can not declare more than one Page in same js file, otherwise will be ignore. see "+globPageRegistPath+".js");if(globPageRegistering=!1,!function(e){if(!TMAConfig.pages||!Array.isArray(TMAConfig.pages))return!1;for(var t=0;t<TMAConfig.pages.length;t++)if(TMAConfig.pages[t]===e)return!0;return!1}(globPageRegistPath))throw new wk("Invalid path: "+globPageRegistPath+", it doesn't declared in app.json's pages attribue.");if("Object"!==rb(e))throw new wk("Page's option must be an object, see "+globPageRegistPath+".js");mk(D_).optionsStoredByRoute[globPageRegistPath]=e},t.getApp=function(){return KR},t.getCurrentPages=Pk,t.tt=nx,Object.defineProperty(t,"__esModule",{value:!0}),t}({});e.tt=e.wx=t.tt,e.App=t.App,e.Page=t.Page,e.getApp=t.getApp,e.Component=t.Component,e.Behavior=t.Behavior,e.getCurrentPages=t.getCurrentPages}("undefined"==typeof globalThis?this:globalThis);
