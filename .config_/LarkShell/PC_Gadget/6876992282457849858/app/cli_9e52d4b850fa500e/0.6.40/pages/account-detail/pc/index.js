define("pages/account-detail/pc/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,fetch,XMLHttpRequest,WebSocket,webkit,ttJSCore,Reporter,print,indexedDB){
 (tt["webpackJsonp"]=tt["webpackJsonp"]||[]).push([[7],{643:function(e,n,t){e.exports={"submenu-container":"index__submenu-container___3newf","submenu-content":"index__submenu-content___BPAxy","submenu-item":"index__submenu-item___1IOZP"}},644:function(e,n,t){e.exports={"menu-container":"index__menu-container___3b_42","menu-item":"index__menu-item___1xUNL","menu-content":"index__menu-content___2yjXc",mask:"index__mask___1wW56",text:"index__text___1fX_J",submenu:"index__submenu___1uuk-","submenu-container":"index__submenu-container___2Qj_k","arrow-before":"index__arrow-before___1UQVw","arrow-after":"index__arrow-after___2JdYM"}},645:function(e,n,t){e.exports={"footer-container":"index__footer-container___13hpU",disabled:"index__disabled___127gk"}},646:function(e,n,t){e.exports={"header-container":"index__header-container___3bS4V","in-navbar":"index__in-navbar___35NL1","main-info":"index__main-info___pdmnW","main-icon":"index__main-icon___26BeP",message:"index__message___26Fcc",name:"index__name___3vCyd","name-text":"index__name-text___2fgJC","name-text-new":"index__name-text-new___X_iAn","sub-message":"index__sub-message___S1YXT",brief:"index__brief___KNT2W",operator:"index__operator___2E3m8","operator-text":"index__operator-text___1B014","main-info-official":"index__main-info-official___35pUV"}},647:function(e,n,t){e.exports={popover:"index__popover___12vcW","menu-container":"index__menu-container___28Jie","menu-item":"index__menu-item___1bSo6",menu:"index__menu___2SL-7",icon:"index__icon___1-dtz","menu-name":"index__menu-name___3ZsF3",active:"index__active___rcnp1"}},648:function(e,n,t){e.exports={"menu-container":"index__menu-container___1soC7",disabled:"index__disabled___1FS6_"}},649:function(e,n,t){e.exports={"header-filter":"index__header-filter___3t3e5",filter:"index__filter___3EsBP",line:"index__line___AO4hO","header-container":"index__header-container___292h1","in-navbar":"index__in-navbar___3JvZQ","main-info":"index__main-info___2q_tr","main-icon":"index__main-icon___15rQt",message:"index__message___3Hqe8",name:"index__name___3z8eS","name-text":"index__name-text___Drt4h",operator:"index__operator___3W2zH","operator-text":"index__operator-text___19Ycn",popover:"index__popover___2bOoh","sub-message":"index__sub-message___37ZRz",brief:"index__brief___1Vo_T"}},650:function(e,n,t){e.exports={"normal-card":"index__normal-card___3Ftz0",items:"index__items___3Ih-8","expand-btn":"index__expand-btn___15Uw1"}},651:function(e,n,t){e.exports={"image-collapsed":"index__image-collapsed___2LR8X","image-wrapper":"index__image-wrapper____sJnt","image-wrapper-collapsed":"index__image-wrapper-collapsed___2nGWz","image-collapsed-zh":"index__image-collapsed-zh___3-ZZi","image-collapsed-en":"index__image-collapsed-en___3je4d","image-collapsed-jp":"index__image-collapsed-jp___3aB2p","rich-text-wraper":"index__rich-text-wraper___3cQWJ",selectTdClass:"index__selectTdClass___3n5k4",noBorderTable:"index__noBorderTable___3pi0K",firstRow:"index__firstRow___3bAJu","ue-table-interlace-color-single":"index__ue-table-interlace-color-single___3Xp45","ue-table-interlace-color-double":"index__ue-table-interlace-color-double___2oFVi","list-paddingleft-1":"index__list-paddingleft-1___23Kzb","list-paddingleft-2":"index__list-paddingleft-2___2PGp6","list-paddingleft-3":"index__list-paddingleft-3___-1RE4",disabledSelected:"index__disabledSelected___l0JhE","render-short-text":"index__render-short-text___39Mhr","short-text-img-collapse":"index__short-text-img-collapse___1ZHd5","rich-text-zh":"index__rich-text-zh___2EhrQ","rich-text-en":"index__rich-text-en___2rJlN","rich-text-jp":"index__rich-text-jp___3YK0t"}},652:function(e,n,t){e.exports={"image-displayer":"index__image-displayer___1AeiB",horizontal:"index__horizontal___3Yr1_",vertical:"index__vertical___r6-Hv",img:"index__img___3bypa",tag:"index__tag___3HT8s"}},653:function(e,n,t){e.exports={"text-card":"index__text-card___2thNj","text-card-content":"index__text-card-content___E9QaO",topBorder:"index__topBorder___2QMVH",title:"index__title___JUU_z","rich-text-wraper":"index__rich-text-wraper___Mw4RI","img-wraper":"index__img-wraper___1v8Z9"}},654:function(e,n,t){e.exports={divider:"index__divider___1biKJ",desc:"index__desc___1ydr0",line:"index__line___4Fw0n","open-btn":"index__open-btn___3brAt",icon:"index__icon___37e_V"}},655:function(e,n,t){e.exports={"text-msg":"index__text-msg___14Ep5","account-name":"index__account-name___35WXJ",isAfterRecall:"index__isAfterRecall___1sE_r",isBeforeRecall:"index__isBeforeRecall___WXUVr"}},656:function(e,n,t){e.exports={"feed-item":"index__feed-item___3UfbI",line:"index__line___3ZScj"}},657:function(e,n,t){e.exports={"scroll-container":"index__scroll-container___3h4Vx","scroll-content":"index__scroll-content___oZwzQ","scroll-container-new":"index__scroll-container-new___2diQC",feed:"index__feed___2LBuf",mt:"index__mt____lZ04","recommend-header-new":"index__recommend-header-new___1qVrX",card:"index__card___3BHFt","recommend-header":"index__recommend-header___2nTuw","no-more":"index__no-more___1JmYF",loading:"index__loading___3d3h9","feed-list":"index__feed-list___3I8P-","folder-list":"index__folder-list___20-eK",time:"index__time___1BweJ",text:"index__text___iVqgC","load-history":"index__load-history___293di",icon:"index__icon___1ySdS",empty:"index__empty___1pETt",image:"index__image___1ml2y"}},658:function(e,n,t){e.exports={"scroll-container":"index__scroll-container___1ajjE",folder:"index__folder___3axyX","scroll-container-new":"index__scroll-container-new___yXGEY","scroll-content":"index__scroll-content___35hzl","scroll-content-new":"index__scroll-content-new___3-Jxy",mt:"index__mt___MrbE8",card:"index__card___2oO65",time:"index__time___1gayT",text:"index__text___1Fzjb","feed-item":"index__feed-item___tWorO","no-more":"index__no-more___1YA_s",loading:"index__loading___1DJ4M",empty:"index__empty___2QKq3",image:"index__image___104UQ"}},659:function(e,n,t){e.exports={"account-detail-page":"index__account-detail-page___84TEg",body:"index__body___2-m_j","hack-header-border":"index__hack-header-border___2nCGf",header:"index__header___19Vgu","in-feed":"index__in-feed___1-5kn","new-header":"index__new-header___3zspQ","canvas-wrapper":"index__canvas-wrapper___1mmt8"}},666:function(e,n,t){"use strict";t.r(n);var c=t(23),i=t(10),_=t(11),a=t.n(_),o=t(2),r=t(1),s=t(13),d=t.n(s),l=t(188),u=t(48),x=t(177),m=t(4),b=t(26),j=t(28),f=t(44),p=t(45),O=t(21),h=t.n(O),g=t(8),v=t(3),w=t(51),y=t(27),N=Object(o["createContext"])({accountId:"",userAccount:{},show:!1,hasMenu:!1,setShow:y["noop"]}),T=N,I=(t(643),t(0));var C=function(e){var n=e.menus,t=Object(o["useContext"])(T),c=t.accountId;return Object(I["jsx"])(r["n"],{className:"index__submenu-container___3newf",children:n.map((function(e){return Object(I["jsx"])(r["n"],{className:"index__submenu-item___1IOZP",onClick:function(){Object(w["a"])(e.contentType,{target:e.menuContent,accountId:c,SubMenuName:Object(v["b"])(e.name)}),Object(g["Q"])(g["b"],{id:e.id,superId:c,name:Object(v["b"])(e.name),type:"".concat(e.contentType)})},children:Object(I["jsx"])(r["n"],{className:"index__submenu-content___BPAxy",style:{cursor:"pointer"},children:Object(v["b"])(e.name)})},e.id)}))})},k=C,S=(t(644),{"./index.less":{"menu-container":"index__menu-container___3b_42","menu-item":"index__menu-item___1xUNL","menu-content":"index__menu-content___2yjXc",mask:"index__mask___1wW56",text:"index__text___1fX_J",submenu:"index__submenu___1uuk-","submenu-container":"index__submenu-container___2Qj_k","arrow-before":"index__arrow-before___1UQVw","arrow-after":"index__arrow-after___2JdYM","in-ipx":"index__in-ipx___1oFfl"}});var F="8px",M=function(e,n){return e?{left:"".concat(e-n,"px")}:{}},A=function(e){Object(f["a"])(t,e);var n=Object(p["a"])(t);function t(e){var c;return Object(b["a"])(this,t),c=n.call(this,e),c.state={showId:null,submenuOffset:[],arrowOffset:[],computeSubmenuOffset:!1},c}return Object(j["a"])(t,[{key:"onMenuItemClick",value:function(e){var n=this.context.setShow;n(!0),this.setState({showId:e.id})}},{key:"computeSubmenuOffset",value:function(){var e=this,n=h.a.createSelectorQuery(),t=null,c=[],i=[];n.select("#menu-container").boundingClientRect((function(e){t=e}));var _=this.props.menus;_.forEach((function(e,t){var _=e.subMenus&&e.subMenus.length>0;_&&(n.select(".submenu-container-".concat(t)).boundingClientRect((function(e){c[t]=e})),n.select(".menu-item-".concat(t)).boundingClientRect((function(e){i[t]=e})))})),n.exec((function(){if(t){var n=t.left,_=t.right,a=[],o=c.map((function(e,t){if(!e)return 0;var c=0;return e.left-5<n?c=5:+e.right+5>_&&(c=2*(_-e.right)-5),c&&(a[t]=i[t].width/2-c),c}));e.setState({submenuOffset:o,arrowOffset:a})}}))}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){var e=this,n=this.state.computeSubmenuOffset;n||(this.computeSubmenuOffset(),this.setState({computeSubmenuOffset:!0})),setTimeout((function(){var n=e.context.show,t=e.state.showId;!n&&t&&e.setState({showId:null})}))}},{key:"render",value:function(){var e=this,n=this.props,t=n.menus,c=n.isIphoneX,i=this.state,_=i.showId,o=i.submenuOffset,s=i.arrowOffset,d=this.context.accountId;return Object(I["jsx"])(r["n"],{id:"menu-container",className:a()("menu-container ".concat(c?"in-ipx":""),S),children:t.map((function(n,t){var c=n.subMenus&&n.subMenus.length>0,i={};return o[t]&&(i.left="".concat(o[t],"px")),n.id===_&&(i.bottom=F),Object(I["jsxs"])(r["n"],{className:"menu-item-".concat(t)+" index__menu-item___1xUNL",children:[c&&Object(I["jsx"])(r["n"],{className:"index__submenu___1uuk-",children:Object(I["jsxs"])(r["n"],{className:"submenu-container-".concat(t)+" index__submenu-container___2Qj_k",style:i,children:[Object(I["jsx"])(k,{menus:n.subMenus}),Object(I["jsx"])(r["n"],{className:"index__arrow-before___1UQVw",style:M(s[t],5)}),Object(I["jsx"])(r["n"],{className:"index__arrow-after___2JdYM",style:M(s[t],4)})]})}),Object(I["jsxs"])(r["n"],{className:"index__menu-content___2yjXc",onClick:function(t){c&&e.onMenuItemClick(n),c&&_!==n.id||e.setState({showId:null}),c||Object(w["a"])(n.contentType,{target:n.menuContent,accountId:d,ParentMenuName:Object(v["b"])(n.name)}),t.stopPropagation();var i={id:n.id,superId:d,name:Object(v["b"])(n.name),flag:+c};c||(i.type="".concat(n.contentType)),Object(g["Q"])(g["a"],i)},style:{cursor:"pointer"},children:[c&&Object(I["jsx"])(r["n"],{className:"iconfont icon-menu-more"}),Object(I["jsx"])(r["n"],{className:"index__text___1fX_J",children:Object(v["b"])(n.name)}),Object(I["jsx"])(r["n"],{className:"index__mask___1wW56"})]})]},n.id)}))})}}]),t}(o["Component"]);Object(m["a"])(A,"options",{addGlobalClass:!0}),Object(m["a"])(A,"defaultProps",{menus:[]}),Object(m["a"])(A,"contextType",T);var R,B=A,D=t(14),z=t(5),H=(t(645),{"./index.less":{"footer-container":"index__footer-container___13hpU",disabled:"index__disabled___127gk","in-ipx":"index__in-ipx___9-4sZ"}});var E,J,L=(R={},Object(m["a"])(R,z["u"].AccountDisable,Object(v["e"])("ArticleDetail_AccountShutdown")),Object(m["a"])(R,z["u"].AccountVisitorForbidden,Object(v["e"])("AccountDetail_Invisible")),R),Q=function(e){var n=e.menus,t=e.errorType,c=Object(D["f"])(),i=c.data.isIPhoneX;return t!==z["u"].None?Object(I["jsx"])(r["n"],{className:a()("footer-container ".concat(i?"in-ipx":""),H),children:Object(I["jsx"])(r["n"],{className:"index__disabled___127gk",children:L[t]})}):n.length>0?Object(I["jsx"])(r["n"],{className:a()("footer-container ".concat(i?"in-ipx":""),H),children:Object(I["jsx"])(B,{menus:n,isIphoneX:i})}):null},U=Q,P=t(65),W=t(214),V=t(215),X=t(94),q=t(53),Z=(t(646),{"./index.less":{"header-container":"index__header-container___3bS4V","in-navbar":"index__in-navbar___35NL1","main-info":"index__main-info___pdmnW","main-icon":"index__main-icon___26BeP",message:"index__message___26Fcc",name:"index__name___3vCyd","name-text":"index__name-text___2fgJC","name-text-new":"index__name-text-new___X_iAn","sub-message":"index__sub-message___S1YXT",brief:"index__brief___KNT2W",operator:"index__operator___2E3m8","operator-text":"index__operator-text___1B014","main-info-official":"index__main-info-official___35pUV"}});var Y=Object(v["d"])(),K=(E={},Object(m["a"])(E,z["j"].Forced,Object(v["e"])("AccountDetail_FollowForce")),Object(m["a"])(E,z["j"].Normal,Object(v["e"])("AccountList_Followed")),Object(m["a"])(E,z["j"].Recommend,Object(v["e"])("AccountDetail_FollowCancel")),Object(m["a"])(E,z["j"].None,Object(v["e"])("AccountDetail_Follow")),E),G=(J={},Object(m["a"])(J,z["j"].Forced,Object(v["e"])("Account_ForcefollowTooltip")),Object(m["a"])(J,z["j"].Recommend,Object(v["e"])("Account_RecommandedfollowTooltip")),J),$=function(e){var n=e.accountDetail,t=e.changeFollowType,c=e.inNavbar,_=Object(q["a"])(n,t,void 0,q["b"],"account_detail"),s=_.following,l=_.toggleFollowType,u=Object(o["useState"])(Object(v["e"])("AccountList_Followed")),x=Object(i["a"])(u,2),m=x[0],b=x[1],j=Object(v["b"])(n.desc,Y).replace(/\n/g," "),f=Object(D["b"])(),p=f.data.newHome,O=n.followType===z["j"].Normal||n.followType===z["j"].Recommend,h=n.followType===z["j"].Forced,g=G[n.followType],y=Object(I["jsx"])(W["a"],{onClick:l,loading:s,type:O||h?"secondary":"secondary-primary",disabled:h,icon:n.followType===z["j"].None?"add_outlined":"",size:"small",style:{minWidth:"72px"},children:O?m:K[n.followType]}),N=n.ownership.type;return Object(I["jsxs"])(r["n"],{className:a()(d()("header-container",{"in-navbar":c}),Z),children:[Object(I["jsxs"])(r["n"],{className:a()(d()("main-info",{"main-info-official":p}),Z),children:[Object(I["jsx"])(r["n"],{className:"index__main-icon___26BeP",onClick:function(){return Object(w["b"])(n)},children:Object(I["jsx"])(X["a"],{size:p?36:40,src:n.avatar,preview:!1})}),Object(I["jsxs"])(r["n"],{className:"index__message___26Fcc",children:[Object(I["jsxs"])(r["n"],{className:"index__name___3vCyd",children:[Object(I["jsx"])(r["k"],{selectable:!0,className:"index__name-text___2fgJC",onClick:function(){return Object(w["b"])(n)},children:Object(v["b"])(n.name,Y)}),!p&&Object(I["jsx"])(P["a"],{type:N})]}),j&&Object(I["jsxs"])(r["n"],{className:"index__sub-message___S1YXT",children:[Object(I["jsx"])(r["n"],{className:"index__brief___KNT2W",onClick:function(){return Object(w["b"])(n)},children:Object(I["jsx"])(r["k"],{selectable:!0,children:j})}),Object(I["jsx"])(r["n"],{className:"iconfont icon-arrow-right",onClick:function(){return Object(w["b"])(n)}})]})]})]}),!c&&Object(I["jsx"])(r["n"],{className:"index__operator___2E3m8",onMouseOver:function(){s||b(Object(v["e"])("AccountDetail_FollowCancel"))},onMouseOut:function(){b(Object(v["e"])("AccountList_Followed"))},children:g?Object(I["jsx"])(V["a"],{text:g,placement:"left",children:y}):y})]})},ee=$,ne=t(78),te=t(69),ce=t(6),ie=t(149),_e=t(25),ae=t(108),oe=t(18),re=t(133),se=(t(647),{"./index.less":{popover:"index__popover___12vcW","menu-container":"index__menu-container___28Jie","menu-item":"index__menu-item___1bSo6",menu:"index__menu___2SL-7",icon:"index__icon___1-dtz","menu-name":"index__menu-name___3ZsF3",active:"index__active___rcnp1"}});var de,le=function(e){var n=e.menus,t=e.isIphoneX,c=e.accountId,_=e.style,o=void 0===_?{}:_,s=Object(_e["d"])({}),l=Object(i["a"])(s,2),u=l[0],x=l[1],b=function(e){switch(e){case z["p"].RedirectContent:return"doc_outlined";case z["p"].RedirectUrl:return"link-copy_outlined";case z["p"].ServiceCenter:return"robot_outlined";default:return""}};return Object(I["jsx"])(r["n"],{style:o,className:a()("menu-container ".concat(t?"in-ipx":""),se),children:n.map((function(e){var n=e.subMenus&&e.subMenus.length>0,t=e.subMenus.map((function(n){return{text:Object(v["b"])(n.name),onClick:function(){Object(w["a"])(n.contentType,{target:n.menuContent,accountId:c,SubMenuName:Object(v["b"])(n.name)})},icon:b(e.contentType)}}));return Object(I["jsx"])(r["n"],{onMouseEnter:function(){return n&&x(Object(m["a"])({},e.id,!0))},onMouseLeave:function(){return n&&x(Object(m["a"])({},e.id,!1))},className:a()(d()("menu-item",{active:!n}),se),children:Object(I["jsx"])(ie["a"],{visible:u[e.id]||!1,content:Object(I["jsx"])(re["a"],{itemStyle:{padding:"4px 8px"},menus:t}),needArrow:!1,overlay:!1,offset:[0,-12],className:"index__popover___12vcW",children:Object(I["jsxs"])(r["n"],{className:"index__menu___2SL-7",onClick:function(){n||Object(w["a"])(e.contentType,{target:e.menuContent,accountId:c,ParentMenuName:Object(v["b"])(e.name)})},children:[Object(I["jsx"])(ae["a"],{name:n?"menu_outlined":b(e.contentType),size:14,style:{marginRight:"6px",verticalAlign:"text-bottom",color:Object(oe["a"])("icon-n2"),marginBlock:"1px"}}),Object(I["jsx"])(r["k"],{className:"index__menu-name___3ZsF3",children:Object(v["b"])(e.name)})]},e.id)})},e.id)}))})},ue=le,xe=(t(648),{"./index.less":{"menu-container":"index__menu-container___1soC7",disabled:"index__disabled___1FS6_","in-ipx":"index__in-ipx___2pT1p"}});var me,be,je=(de={},Object(m["a"])(de,z["u"].AccountDisable,Object(v["e"])("ArticleDetail_AccountShutdown")),Object(m["a"])(de,z["u"].AccountVisitorForbidden,Object(v["e"])("AccountDetail_Invisible")),de),fe=function(e){var n=e.menus,t=e.errorType,c=e.accountId,i=e.style,_=Object(D["f"])(),o=_.data.isIPhoneX;return t!==z["u"].None?Object(I["jsx"])(r["n"],{className:a()("menu-container ".concat(o?"in-ipx":""),xe),children:Object(I["jsx"])(r["n"],{className:"index__disabled___1FS6_",children:je[t]})}):n.length>0?Object(I["jsx"])(r["n"],{className:a()("menu-container ".concat(o?"in-ipx":""),xe),children:Object(I["jsx"])(ue,{menus:n,isIphoneX:o,accountId:c,style:i})}):null},pe=fe,Oe=t(173),he=(t(649),{"./index.less":{"header-filter":"index__header-filter___3t3e5",filter:"index__filter___3EsBP",line:"index__line___AO4hO","header-container":"index__header-container___292h1","in-navbar":"index__in-navbar___3JvZQ","main-info":"index__main-info___2q_tr","main-icon":"index__main-icon___15rQt",message:"index__message___3Hqe8",name:"index__name___3z8eS","name-text":"index__name-text___Drt4h",operator:"index__operator___3W2zH","operator-text":"index__operator-text___19Ycn",popover:"index__popover___2bOoh","sub-message":"index__sub-message___37ZRz",brief:"index__brief___1Vo_T"}});var ge=Object(v["d"])(),ve=(me={},Object(m["a"])(me,z["j"].Forced,Object(v["e"])("AccountDetail_FollowForce")),Object(m["a"])(me,z["j"].Normal,Object(v["e"])("AccountList_Followed")),Object(m["a"])(me,z["j"].Recommend,Object(v["e"])("AccountDetail_FollowCancel")),Object(m["a"])(me,z["j"].None,Object(v["e"])("AccountDetail_Follow")),me),we=(be={},Object(m["a"])(be,z["j"].Forced,Object(v["e"])("Account_ForcefollowTooltip")),Object(m["a"])(be,z["j"].Recommend,Object(v["e"])("Account_RecommandedfollowTooltip")),be),ye=function(e){var n=e.accountDetail,t=e.changeFollowType,c=e.inNavbar,_=e.menus,s=e.errorType,l=e.accountId,u=Object(q["a"])(n,t,void 0,q["b"],"account_detail"),x=u.following,m=u.toggleFollowType,b=Object(D["f"])(),j=b.data,f=j.isFeedMode,p=j.isWindow,O=Object(o["useMemo"])((function(){return Object(te["b"])(f?"feed":p?"window":"appCenter")}),[f,p]),h=Object(Oe["a"])(n),g=h.menus,y=Object(o["useState"])(Object(v["e"])("AccountList_Followed")),N=Object(i["a"])(y,2),T=N[0],C=(N[1],Object(o["useState"])(!1)),k=Object(i["a"])(C,2),S=k[0],F=k[1],M=Object(v["b"])(n.desc,ge).replace(/\n/g," "),A=n.followType===z["j"].Normal||n.followType===z["j"].Recommend,R=n.followType===z["j"].Forced,B=we[n.followType],H=Object(I["jsx"])(W["a"],{onClick:m,loading:x,type:A||R?"secondary":"primary",disabled:R,icon:n.followType===z["j"].None?"add_outlined":"",size:"middle",style:{minWidth:"82px",borderRadius:"6px",minHeight:"32px",padding:"0 5px"},children:A?T:ve[n.followType]}),E=Object(o["useMemo"])((function(){return{"--theme-bgimg":"url(".concat(n.avatar,")")}}),[n]);return Object(I["jsxs"])(r["n"],{children:[Object(I["jsx"])(r["n"],{className:"index__header-filter___3t3e5",style:E,children:Object(I["jsx"])(r["n"],{className:"index__filter___3EsBP",style:Object(ce["a"])({paddingTop:O},E),children:Object(I["jsxs"])(r["n"],{className:a()(d()("header-container",{"in-navbar":c}),he),children:[Object(I["jsxs"])(r["n"],{className:"index__main-info___2q_tr",children:[n.avatar&&Object(I["jsx"])(r["n"],{className:"index__main-icon___15rQt",onClick:function(){return Object(w["b"])(n)},children:Object(I["jsx"])(X["a"],{size:48,src:n.avatar,preview:!1})}),Object(I["jsx"])(r["n"],{className:"index__message___3Hqe8",children:Object(I["jsx"])(r["n"],{className:"index__name___3z8eS",children:Object(I["jsx"])(r["k"],{selectable:!0,className:"index__name-text___Drt4h",onClick:function(){return Object(w["b"])(n)},children:Object(v["b"])(n.name,ge)})})}),!c&&Object(I["jsx"])(r["n"],{children:Object(I["jsxs"])(r["n"],{className:"index__operator___3W2zH",children:[B?Object(I["jsx"])(V["a"],{text:B,placement:"left",children:H}):H,Object(I["jsx"])(r["n"],{onMouseEnter:function(){return F(!0)},onMouseLeave:function(){return F(!1)},children:Object(I["jsx"])(ie["a"],{visible:S,content:Object(I["jsx"])(re["a"],{menus:g}),needArrow:!1,overlay:!1,offset:[0,-12],className:"index__popover___2bOoh",children:Object(I["jsx"])(W["a"],{type:"secondary-primary",icon:"forward_outlined",size:"middle",style:{borderRadius:"6px",height:"32px",minHeight:"32px",minWidth:"82px",padding:"0 5px"},children:Object(v["e"])("AccountDetail_Share")})})})]})})]}),M&&Object(I["jsxs"])(r["n"],{className:"index__sub-message___37ZRz",children:[Object(I["jsx"])(r["n"],{className:"index__brief___1Vo_T",onClick:function(){return Object(w["b"])(n)},children:Object(I["jsx"])(r["k"],{selectable:!0,children:M})}),Object(I["jsx"])(r["n"],{className:"iconfont icon-arrow-right",onClick:function(){return Object(w["b"])(n)}})]}),!!_&&Object(I["jsx"])(pe,{menus:_,errorType:s,accountId:l})]})})}),Object(I["jsx"])(r["n"],{className:"index__line___AO4hO"})]})},Ne=ye,Te=t(7),Ie=t.n(Te),Ce=t(12),ke=t(123),Se=t(38),Fe=t(81),Me=t(29),Ae=t(32),Re=t(15),Be=t(9),De=t(95),ze=t(17),He=t(19),Ee=t(80),Je=t(43),Le=t(172),Qe=t(122);function Ue(e){var n=e.accountId,t=e.enable,c=e.hasMenu,_=e.trace,a=Object(D["f"])(),r=a.data,s=r.isIPhoneX,d=r.isPC,l=Object(_e["d"])({scrollTop:0,showScrollTop:!1,unreadNum:0,feeds:[],loading:!1,error:!1,inited:!1,hasMore:!1,loadingMode:z["l"].History,autoLoadFolders:!1}),u=Object(i["a"])(l,2),x=u[0],m=x.scrollTop,b=x.showScrollTop,j=x.feeds,f=x.loadingMode,p=x.loading,h=x.error,g=x.inited,v=x.unreadNum,w=x.hasMore,y=x.autoLoadFolders,N=u[1],T=function(){var e=Object(Ce["a"])(Ie.a.mark((function e(t){var c,i,a,o,r,s,d,l,u;return Ie.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=t.mode,i=Re["b"].getTrace(_),!p&&(c!==z["l"].History||w)){e.next=4;break}return e.abrupt("return");case 4:if(N({loading:!0,error:!1,loadingMode:c}),a=function(){var e=Object(Ce["a"])(Ie.a.mark((function e(){var t,i,_,a;return Ie.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He["a"].getAccountFeeds({accountId:n,mode:c,num:20,newestMessageTime:c==z["l"].New?null===(t=j[0])||void 0===t?void 0:t.messageTime:0,oldestMessageTime:c==z["l"].History?null===(i=j[j.length-1])||void 0===i?void 0:i.messageTime:0});case 2:return _=e.sent,a=_.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(e,t){if(c==z["l"].History)N({feeds:[].concat(Object(ze["a"])(j),Object(ze["a"])(e.feeds)),hasMore:e.hasMore,autoLoadFolders:!e.hasMore});else if(c===z["l"].New){var i=[].concat(Object(ze["a"])(e.feeds),Object(ze["a"])(j)),_=e.feeds.length>0?Math.max(v-e.feeds.length,0):0;N({feeds:i,unreadNum:_>0?_:0}),Object(Le["a"])(Object(Je["g"])(n),i)}else c===z["l"].Refresh&&N({feeds:e.feeds,hasMore:e.hasMore,autoLoadFolders:!t&&!e.hasMore})},e.prev=7,c!==z["l"].Refresh){e.next=20;break}return r=new Ee["a"]({key:Object(Je["g"])(n),dataType:"object",enableRefreshCache:!0,refreshDelay:0,doMain:Je["c"],fetchData:a}),Object(Re["c"])("officialGetFeedsStart",{},i),e.next=13,r.getData({},(function(e){o(e,l)}));case 13:s=e.sent,d=s.data,l=s.isCache,l?Object(Re["c"])("officialGetCacheFeedsSuccess",{},i):Object(Re["c"])("officialGetFeedsSuccess",{},i),o(d),e.next=24;break;case 20:return e.next=22,a();case 22:u=e.sent,o(u);case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](7),N({error:!0});case 29:N({loading:!1});case 30:case"end":return e.stop()}}),e,null,[[7,26]])})));return function(n){return e.apply(this,arguments)}}(),I=Object(_e["a"])((function(){He["a"].getAccountLatestIndex({accountId:n}).then((function(e){var n,t=e.data,c=(null===(n=j[0])||void 0===n?void 0:n.incrementIndex)||0;t.latestIndex>c&&N({unreadNum:+t.latestIndex-+c})}))})),C=Object(Qe["a"])(I,1e4),k=Object(i["a"])(C,2),S=k[0],F=k[1];Object(O["useDidShow"])((function(){g&&t&&S()})),Object(O["useDidHide"])((function(){F()}));var M=function(){T({mode:z["l"].Refresh}).then((function(){N({inited:!0}),setTimeout((function(){S()}),1e4)}))};Object(o["useEffect"])((function(){if(t)return M(),function(){F()}}),[]);var A=Object(o["useMemo"])((function(){if(d){var e=30;return c&&(e+=40),e}var n=24;return c&&(n+=50),s&&(n+=34),n}),[d,s,c]),R=function(){return T({mode:z["l"].History})};return{feeds:j,loading:p,error:h,hasMore:w,unreadNum:v,loadingMode:f,accountId:n,toTopBottom:A,scrollTop:m,showScrollTop:b,initLoading:p&&f===z["l"].Refresh,initError:h&&f===z["l"].Refresh,autoLoadFolders:y,setState:N,loadMore:R,loadNew:function(){return T({mode:z["l"].New})},startPoll:S,endPoll:F,retry:M}}function Pe(e){var n=e.autoLoadFolders,t=Object(o["useState"])(!1),c=Object(i["a"])(t,2),_=c[0],a=c[1],r=Object(o["useState"])(!1),s=Object(i["a"])(r,2),d=s[0],l=s[1],u=Object(o["useState"])([]),x=Object(i["a"])(u,2),m=x[0],b=x[1],j=function(){return a(!0),He["a"].getAccountFolders(Object(ce["a"])(Object(ce["a"])({},e),{},{size:50})).then((function(e){b(e.data.folders)})).finally((function(){a(!1),l(!0)}))};return Object(o["useEffect"])((function(){n&&j()}),[n]),[{folders:m,loading:_,loaded:d},{load:j}]}var We=t(24),Ve="DETAIL_CANVAS",Xe=function(){var e=Object(O["useRouter"])(),n=e.params,t=n.id,c=void 0===t?"":t,_=n.appEnv,a=n.from,r=void 0===a?"":a,s=Object(o["useState"])(!1),d=Object(i["a"])(s,2),l=d[0],u=d[1],x=Number(_),b=Object(D["b"])(),j=b.data.newHome,f=x===Me["a"].official,p=Object(o["useMemo"])((function(){return{trace:Re["b"].getTrace(Re["a"])}}),[]),h=Object(o["useRef"])(!1),w=Object(D["f"])(),y=w.data,N=y.isFeedMode,T=y.isWindow,I=Object(o["useMemo"])((function(){return Object(te["b"])(N?"feed":T?"window":"appCenter")}),[N,T]);Object(o["useEffect"])((function(){if(f){var e;Object(Re["c"])("officialInitStart",{},p.trace),Object(g["Q"])("subscription_mp_mainpage_view",(e={},Object(m["a"])(e,"time_stay",0),Object(m["a"])(e,"subscription_account_id",c),Object(m["a"])(e,"main_account_type",2),Object(m["a"])(e,"is_new_home",String(j)),e));var n=setTimeout((function(){var e;Object(g["Q"])("subscription_mp_mainpage_view",(e={},Object(m["a"])(e,"time_stay",1),Object(m["a"])(e,"subscription_account_id",c),Object(m["a"])(e,"main_account_type",2),Object(m["a"])(e,"is_new_home",String(j)),e))}),1e3),t=setTimeout((function(){var e;Object(g["Q"])("subscription_mp_mainpage_view",(e={},Object(m["a"])(e,"time_stay",3),Object(m["a"])(e,"subscription_account_id",c),Object(m["a"])(e,"main_account_type",2),Object(m["a"])(e,"is_new_home",String(j)),e))}),3e3);return function(){n&&clearTimeout(n),t&&clearTimeout(t)}}Object(Re["c"])("accountDetailInitStart",{},p.trace);var i=Object(Se["b"])();Fe["a"].enterFromCard(i&&i.mode||"")}),[]);var C=Object(De["b"])({isOfficial:f,trace:p.trace}),k=C.userAccount,S=C.accountDisabledText,F=C.loading,M=C.error,A=C.accountStatus,R=C.errorType,B=C.retry,H=C.changeFollowType;Object(o["useEffect"])((function(){var e;k&&!h.current&&(h.current=!0,f?(Object(Re["c"])("officialInitSuccess",{},p.trace),Re["b"].reportTTI()):(Object(g["Q"])("subscription_mp_account_mainpage_view",(e={from:r||"other"},Object(m["a"])(e,"subscription_account_id",k.accountBaseInfo.id),Object(m["a"])(e,"main_account_type",Object(Ae["b"])(k.accountBaseInfo.accountType)),Object(m["a"])(e,"is_new_home",j),e)),Object(Re["c"])("accountDetailInitSuccess",{},p.trace)))}),[k,f]);var E=Ue({enable:f,accountId:c,hasMenu:!(null===k||void 0===k||!k.menus.length),trace:p.trace}),J=E.initError,L=E.initLoading,Q=E.retry,U=function(e){u(e.detail.scrollTop>I/2.3)},P=function(){u(!1)},W=Object(ke["a"])({account:k?k.accountBaseInfo:null,canvasId:Ve,appEnv:x}),V=W.disabled,X=W.share,q=function(){var e=Object(Ce["a"])(Ie.a.mark((function e(){var n;return Ie.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:return Object(g["Q"])("subscription_mp_mainpage_top_click",(n={click:"click_share_account",target:"none"},Object(m["a"])(n,"main_account_type",x),Object(m["a"])(n,"is_new_home",String(j)),n)),Object(We["a"])({click:"click_cpoy_account_link",subscriptionAccountId:c}),e.next=6,Be["a"].setClipboardData({data:k.accountBaseInfo.link||""});case 6:Be["a"].showToast({title:Object(v["e"])("ArticleDetail_CopySuccess")});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z={udIcon:"forward_outlined",hoverText:Object(v["e"])("AccountDetail_Share"),position:"right",onClick:X,disabled:V},Y={udIcon:"link-copy_outlined",hoverText:Object(v["e"])("AccountDetail_CopyLink"),position:"right",onClick:q,disabled:V},K=Object(o["useRef"])(null),G=function(){var e;return null===(e=K.current)||void 0===e?void 0:e.retry()},$=Object(o["useMemo"])((function(){return!S&&!(!S&&R!==z["u"].None)}),[S,R]),ee=function(){return $&&f?[Z]:$&&!j?[Y,Z]:l&&$&&!f&&j?[Z]:[]};return{ref:K,accountId:c,userAccount:k,loading:F||L,error:M||J,shareIcon:Z,linkIcon:Y,accountDisabledText:S,isInOfficialEnv:f,feedsContext:E,accountStatus:A,errorType:R,showCustomIcons:$,changeFollowType:H,rightIcon:ee,newHome:j,showNavbar:l,onFolderScroll:U,onFolderScrollToUpper:P,showNavbarHeight:I/2.3,retry:function(){B(),f?Q():G()}}},qe=Xe,Ze=t(37),Ye=t(178),Ke=t(89),Ge=t(98),$e=t(191);t(650);var en=function(e){var n=Object(Ye["a"])(e),t=n.topArticle,c=n.singleArticle,i=n.restArticles,_=n.showExpandBtn,a=n.articles,o=n.expandNum,s=n.onExpandClick,d=n.firstTeaParams;return Object(I["jsxs"])(r["n"],{className:"index__normal-card___3Ftz0",children:[t&&Object(I["jsx"])($e["a"],{params:d,articleItem:t,singleArticle:1===a.length,onClick:function(){Object(Ke["a"])(t,0,e),d["click"]="content",Object(We["c"])(d)}}),!c&&Object(I["jsxs"])(r["n"],{className:"index__items___3Ih-8",children:[i.map((function(n,t){var c=Object(ce["a"])({},d);return c["click"]="content",c["index"]=(t+1).toString(),c["article"]=n,c["content_sub_type"]=Object(Ae["a"])(n.articleType),Object(I["jsx"])(Ge["a"],{articleItem:n,params:c,onClick:function(){Object(Ke["a"])(n,t+1,e),Object(We["c"])(c)}},t)})),_&&Object(I["jsxs"])(r["n"],{className:"index__expand-btn___15Uw1",onClick:s,children:[Object(I["jsx"])(r["k"],{children:Object(v["e"])("Common_RestMore",{num:a.length-(o||0)})}),Object(I["jsx"])(r["n"],{className:"iconfont icon-arrow-expand"})]})]})]})},nn=en,tn=t(180),cn=t(100),_n=t(73),an=t(181),on=(t(651),{"./index.less":{"rich-text-wraper":"index__rich-text-wraper___3cQWJ",disabledSelected:"index__disabledSelected___l0JhE","render-short-text":"index__render-short-text___39Mhr","short-text-img-collapse":"index__short-text-img-collapse___1ZHd5","rich-text-zh":"index__rich-text-zh___2EhrQ","rich-text-en":"index__rich-text-en___2rJlN","rich-text-jp":"index__rich-text-jp___3YK0t"}});function rn(e){var n,t=e.nodes,c=e.previewImg,i=void 0===c||c,_=e.clickReport,s=e.articleId,l=e.onClick,u=void 0===l?function(e,n){return Object(cn["a"])(e,{previewImg:i,imgList:n,clickReport:_,articleId:s})}:l,x=e.style,b=e.disabledSelected,j=void 0!==b&&b,f=e.needProcessTag,p=void 0!==f&&f,O=e.needProcessAtTag,h=void 0!==O&&O,g=e.forShortText,w=void 0!==g&&g,y=e.shortTextImgCollapse,N=void 0!==y&&y,T=Object(o["useMemo"])((function(){return an["a"][Object(v["d"])()]}),[]),C=Object(tn["a"])(t);return Object(I["jsx"])(r["n"],{className:a()(d()("rich-text-wraper",T,(n={disabledSelected:j},Object(m["a"])(n,"render-short-text",w),Object(m["a"])(n,"short-text-img-collapse",N),n)),on),children:Object(I["jsx"])(r["h"],{nodes:p?Object(_n["b"])(t):h?Object(_n["a"])(t):t,enhanced:!0,style:x,onRichTextClick:function(e){u(e,C)}})})}var sn=rn,dn=t(101),ln=t(182),un=(t(652),{"./index.less":{"image-displayer":"index__image-displayer___1AeiB",horizontal:"index__horizontal___3Yr1_",vertical:"index__vertical___r6-Hv",img:"index__img___3bypa",tag:"index__tag___3HT8s"}});function xn(e){var n=Object(ln["a"])(e),t=n.imgInfo,c=t.displayHeight,i=t.displayWidth,_=t.isHorizontal,o=n.url,s=n.onImageClick,l=n.tag;return Object(I["jsxs"])(r["n"],{className:a()(d()("image-displayer",{horizontal:_,vertical:!_}),un),children:[Object(I["jsx"])(r["d"],{className:"index__img___3bypa",src:o,lazyLoad:!0,onClick:s,style:{width:"".concat(2*i,"rpx"),height:"".concat(2*c,"rpx")}}),!!l&&Object(I["jsx"])(r["n"],{className:"index__tag___3HT8s",children:l})]})}var mn=xn,bn=t(183),jn=(t(653),{"./index.less":{"text-card":"index__text-card___2thNj","text-card-content":"index__text-card-content___E9QaO",topBorder:"index__topBorder___2QMVH",title:"index__title___JUU_z","rich-text-wraper":"index__rich-text-wraper___Mw4RI","img-wraper":"index__img-wraper___1v8Z9"}});var fn=300;function pn(e){var n=e.needTopBorder,t=void 0!==n&&n,c=Object(bn["a"])(e),i=c.articleId,_=c.onGetDomRect,o=c.onExpandClick,s=c.isOfficial,l=c.instanceId,u=c.onClick,x=c.onRichTextClick,m=c.title,b=c.nodes,j=c.images;return Object(I["jsxs"])(r["n"],{className:"index__text-card___2thNj",children:[Object(I["jsx"])(r["n"],{className:a()(d()("",{topBorder:t}),jn)}),Object(I["jsx"])(dn["a"],{maxHeight:fn,initOpen:!e.isRead,contentId:l,disabled:s,addActiveStyle:!0,onGetContentDomRect:_,onExpand:o,onClick:u,children:Object(I["jsxs"])(r["n"],{id:l,className:"index__text-card-content___E9QaO",children:[Object(I["jsx"])(r["n"],{className:"index__title___JUU_z",children:m}),Object(I["jsx"])(r["n"],{className:"index__rich-text-wraper___Mw4RI",onClick:function(e){return e.stopPropagation()},children:Object(I["jsx"])(sn,{articleId:i,nodes:b,onClick:x,disabledSelected:!0,style:{fontSize:"16px",lineHeight:"24px"},needProcessAtTag:!0,forShortText:!0,shortTextImgCollapse:!0})}),(null===j||void 0===j?void 0:j.length)>0?Object(I["jsx"])(r["n"],{className:"index__img-wraper___1v8Z9",children:j.map((function(e){return Object(I["jsx"])(mn,Object(ce["a"])({},e))}))}):null]})})]})}var On=pn,hn=function(e){var n=e.articles,t=n&&n[0];return t.articleType===Ze["a"].Text?Object(I["jsx"])(On,Object(ce["a"])({},e)):Object(I["jsx"])(nn,Object(ce["a"])({},e))},gn=hn,vn=t(129),wn=t(75),yn=t(125),Nn=t(126),Tn=t(20);t(654);var In=function(e){var n=e.openRecommend,t=e.loadRecommend;return Object(I["jsx"])(r["n"],{children:n?Object(I["jsxs"])(r["n"],{className:"index__divider___1biKJ",children:[Object(I["jsx"])(r["n"],{className:"index__desc___1ydr0",children:Object(v["e"])("Home_HistoryDesc")}),Object(I["jsx"])(r["n"],{className:"index__line___4Fw0n"})]}):Object(I["jsxs"])(r["n"],{className:"index__open-btn___3brAt",onClick:t,children:[Object(I["jsx"])(r["n"],{className:"index__desc___1ydr0",children:Object(v["e"])("Home_OpenHistory")}),Object(I["jsx"])(r["n"],{className:"iconfont icon-down index__icon___37e_V"})]})})},Cn=(t(655),{"./index.less":{"text-msg":"index__text-msg___14Ep5","account-name":"index__account-name___35WXJ",isAfterRecall:"index__isAfterRecall___1sE_r",isBeforeRecall:"index__isBeforeRecall___WXUVr"}});var kn=function(e){var n=e.accountName,t=e.isAfterRecall,c=e.isBeforeRecall;return Object(I["jsxs"])(r["n"],{className:a()(d()("text-msg",{isAfterRecall:t,isBeforeRecall:c}),Cn),children:[Object(I["jsx"])(r["k"],{className:"index__account-name___35WXJ",children:Object(v["b"])(n)}),Object(v["e"])("Feed_Recall",{accountName:"",num:1})]})},Sn=t(185),Fn=t(86),Mn=t(190),An=t(36),Rn=(t(656),{"./index.less":{"feed-item":"index__feed-item___3UfbI",line:"index__line___3ZScj"}});var Bn=function(e){var n,t=e.folder,c=e.accountInfo,i=e.sequenceNum,_=e.showBorder;return Object(I["jsxs"])(r["n"],{children:[Object(I["jsx"])(r["n"],{className:a()(d()({"feed-item":t.articles.length>1}),Rn),children:null===t||void 0===t||null===(n=t.articles)||void 0===n?void 0:n.map((function(e,n){var _,a=e.id,o=e.title,r=e.digest,s=e.relatedLikeUsers,d=e.likeUserCount,l=e.readUserCount,u=e.readTime,x=e.articleType,m=e.cover,b=m.articleCover,j=m.folderCover,f=c.accountBaseInfo.id,p={accountId:f,folderId:t.id,accountType:c.accountBaseInfo.accountType,from:"account",contentMainType:"article",cardMainType:"article_send",sequenceNum:i,referSequenceNum:n},O=(null===(_=t.articles)||void 0===_?void 0:_.length)>1?{margin:"12px 0px"}:{margin:"20px 0px"};return Object(I["jsx"])(Fn["a"],{id:a,customeStyle:Object(ce["a"])({},O),article:e,accountId:f,title:Object(v["b"])(o),digest:Object(v["b"])(r),relatedLikeUsers:s,likeUserCount:d,readUserCount:l,readTime:u,cover:j||b,mode:"aspectFit",messageTime:t.firstReleaseTime,sequenceNum:i,referSequenceNum:n,from:"account",contentMainType:"article",articleType:x,cardMainType:"article_send",onClick:function(){Object(We["a"])({click:"click_article",subscriptionAccountId:f,articleId:e.id}),Object(An["c"])(e,n+1,p)}},a)}))}),_&&Object(I["jsx"])(r["n"],{className:"index__line___3ZScj"})]})},Dn=function(e){var n=e.FirstArticle,t=e.folder,c=e.accountInfo,i=e.sequenceNum,_=e.showBorder,a=void 0===_||_,o=function(){var e={folderId:t.id,article:n,sequenceNum:i,firstReleaseTime:t.firstReleaseTime};return(null===n||void 0===n?void 0:n.articleType)===Ze["a"].Text?Object(I["jsxs"])(r["n"],{style:{boxSizing:"border-box"},children:[Object(I["jsx"])(Mn["a"],Object(ce["a"])(Object(ce["a"])({},e),{},{customeStyle:{margin:"28px 8px"},needTopDescription:!0})),a&&Object(I["jsx"])(r["n"],{className:"index__line___3ZScj"})]}):Object(I["jsx"])(Bn,{folder:t,showBorder:a,sequenceNum:i,accountInfo:c})};return Object(I["jsx"])(r["n"],{children:o()})},zn=t(187),Hn=(t(657),{"./index.less":{"scroll-container":"index__scroll-container___3h4Vx","scroll-content":"index__scroll-content___oZwzQ","scroll-container-new":"index__scroll-container-new___2diQC",feed:"index__feed___2LBuf",mt:"index__mt____lZ04","recommend-header-new":"index__recommend-header-new___1qVrX",card:"index__card___3BHFt","recommend-header":"index__recommend-header___2nTuw","no-more":"index__no-more___1JmYF",loading:"index__loading___3d3h9","folder-list":"index__folder-list___20-eK","feed-list":"index__feed-list___3I8P-",time:"index__time___1BweJ",text:"index__text___iVqgC","load-history":"index__load-history___293di",icon:"index__icon___1ySdS",empty:"index__empty___1pETt",image:"index__image___1ml2y"}});var En=function(e){var n=e.feed,t=e.previousFeed,c=e.nextFeed,i=e.FirstArticle,_=e.sequenceNum,a=e.showBorder,s=void 0===a||a,d=Object(D["f"])(),l=d.data.isPC,u=Object(D["b"])(),x=u.data.newHome,m=x&&l,b=Object(o["useContext"])(T),j=b.userAccount,f=l?vn["a"]:gn,p=function(){switch(n.feedType){case z["i"].Normal:case z["i"].Preview:return Object(I["jsx"])(r["n"],{className:"index__feed___2LBuf",children:m?Object(I["jsx"])(Dn,{FirstArticle:i,folder:n.folderDTO,accountInfo:j,sequenceNum:_,showBorder:s}):Object(I["jsxs"])(r["n"],{children:[Object(I["jsx"])(r["n"],{className:"index__time___1BweJ",children:Object(I["jsx"])(r["k"],{children:Object(Tn["h"])(+n.messageTime)})}),Object(I["jsx"])(r["n"],{className:"index__card___3BHFt",children:Object(I["jsx"])(f,{articles:n.folderDTO.articles,folderId:n.folderDTO.id,accountId:j.accountBaseInfo.id,expandNum:0,from:"feed",accountType:j.accountBaseInfo.accountType,feedType:n.feedType,sequenceNum:_})})]})},n.messageTime);case z["i"].Welcome:return Object(I["jsxs"])(r["n"],{className:"index__feed___2LBuf",children:[Object(I["jsx"])(r["n"],{className:"index__time___1BweJ",children:Object(I["jsx"])(r["k"],{children:Object(Tn["h"])(+n.messageTime)})}),Object(I["jsx"])(r["n"],{className:"index__card___3BHFt",children:Object(I["jsx"])(r["n"],{className:"index__text___iVqgC",children:Object(v["b"])(n.message.content)})})]},n.messageTime);case z["i"].Recall:return Object(I["jsx"])(kn,{accountName:j.accountBaseInfo.name,isAfterRecall:(null===t||void 0===t?void 0:t.feedType)===z["i"].Recall,isBeforeRecall:(null===c||void 0===c?void 0:c.feedType)===z["i"].Recall})}};return Object(I["jsx"])(o["Fragment"],{children:Je["h"].includes(n.feedType)?p():null})},Jn=function(e){var n=e.feedsContext,t=n.accountId,c=n.feeds,_=n.loading,s=n.loadingMode,l=n.hasMore,u=n.unreadNum,x=n.toTopBottom,b=n.scrollTop,j=n.showScrollTop,f=n.autoLoadFolders,p=n.loadMore,O=n.loadNew,h=n.setState,g=Object(o["useMemo"])((function(){return Object(ze["a"])(c).reverse().find((function(e){return e.feedType===z["i"].Normal}))}),[c]),w=Object(D["f"])(),y=w.data.isPC,N=Object(D["b"])(),T=N.data.newHome,C=T&&y,k=Pe({accountId:t,earliestSendTime:(null===g||void 0===g?void 0:g.folderDTO.firstReleaseTime)||0,autoLoadFolders:f}),S=Object(i["a"])(k,2),F=S[0],M=F.loading,A=F.folders,R=S[1].load,B=!_&&(!c||0===c.length),H=Object(I["jsxs"])(r["n"],{className:"index__empty___1pETt",children:[Object(I["jsx"])(r["d"],{className:"index__image___1ml2y",src:Object(oe["b"])("noContent"),mode:"aspectFill"}),Object(I["jsx"])(r["n"],{className:"index__text___iVqgC",children:Object(I["jsx"])(r["k"],{children:Object(v["e"])("AccountDetail_NoContent")})})]}),E=T?zn["a"]:Sn["a"];return B?H:Object(I["jsxs"])(o["Fragment"],{children:[!!u&&Object(I["jsx"])(yn["a"],{loading:s===z["l"].New&&_,text:Object(v["e"])("Home_NewFolderInfo",{count:u}),onClick:O,top:100}),Object(I["jsx"])(Nn["a"],{visible:j,bottom:x,onClick:function(){h({showScrollTop:!1,scrollTop:Math.random()})}}),Object(I["jsx"])(r["i"],{className:"index__scroll-container___3h4Vx",scrollY:!0,onScrollToLower:p,scrollTop:b,lowerThreshold:500,scrollWithAnimation:!0,onScroll:function(e){h({showScrollTop:e.detail.scrollTop>800})},children:Object(I["jsxs"])(r["n"],{className:a()(d()("scroll-content",Object(m["a"])({},"scroll-container-new",C)),Hn),children:[Object(I["jsx"])(r["n"],{className:"index__feed-list___3I8P-",children:null===c||void 0===c?void 0:c.map((function(e,n){var t=e.folderDTO,i=e.id,_=!!t&&(null===t||void 0===t?void 0:t.articles)&&t.articles[0]||{};return Object(I["jsx"])(En,{showBorder:c.length!==n+1,feed:e,FirstArticle:_,previousFeed:c[n-1],nextFeed:c[n+1],sequenceNum:n},i)}))}),!!A.length&&Object(I["jsxs"])(o["Fragment"],{children:[Object(I["jsx"])(r["n"],{className:a()(d()("recommend-header",{"recommend-header-new":C}),Hn),children:y?Object(I["jsx"])(E,{openRecommend:!0,customStyle:{margin:"12px 8px"},loadRecommend:Object(Ce["a"])(Ie.a.mark((function e(){return Ie.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return",R());case 2:case"end":return e.stop()}}),e)})))}):Object(I["jsx"])(In,{openRecommend:!0,loadRecommend:Object(Ce["a"])(Ie.a.mark((function e(){return Ie.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return",R());case 2:case"end":return e.stop()}}),e)})))})}),Object(I["jsx"])(r["n"],{className:"index__folder-list___20-eK",children:null===A||void 0===A?void 0:A.map((function(e,n){var t=e&&e[0]||{};return Object(I["jsx"])(En,{showBorder:n+1!==A.length,FirstArticle:t,feed:{folderDTO:e,feedType:z["i"].Normal,messageTime:e.firstReleaseTime},sequenceNum:c.length+n},e.id)}))})]}),(M||s===z["l"].History&&_)&&Object(I["jsx"])(r["n"],{className:"index__loading___3d3h9",children:Object(I["jsx"])(wn["a"],{})}),!l&&Object(I["jsx"])(r["n"],{className:"index__no-more___1JmYF",children:Object(v["e"])("Common_NoMoreContent")})]})})]})},Ln=t(52),Qn=function(e){var n=Object(o["useContext"])(T),t=n.accountId,c=Object(_e["d"])({loading:!0,error:!1,folders:[],hasMore:!0,earliestTime:0}),_=Object(i["a"])(c,2),a=_[0],r=_[1],s=function(){var e=a.hasMore,n=a.folders,c=a.earliestTime;e&&t&&(r({loading:!0,error:!1}),He["a"].getAccountFolders({accountId:t,size:20,earliestSendTime:c}).then((function(e){var t=e.data,c=t.folders.length;r({loading:!1,folders:n.concat(t.folders),hasMore:t.hasMore||!1,earliestTime:t.folders[c-1].firstReleaseTime})})).catch((function(){r({loading:!1,error:!0})})))},d=function(){a.error&&s()};return Object(o["useEffect"])((function(){t&&s()}),[t]),Object(o["useImperativeHandle"])(e,(function(){return{loading:!1,error:!1,retry:d}})),{accountId:t,folders:a.folders,loading:a.loading,hasMore:a.hasMore,fetchMoreFolders:s,retry:d}},Un=Qn,Pn=(t(658),{"./index.less":{"scroll-container":"index__scroll-container___1ajjE",folder:"index__folder___3axyX","scroll-container-new":"index__scroll-container-new___yXGEY","scroll-content":"index__scroll-content___35hzl","scroll-content-new":"index__scroll-content-new___3-Jxy",mt:"index__mt___MrbE8",card:"index__card___2oO65",time:"index__time___1gayT",text:"index__text___1Fzjb","feed-item":"index__feed-item___tWorO","no-more":"index__no-more___1YA_s",loading:"index__loading___1DJ4M",empty:"index__empty___2QKq3",image:"index__image___104UQ"}});var Wn=Object(o["forwardRef"])((function(e,n){var t=e.children,c=e.onScroll,i=e.onScrollToUpper,_=e.showNavbarHeight,s=Object(D["f"])(),l=s.data.isPC,u=Object(D["b"])(),x=u.data.newHome,b=l?vn["a"]:gn,j=x&&l,f=Un(n),p=f.folders,O=f.loading,h=f.hasMore,g=f.fetchMoreFolders,w=Object(o["useContext"])(T),y=w.userAccount,N=!O&&(!p||0===p.length),C=Object(I["jsxs"])(r["n"],{className:"index__empty___2QKq3",children:[Object(I["jsx"])(r["d"],{className:"index__image___104UQ",src:Object(oe["b"])("noContent"),mode:"aspectFill"}),Object(I["jsx"])(r["n"],{className:"index__text___1Fzjb",children:Object(I["jsx"])(r["k"],{children:Object(v["e"])("AccountDetail_NoContent")})})]});return Object(I["jsxs"])(r["i"],{scrollY:!0,onScroll:c,onScrollToLower:g,onScrollToUpper:i,upperThreshold:_,className:a()(d()("scroll-container",Object(m["a"])({},"scroll-container-new",j)),Pn),children:[t,Object(I["jsxs"])(r["n"],{className:a()(d()("scroll-content",Object(m["a"])({},"scroll-content-new",j)),Pn),children:[N?C:null===p||void 0===p?void 0:p.map((function(e,n){var t=e.articles&&e.articles[0];return e.articles.length>0?Object(I["jsxs"])(r["n"],{className:a()(d()("folder"),Pn),children:[!j&&Object(I["jsx"])(r["n"],{className:"index__time___1gayT",children:Object(I["jsx"])(r["k"],{children:Object(Tn["h"])(+e.firstReleaseTime)})}),Object(I["jsxs"])(Ln["a"],{customeStyle:j?{border:"none",width:"100%",backgroundColor:"transparent",boxSizing:"border-box",borderRadius:0}:{},children:[!j&&Object(I["jsx"])(b,{articles:e.articles,folderId:e.id,accountId:y.accountBaseInfo.id,isRead:!0,from:"account",accountType:y.accountBaseInfo.accountType,sequenceNum:n}),j&&Object(I["jsx"])(Dn,{FirstArticle:t,folder:e,sequenceNum:n,accountInfo:y})]})]},e.firstReleaseTime):void 0})),O?Object(I["jsx"])(r["n"],{className:"index__loading___1DJ4M",children:Object(I["jsx"])(wn["a"],{})}):h?null:Object(I["jsx"])(r["n"],{className:"index__no-more___1YA_s",children:Object(v["e"])("Common_NoMoreContent")})]})]})}));t(659);var Vn={"./index.less":{"account-detail-page":"index__account-detail-page___84TEg",body:"index__body___2-m_j","hack-header-border":"index__hack-header-border___2nCGf",header:"index__header___19Vgu","in-feed":"index__in-feed___1-5kn","new-header":"index__new-header___3zspQ","canvas-wrapper":"index__canvas-wrapper___1mmt8"}};var Xn=function(){var e=Object(o["useState"])(!1),n=Object(i["a"])(e,2),t=n[0],c=n[1],_=qe(),s=_.ref,x=_.accountId,m=_.isInOfficialEnv,b=_.userAccount,j=_.loading,f=_.error,p=_.accountDisabledText,O=_.feedsContext,h=_.errorType,g=_.retry,v=_.rightIcon,w=_.changeFollowType,y=_.newHome,N=_.showNavbar,C=_.onFolderScroll,k=_.onFolderScrollToUpper,S=_.showNavbarHeight,F=Object(D["f"])(),M=F.data,A=M.isFeedMode,R=M.isAppCenter,B=M.isWindow,z=b?b.accountBaseInfo.id:x,H=Object(o["useMemo"])((function(){return!R&&m}),[R,m]),E=Object(o["useMemo"])((function(){return!b||y&&!m?b&&y&&!m?Object(I["jsx"])(Ne,{accountDetail:b.accountBaseInfo,menus:b.menus,changeFollowType:w,inNavbar:H,errorType:h,accountId:z}):Object(I["jsx"])(o["Fragment"],{}):Object(I["jsx"])(ee,{accountDetail:b.accountBaseInfo,changeFollowType:w,inNavbar:H})}),[w,H,b,y]),J=Object(o["useMemo"])((function(){return y?te["a"].NewHomeAppCenter:te["a"].AppCenter}),[A,R,B,y]);return Object(I["jsx"])(u["b"],{limitWidth:!A,noBorder:A,showLoading:j,showError:f&&!p,customIcons:v(),retry:function(){g()},showNavbar:N,showTab:H,tabbar:E,forceShowBottomBorder:H,accountDetail:null===b||void 0===b?void 0:b.accountBaseInfo,changeFollowType:w,title:b&&!H?Object(ne["a"])(b.accountBaseInfo.name):"",children:p?Object(I["jsx"])(l["a"],{text:p}):b?Object(I["jsx"])(T.Provider,{value:{userAccount:b,accountId:z,show:t,hasMenu:!(null===b||void 0===b||!b.menus.length),setShow:c},children:Object(I["jsxs"])(r["n"],{onClick:function(e){c(!1),e.stopPropagation()},className:a()(d()("account-detail-page"),Vn),children:[Object(I["jsxs"])(r["n"],{className:"index__body___2-m_j",children:[A&&!m&&N&&Object(I["jsx"])(r["n"],{className:"index__hack-header-border___2nCGf"}),m?Object(I["jsx"])(Jn,{feedsContext:O}):Object(I["jsx"])(Wn,{ref:s,onScroll:C,onScrollToUpper:k,showNavbarHeight:S,children:!H&&Object(I["jsx"])(r["n"],{style:{maxWidth:J},className:a()(d()("header",{"new-header":y,"in-feed":A}),Vn),children:E})})]}),Object(I["jsx"])(r["n"],{children:!!b&&(m||!y)&&Object(I["jsx"])(U,{menus:b.menus,errorType:h})}),Object(I["jsx"])(r["n"],{className:"index__canvas-wrapper___1mmt8",children:Object(I["jsx"])(r["b"],{canvasId:De["a"]})})]})}):Object(I["jsx"])(o["Fragment"],{})})},qn=function(){return Object(I["jsx"])(x["a"],{children:Object(I["jsx"])(Xn,{})})},Zn={usingComponents:{"native-button":"../../../@native-mobile-components/button/index","native-dialog":"../../../@native-pc-components/dialog/index","native-fab":"../../../@native-mobile-components/fab/index","native-icon":"../../../@native-pc-components/icon/index","native-modal":"../../../@native-pc-components/modal/index","native-tag":"../../../@native-pc-components/tag/index","native-view":"../../../@native-pc-components/view/index"}};Page(Object(c["createPageConfig"])(qn,"pages/account-detail/pc/index",{root:{cn:[]}},Zn||{}))}},[[666,0,1,2,3]]]);
});