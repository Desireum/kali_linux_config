/*! For license information please see background.js.LICENSE.txt */
!function(){var e={3465:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",i="[object Boolean]",u="[object Date]",c="[object Function]",s="[object GeneratorFunction]",l="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",v="[object RegExp]",h="[object Set]",m="[object String]",b="[object Symbol]",y="[object WeakMap]",g="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",S="[object Float64Array]",k="[object Int8Array]",j="[object Int16Array]",M="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",I="[object Uint16Array]",A="[object Uint32Array]",T=/\w*$/,E=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,C={};C[a]=C["[object Array]"]=C[g]=C[w]=C[i]=C[u]=C[x]=C[S]=C[k]=C[j]=C[M]=C[l]=C[d]=C[f]=C[v]=C[h]=C[m]=C[b]=C[P]=C[O]=C[I]=C[A]=!0,C["[object Error]"]=C[c]=C[y]=!1;var F="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,D="object"==typeof self&&self&&self.Object===Object&&self,N=F||D||Function("return this")(),L=t&&!t.nodeType&&t,R=L&&e&&!e.nodeType&&e,G=R&&R.exports===L;function B(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function V(e,t,n,r){var o=-1,a=e?e.length:0;for(r&&a&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);return n}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e,t){return function(n){return e(t(n))}}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var H,X=Array.prototype,Y=Function.prototype,$=Object.prototype,J=N["__core-js_shared__"],Q=(H=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",Z=Y.toString,ee=$.hasOwnProperty,te=$.toString,ne=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=G?N.Buffer:void 0,oe=N.Symbol,ae=N.Uint8Array,ie=W(Object.getPrototypeOf,Object),ue=Object.create,ce=$.propertyIsEnumerable,se=X.splice,le=Object.getOwnPropertySymbols,de=re?re.isBuffer:void 0,fe=W(Object.keys,Object),pe=Ne(N,"DataView"),ve=Ne(N,"Map"),he=Ne(N,"Promise"),me=Ne(N,"Set"),be=Ne(N,"WeakMap"),ye=Ne(Object,"create"),ge=Ue(pe),we=Ue(ve),xe=Ue(he),Se=Ue(me),ke=Ue(be),je=oe?oe.prototype:void 0,Me=je?je.valueOf:void 0;function Pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){this.__data__=new Oe(e)}function Te(e,t,n){var r=e[t];ee.call(e,t)&&Ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ee(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function _e(e,t,n,r,o,p,y){var E;if(r&&(E=p?r(e,o,p,y):r(e)),void 0!==E)return E;if(!He(e))return e;var _=Ke(e);if(_){if(E=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,E)}else{var F=Re(e),D=F==c||F==s;if(We(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(F==f||F==a||D&&!p){if(K(e))return p?e:{};if(E=function(e){return"function"!=typeof e.constructor||Be(e)?{}:He(t=ie(e))?ue(t):{};var t}(D?{}:e),!t)return function(e,t){return Fe(e,Le(e),t)}(e,function(e,t){return e&&Fe(t,Xe(t),e)}(E,e))}else{if(!C[F])return p?e:{};E=function(e,t,n,r){var o,a=e.constructor;switch(t){case g:return Ce(e);case i:case u:return new a(+e);case w:return function(e,t){var n=t?Ce(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case x:case S:case k:case j:case M:case P:case O:case I:case A:return function(e,t){var n=t?Ce(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){return V(t?n(q(e),!0):q(e),B,new e.constructor)}(e,r,n);case d:case m:return new a(e);case v:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case h:return function(e,t,n){return V(t?n(z(e),!0):z(e),U,new e.constructor)}(e,r,n);case b:return o=e,Me?Object(Me.call(o)):{}}}(e,F,_e,t)}}y||(y=new Ae);var N=y.get(e);if(N)return N;if(y.set(e,E),!_)var L=n?function(e){return function(e,t,n){var r=t(e);return Ke(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Xe,Le)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););}(L||e,(function(o,a){L&&(o=e[a=o]),Te(E,a,_e(o,t,n,r,a,e,y))})),E}function Ce(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function Fe(e,t,n,r){n||(n={});for(var o=-1,a=t.length;++o<a;){var i=t[o],u=r?r(n[i],e[i],i,n,e):void 0;Te(n,i,void 0===u?e[i]:u)}return n}function De(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!He(e)||(t=e,Q&&Q in t))&&(ze(e)||K(e)?ne:E).test(Ue(e));var t}(n)?n:void 0}Pe.prototype.clear=function(){this.__data__=ye?ye(null):{}},Pe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Pe.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Pe.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Pe.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?r:t,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0||(n==t.length-1?t.pop():se.call(t,n,1),0))},Oe.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]},Oe.prototype.has=function(e){return Ee(this.__data__,e)>-1},Oe.prototype.set=function(e,t){var n=this.__data__,r=Ee(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new Pe,map:new(ve||Oe),string:new Pe}},Ie.prototype.delete=function(e){return De(this,e).delete(e)},Ie.prototype.get=function(e){return De(this,e).get(e)},Ie.prototype.has=function(e){return De(this,e).has(e)},Ie.prototype.set=function(e,t){return De(this,e).set(e,t),this},Ae.prototype.clear=function(){this.__data__=new Oe},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Oe){var r=n.__data__;if(!ve||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ie(r)}return n.set(e,t),this};var Le=le?W(le,Object):function(){return[]},Re=function(e){return te.call(e)};function Ge(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}function Ue(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(pe&&Re(new pe(new ArrayBuffer(1)))!=w||ve&&Re(new ve)!=l||he&&Re(he.resolve())!=p||me&&Re(new me)!=h||be&&Re(new be)!=y)&&(Re=function(e){var t=te.call(e),n=t==f?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case ge:return w;case we:return l;case xe:return p;case Se:return h;case ke:return y}return t});var Ke=Array.isArray;function qe(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!ze(e)}var We=de||function(){return!1};function ze(e){var t=He(e)?te.call(e):"";return t==c||t==s}function He(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return qe(e)?function(e,t){var n=Ke(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&qe(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ee.call(e,i)||o&&("length"==i||Ge(i,r))||n.push(i);return n}(e):function(e){if(!Be(e))return fe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return _e(e,!0,!0)}},1296:function(e,t,n){var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,l=c||s||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,v=function(){return l.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||i.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,a,i,u,c,s=0,l=!1,d=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,a=o;return r=o=void 0,s=t,i=e.apply(a,n)}function g(e){return s=e,u=setTimeout(x,t),l?y(e):i}function w(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-s>=a}function x(){var e=v();if(w(e))return S(e);u=setTimeout(x,function(e){var n=t-(e-c);return d?p(n,a-(e-s)):n}(e))}function S(e){return u=void 0,b&&r?y(e):(r=o=void 0,i)}function k(){var e=v(),n=w(e);if(r=arguments,o=this,c=e,n){if(void 0===u)return g(c);if(d)return u=setTimeout(x,t),y(c)}return void 0===u&&(u=setTimeout(x,t)),i}return t=m(t)||0,h(n)&&(l=!!n.leading,a=(d="maxWait"in n)?f(m(n.maxWait)||0,t):a,b="trailing"in n?!!n.trailing:b),k.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0},k.flush=function(){return void 0===u?i:S(v())},k}},7061:function(e,t,n){var r=n(8698).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new P(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var u=k(i,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p={};function v(){}function h(){}function m(){}var b={};l(b,u,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(O([])));g&&g!==n&&a.call(g,u)&&(b=g);var w=m.prototype=v.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,u,c){var s=f(e[o],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,u,c)}),(function(e){n("throw",e,u,c)})):t.resolve(d).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=m,l(w,"constructor",m),l(m,"constructor",h),h.displayName=l(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(S.prototype),l(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(d(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,u,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";function e(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=t.apply(n,r);function u(t){e(i,o,a,u,c,"next",t)}function c(t){e(i,o,a,u,c,"throw",t)}u(void 0)}))}}var r=n(4687),o=n.n(r);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c,s,l,d={sepia:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,format:function(e){return"sepia(".concat(e,")")}},hueRotate:{step:8,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,format:function(e){return"hue-rotate(".concat(e,"deg)")}},grayscale:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,format:function(e){return"grayscale(".concat(e,")")}},contrast:{min:0,step:.1,sliderMin:0,sliderMax:5,default:1,format:function(e){return"contrast(".concat(e,")")}},brightness:{min:0,step:.1,sliderMin:0,sliderMax:5,sliderStep:.05,default:1,format:function(e){return"brightness(".concat(e,")")}},saturate:{min:0,step:.1,sliderMin:0,sliderMax:5,sliderStep:.05,default:1,format:function(e){return"saturate(".concat(e,")")}},invert:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,format:function(e){return"invert(".concat(e,")")}},blur:{min:0,step:.1,sliderMin:0,sliderMax:10,sliderStep:.1,default:0,format:function(e){return"blur(".concat(e,"px)")}},opacity:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:1,format:function(e){return"opacity(".concat(e,")")}},scaleX:{isTransform:!0,step:.1,sliderMin:-1,sliderMax:3,sliderStep:.04,default:1,format:function(e){return"scaleX(".concat(e,")")}},scaleY:{isTransform:!0,step:.1,sliderMin:-1,sliderMax:3,sliderStep:.04,default:1,format:function(e){return"scaleY(".concat(e,")")}},translateX:{isTransform:!0,step:1,sliderMin:-300,sliderMax:300,sliderStep:5,default:0,format:function(e){return"translateX(".concat(e,"px)")}},translateY:{isTransform:!0,step:1,sliderMin:-300,sliderMax:300,sliderStep:5,default:0,format:function(e){return"translateY(".concat(e,"px)")}},rotateX:{isTransform:!0,step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,format:function(e){return"rotateX(".concat(e,"deg)")}},rotateY:{isTransform:!0,step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,format:function(e){return"rotateY(".concat(e,"deg)")}},rotateZ:{isTransform:!0,step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,format:function(e){return"rotateZ(".concat(e,"deg)")}}};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,v,h,m=!(!("requestPictureInPicture"in HTMLVideoElement.prototype)||!("pictureInPictureElement"in Document.prototype)),b=(null===(c=document.featurePolicy)||void 0===c||c.allowsFeature("picture-in-picture"),null===(s=window.CSS)||void 0===s||null===(l=s.supports)||void 0===l?void 0:l.call(s,"backdrop-filter: invert(1)")),y=["speed","lastSpeed","enabled","enabledLatestViaPopup","elementFx","backdropFx","monoOutput","audioFx","audioFxAlt","audioPan"];function g(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){var r=n;return null!=e&&(r=Math.max(e,r)),null!=t&&(r=Math.min(t,r)),r}function k(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function j(){return Math.ceil(1e10*Math.random()).toString()}function M(){var e;return h=null!==(e=h)&&void 0!==e?e:navigator.userAgent.includes("Firefox/")}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.SET=1]="SET",e[e.ADD=2]="ADD",e[e.CYCLE=3]="CYCLE"}(p||(p={})),function(e){e[e.FX=1]="FX",e[e.AUDIO_FX=2]="AUDIO_FX",e[e.MEDIA=3]="MEDIA",e[e.MISC=4]="MISC"}(v||(v={}));var I={nothing:{group:v.MISC,generate:function(){return{id:j(),command:"nothing",enabled:!0,greedy:!0}}},runCode:{group:v.MISC,valueType:"modalString",generate:function(){return{id:j(),command:"runCode",enabled:!0,greedy:!0,valueString:"// code here"}}},openUrl:{group:v.MISC,valueType:"string",generate:function(){return{id:j(),command:"openUrl",enabled:!0,greedy:!0,valueString:"https://www.google.com/"}}},adjustSpeed:{valueType:"adjustMode",hasFeedback:!0,valueMin:.07,valueMax:16,valueStep:.1,valueDefault:1,generate:function(){return{id:j(),command:"adjustSpeed",enabled:!0,greedy:!0,adjustMode:p.SET}}},speedChangesPitch:{valueType:"state",hasFeedback:!0,requiresMedia:!0,generate:function(){return{id:j(),command:"speedChangesPitch",enabled:!0,greedy:!0,valueState:"toggle"}}},setPin:{valueType:"state",hasFeedback:!0,generate:function(){return{id:j(),command:"setPin",enabled:!0,greedy:!0,valueState:"toggle"}}},setState:{valueType:"state",hasFeedback:!0,generate:function(){return{id:j(),command:"setState",enabled:!0,greedy:!0,valueState:"toggle"}}},seek:{group:v.MEDIA,valueType:"number",requiresMedia:!0,noNull:!0,hasFeedback:!0,generate:function(){return{id:j(),command:"seek",enabled:!0,greedy:!0,valueNumber:10}}},setPause:{group:v.MEDIA,valueType:"state",requiresMedia:!0,hasFeedback:!0,generate:function(){return{id:j(),command:"setPause",enabled:!0,greedy:!0,valueState:"toggle"}}},setMute:{group:v.MEDIA,hasFeedback:!0,valueType:"state",requiresMedia:!0,generate:function(){return{id:j(),command:"setMute",enabled:!0,greedy:!0,valueState:"toggle"}}},adjustVolume:{group:v.MEDIA,hasFeedback:!0,valueType:"number",requiresMedia:!0,valueDefault:.05,generate:function(){return{id:j(),command:"adjustVolume",enabled:!0,greedy:!0}}},setMark:{group:v.MEDIA,hasFeedback:!0,valueType:"string",requiresMedia:!0,generate:function(){return{id:j(),command:"setMark",enabled:!0,greedy:!0,valueString:"mark1"}}},seekMark:{group:v.MEDIA,hasFeedback:!0,valueType:"string",requiresMedia:!0,generate:function(){return{id:j(),command:"seekMark",enabled:!0,greedy:!0,valueString:"mark1"}}},toggleLoop:{group:v.MEDIA,hasFeedback:!0,valueType:"string",requiresMedia:!0,generate:function(){return{id:j(),command:"toggleLoop",enabled:!0,greedy:!0,valueString:"mark1"}}},fullscreen:{group:v.MEDIA,requiresVideo:!0,generate:function(){return{id:j(),command:"fullscreen",enabled:!0,greedy:!0}}},PiP:{group:v.MEDIA,valueType:"state",requiresVideo:!0,requiresPiPApi:!0,generate:function(){return{id:j(),command:"PiP",enabled:!0,greedy:!0,valueState:"toggle"}}},setFx:{group:v.FX,hasFeedback:!0,withFilterTarget:!0,valueType:"state",generate:function(){return{id:j(),command:"setFx",enabled:!0,greedy:!0,valueState:"toggle",filterTarget:"element"}}},resetFx:{group:v.FX,hasFeedback:!0,withFilterTarget:!0,generate:function(){return{id:j(),command:"resetFx",enabled:!0,greedy:!0,filterTarget:"element"}}},flipFx:{group:v.FX,hasFeedback:!0,generate:function(){return{id:j(),command:"flipFx",enabled:!0,greedy:!0}}},adjustFilter:{group:v.FX,hasFeedback:!0,valueType:"adjustMode",withFilterOption:!0,withFilterTarget:!0,generate:function(){return{id:j(),command:"adjustFilter",filterOption:"hueRotate",enabled:!0,greedy:!0,filterTarget:"element",adjustMode:p.ADD}}},adjustGain:{group:v.AUDIO_FX,hasFeedback:!0,valueType:"adjustMode",requiresTabCapture:!0,valueMin:0,valueMax:16,valueStep:.05,valueDefault:1,generate:function(){return{id:j(),command:"adjustGain",enabled:!0,greedy:!0,adjustMode:p.ADD}}},adjustPitch:{group:v.AUDIO_FX,hasFeedback:!0,valueType:"adjustMode",requiresTabCapture:!0,valueMin:-36,valueMax:36,valueStep:1,valueDefault:0,generate:function(){return{id:j(),command:"adjustPitch",enabled:!0,greedy:!0,adjustMode:p.ADD}}},adjustDelay:{group:v.AUDIO_FX,hasFeedback:!0,valueType:"adjustMode",requiresTabCapture:!0,valueMin:0,valueMax:60,valueStep:.05,valueDefault:0,generate:function(){return{id:j(),command:"adjustDelay",enabled:!0,greedy:!0,adjustMode:p.ADD}}},tabCapture:{group:v.AUDIO_FX,hasFeedback:!0,valueType:"state",requiresTabCapture:!0,generate:function(){return{id:j(),command:"tabCapture",enabled:!0,greedy:!0,valueState:"toggle",global:!0}}}},A=function(e,t){var n,r=[],o=!1,a=w(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;o&&(r.push(null),o=!1),r=[].concat(g(r),g(i)),o=!0}}catch(e){a.e(e)}finally{a.f()}return r}(function(e,t){var n,r=new Map,o=w(e);try{for(o.s();!(n=o.n()).done;){var a,i=n.value,u=t(i),c=null!==(a=r.get(u))&&void 0!==a?a:[];c.push(i),r.set(u,c)}}catch(e){o.e(e)}finally{o.f()}var s=[];return r.forEach((function(e){s.push(e)})),s}(Object.entries(I).filter((function(e){return!e[1].requiresTabCapture||chrome.tabCapture})).filter((function(e){return!e[1].requiresPiPApi||m})).map((function(e){var t=u(e,2);return[t[0],t[1].group]})),(function(e){return e[1]})).map((function(e){return e.map((function(e){return e[0]}))})));function T(){return{version:10,firstUse:(new Date).getTime(),keybinds:(e=[O(O({},I.adjustSpeed.generate()),{},{key:"KeyA",adjustMode:p.ADD,valueNumberAlt:-.1}),O(O({},I.adjustSpeed.generate()),{},{key:"KeyS",valueNumber:1,adjustMode:p.SET}),O(O({},I.adjustSpeed.generate()),{},{key:"KeyD",adjustMode:p.ADD,valueNumberAlt:.1,spacing:1}),O(O({},I.setPin.generate()),{},{key:"KeyQ"}),O(O({},I.setState.generate()),{},{key:{code:"KeyQ",shiftKey:!0},spacing:2}),O(O({},I.seek.generate()),{},{key:"KeyZ",enabled:!0,valueNumber:-5}),O(O({},I.seek.generate()),{},{key:"KeyX",enabled:!0,valueNumber:10,spacing:1}),O(O({},I.seek.generate()),{},{key:{shiftKey:!0,code:"KeyZ"},enabled:!0,valueNumber:-.041,valueBool3:!0}),O(O({},I.seek.generate()),{},{key:{shiftKey:!0,code:"KeyX"},enabled:!0,valueNumber:.041,spacing:1,valueBool3:!0}),O(O({},I.fullscreen.generate()),{},{key:{shiftKey:!0,code:"KeyF"},enabled:!0,valueBool:!0,spacing:2}),O(O({},I.setMark.generate()),{},{key:{shiftKey:!0,code:"KeyW"},valueString:"mark1"}),O(O({},I.seekMark.generate()),{},{key:"KeyW",valueString:"mark1"}),O(O({},I.toggleLoop.generate()),{},{key:"KeyR",valueString:"mark1",spacing:2,enabled:!1})],b&&e.push(O(O({},I.adjustFilter.generate()),{},{key:{code:"KeyE"},filterOption:"invert",filterTarget:"both",adjustMode:p.CYCLE,enabled:!1,valueCycle:[0,1]}),O(O({},I.adjustFilter.generate()),{},{key:{code:"KeyE",shiftKey:!0},filterOption:"grayscale",filterTarget:"backdrop",adjustMode:p.CYCLE,enabled:!1,valueCycle:[0,1],spacing:2})),e),common:{speed:1,enabled:!0,backdropFx:E(),elementFx:E(),audioFx:_()}};var e}function E(){var e=function(e,t){var n=[],r=[];return e.forEach((function(e){var t;(t=u(e,2))[0],t[1].isTransform?n.push(e):r.push(e)})),[n,r]}(Object.entries(d)),t=u(e,2),n=t[0];return{filters:t[1].map((function(e){var t=u(e,2);return{name:t[0],value:t[1].default}})),transforms:n.map((function(e){var t=u(e,2);return{name:t[0],value:t[1].default}}))}}function _(){return{pitch:0,volume:1,delay:0,eq:{enabled:!1,factor:1,values:Array(10).fill(0)}}}function C(e){var t,n,r=T();return!e||e.version<7?r:(7===e.version&&(e=function(e){var t;return e.version=8,null===(t=e.rules)||void 0===t||t.forEach((function(e){e.condition={parts:[{type:e.matchType||"CONTAINS",id:j(),value:e.match||""}]},delete e.matchType,delete e.match})),e}(e)),8===e.version&&(e=function(e){var t;return e.version=9,null===(t=e.keybinds)||void 0===t||t.forEach((function(e){"seek"===e.command&&(e.valueBool2=!0)})),e}(e)),9===e.version&&(e=function(e){var t;return e.version=10,null===(t=e.keybinds)||void 0===t||t.forEach((function(e){"preservePitch"===e.command&&(e.command="speedChangesPitch",e.valueState="on"===e.valueState?"off":"off"===e.valueState?"on":"toggle")})),e}(e)),null!==(t=e.keybinds)&&void 0!==t&&t.length&&(e.keybinds=e.keybinds.filter((function(e){return A.includes(e.command)}))),(null===(n=e)||void 0===n?void 0:n.version)!==r.version?r:e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.freeze([{name:"1965",values:[-6,-17.2,-6,0,-3.6,9.2,1.2,9.2,3.6,-5.2]},{name:"1965 - Part 2",values:[-18,-14.4,0,0,-3.6,9.2,1.2,9.2,3.6,-5.2]},{name:"Lo-Fidelity",values:[-15.1,-9.4,0,2.3,-2,4.3,4.3,-2.3,-4.6,-8.9]},{name:"Musical Presence",values:[0,0,0,0,0,2.5,5,2.5,0,0]},{name:"Notch Every Two Octaves",values:[-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99]},{name:"Rattle The Trunk",values:[17.99,17.99,9,0,0,0,0,0,0,0]},{name:"Simple Bass Cut",values:[-4,-3,-2,-2,-2,0,0,0,0,0]},{name:"Simple Bass Lift",values:[6,6,3,3,3,0,0,0,0,0]},{name:"Simple High Cut",values:[0,0,0,0,0,-2,-2,-3,-3,-3]},{name:"Simple High Lift",values:[0,0,0,0,0,1,2,2,3,4]},{name:"Vocal Presence - Boost",values:[0,0,0,0,0,0,6.5,0,0,0]},{name:"Vocal Presence - Cut",values:[0,0,0,0,0,0,-6.5,0,0,0]}]),Object.freeze([{name:"20 Band Classic V",values:[5,6,3.54,.59,-.48,-2.5,-5,-7,-8,-8,-7,-5,-3,-2.5,-1,2,3,4,5,4.02]},{name:"Bowed String",values:[0,0,-1.2,-1.6,-2.4,-2.8,-1.6,-1.6,-1.6,0,0,0,0,0,2.4,3.6,5.6,0,0,0]},{name:"Bright and Punchy",values:[-3,3,6,4.5,3,1.5,0,0,0,0,0,0,0,1,2,3,4,4,4,4]},{name:"Cymbal Shimmer",values:[0,0,0,0,0,0,0,0,0,0,0,-.1,-.3,-.5,-.4,.2,1.3,2.6,3.6,4]},{name:"Dark and Dull",values:[-6,-4,-2,0,0,0,0,0,0,0,0,0,0,-3,-6,-9,-12,-15,-18,-18]},{name:"Destination - Car Stereo",values:[-4,-2,0,3,4,3,1.5,0,-1,-2,-2,-1,0,1,2,3,4,2,0,-3]},{name:"Heavy Guitar",values:[0,-.2,-.1,1,1.9,1.6,.4,-.5,-1.1,-2.2,-3.6,-3.9,-2.9,-1.6,-.5,.1,.1,0,0,0]},{name:"Liven up dead samples",values:[0,0,0,0,0,0,0,0,0,0,0,.1,.1,-.2,-.6,.5,3,3.9,1.5,-.4]},{name:"Notch Every Octave",values:[-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99]},{name:"Possible Bass",values:[0,0,5.2,6,3.2,0,-11.6,-5.2,-4,-4,0,3.2,4.8,0,0,0,-3.2,-7.2,-10.8,-14]},{name:"Sloping High End Boost",values:[0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,6,7,8,8]},{name:"Sloping Low End Boost",values:[8,8,8,8,7,6,5,4,3,2,1,0,0,0,0,0,0,0,0,0]},{name:"Tinny and Brittle",values:[-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,0,0,0,1,3.52,6,6,3,1]},{name:"Vocal Magic (breath)",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,.1,-.1,-.5,2,2.5,1]}]),Object.freeze([{name:"Bass - Increased Clarity",values:[-4,-3.4,-1.9,-.3,.6,.6,.2,-.3,-1.2,-1.5,1.4,2.9,.7,.2,.8,.5,0,-2,-.5,-.5,-.4,-.2,0,0,-.2,-.4,-.4,-.3,-.1,0]},{name:"Background Vocal",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.2,-.3,-.4,-.4,-3,-6,-3,0,0,-.1,0,0,0]},{name:"Classic V",values:[3,2.5,1.3,.2,-.4,-.5,-.2,.2,.4,.3,-.3,-1.6,-3.4,-5.7,-8.2,-10.2,-10.9,-9.8,-7.4,-4.5,-2.3,-.9,-.1,0,-.2,-.3,.2,1.3,2.5,3]},{name:"Destination - Home Theater",values:[4.5,6,7.5,7.5,5,3,1.5,.5,0,-.5,-1.5,-3,-5,-3,-1.5,0,1.5,3,3,3,1.5,0,0,3,6,7.5,7.5,6,3,0]},{name:"Drums",values:[0,0,0,0,0,0,0,-.1,.3,.4,-2,-2.8,0,.6,-.2,-.1,0,-.2,-.3,-.5,-.4,-.1,0,0,.2,-.3,-.1,2.5,2.1,0]},{name:"Generic Attack Booster",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.1,-.1,-.1,.2,.6,1.3,2,2.8,3.1,2.7,1.8,.6,-.2,-.3,-.1,0]},{name:"Generic Mud Removal",values:[0,0,0,0,-.1,-.3,-.7,-1.5,-2.4,-3,-2.8,-2,-.8,0,.4,.3,0,-.1,-.1,0,0,0,0,0,0,0,0,0,0,0]},{name:"Gentle Hi Boost",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5,1.5,3,5,5,3,1.5,.5]},{name:"Gentle Hi Cut",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.5,-1.5,-3,-5,-5,-3,-1.5,-.5]},{name:"Gentle Low Boost",values:[0,.5,1.5,3,5,3,1.5,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"Gentle Low Cut",values:[0,-.5,-1.5,-3,-5,-3,-1.5,-.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"Gentle Mid Boost",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,.5,1.5,3,5,5,3,1.5,.5,0,0,0,0,0,0,0,0,0]},{name:"Gentle Mid Cut",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,-.5,-1.5,-3,-5,-5,-3,-1.5,-.5,0,0,0,0,0,0,0,0,0]},{name:"Guitar - Increases Attack",values:[0,0,0,0,-1.5,-4,-2,0,0,0,0,0,0,0,0,0,0,-.2,-.3,-.4,2,0,-.1,0,0,0,-.1,0,0,0]},{name:"Keyboards - Bright and Clear",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.2,-.3,-.4,-.4,2,5,2.5,0,0,-.1,0,0,0]},{name:"Kick - Less Boxy, more Attack",values:[0,0,0,0,0,0,0,0,0,0,-2.5,-6,-2.5,0,0,0,0,0,0,0,0,2,5,2,0,0,0,0,0,0]},{name:"Lead Vocal - Clarity",values:[0,0,0,0,0,0,0,0,-3,0,0,0,0,0,0,0,0,-.2,-.3,-.4,-.4,0,2,0,0,4,-.1,0,0,0]},{name:"Notch Every 2/3 Octave",values:[-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99]},{name:"RIAA De-Emphasis",values:[18.3,17.6,16.7,15.6,14.2,12.8,11.3,9.6,8,6.5,5,3.7,2.6,1.6,.7,0,-.7,-1.6,-2.6,-3.7,-5.1,-6.6,-8.2,-10,-11.9,-13.8,-15.7,-17.7,-19.7,-20]},{name:"Snare - Increase Snap",values:[0,-.1,-.2,-.1,.5,1.3,1.9,1.9,1.3,.4,-.1,-.3,-.2,0,.1,0,0,-.1,-.2,-.4,-.6,-.7,-.5,1.5,2,0,0,0,.9,0]},{name:"cymbals sans gong",values:[-8,-6.5,-3.3,-.4,.4,-.5,-2.3,-3.7,-4.5,-4.4,-3.7,-2.3,-.9,.1,.5,.3,0,-.3,-.5,-.5,-.4,-.2,0,.1,0,0,-.1,0,0,0]}]);var L=n(1296),R=n.n(L);function G(e){return new Promise((function(t,n){chrome.tabs.query(e,(function(e){chrome.runtime.lastError?n(chrome.runtime.lastError.message):t(e||[])}))}))}function B(e){return U.apply(this,arguments)}function U(){return U=t(o().mark((function e(t){var n,r,a,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:5,r=i.length>2&&void 0!==i[2]?i[2]:100,a=0;case 3:if(!(a<Math.max(0,null!=n?n:3))){e.next=18;break}if(!a){e.next=7;break}return e.next=7,new Promise((function(e,t){return setTimeout((function(){return e(!0)}),null!=r?r:100)}));case 7:return e.prev=7,e.next=10,G(t);case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:a++,e.next=3;break;case 18:case"end":return e.stop()}}),e,null,[[7,13]])}))),U.apply(this,arguments)}function V(){return K.apply(this,arguments)}function K(){return(K=t(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({active:!0,currentWindow:!0},3,75);case 2:if((t=e.sent).length){e.next=5;break}return e.abrupt("return");case 5:return n=u(t,1),r=n[0],e.abrupt("return",{tabId:r.id,windowId:r.windowId,url:r.url});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){var n,r;return(null==e?void 0:e.tabId)===(null==t?void 0:t.tabId)&&(null!==(n=null==e?void 0:e.frameId)&&void 0!==n?n:null)===(null!==(r=null==t?void 0:t.frameId)&&void 0!==r?r:null)}function W(e){if(e.tab)return{tabId:e.tab.id,frameId:e.frameId,windowId:e.tab.windowId}}function z(e){return new Promise((function(t,n){chrome.runtime.sendMessage({type:"REQUEST_CREATE_TAB",url:e},(function(e){t(e)}))}))}function H(e){return new Promise((function(t,n){chrome.storage.local.get(e,(function(e){chrome.runtime.lastError?n(chrome.runtime.lastError):t(e)}))}))}function X(e){return e.toFixed(2).slice(0,4)}function Y(e){var t={};return"backdrop"!==e&&"both"!==e||(t.backdrop=!0),"element"!==e&&"both"!==e||(t.element=!0),t}function $(e,t,n,r){chrome.tabs.sendMessage(n,{type:"APPLY_MEDIA_EVENT",event:e,key:t},null==r?void 0:{frameId:r})}function J(e,t,n){chrome.tabs.sendMessage(t,e,null==n?void 0:{frameId:n})}function Q(e,t,n){var r=!1,o=!1;return t.parts.forEach((function(t){if(!t.disabled){var n=!1;if("STARTS_WITH"===t.type)n=e.startsWith(t.value);else if("CONTAINS"===t.type)n=e.includes(t.value);else{if("REGEX"!==t.type)return;try{n=new RegExp(t.value).test(e)}catch(e){}}(t.inverse?n:!n)?r=!0:o=!0}})),o||r?(!t.matchAll||!r)&&o:n}var Z=n(3465),ee=n.n(Z);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=D((function e(t){var n,r=this;N(this,e),this.state=t,f(this,"subs",new Set),f(this,"pins",[]),f(this,"frozen",new Set),f(this,"reload",(function(e){try{var t=C(e);t.version===T().version&&(r.state=t,r.pins=[],r.subs.forEach((function(e){e.handleUpdate(r.get(e.selector,e.tabId))})),r.persist())}catch(e){return!1}return!0})),f(this,"get",(function(e,t){var n={};for(var o in e){var a=o;if("isPinned"===a)n.isPinned=!!r.pins.find((function(e){return e.tabId===t}));else if(y.includes(a)){var i,u=(null===(i=r.pins.find((function(e){return e.tabId===t})))||void 0===i?void 0:i.ctx)||r.state.common;n[a]=u[a]}else n[a]=r.state[a]}return e.enabled&&r.get({superDisable:!0}).superDisable&&(n.enabled=!1),n})),f(this,"_set",(function(e,t,n,o){n&&(r.state=T(),r.pins=[]);var a,i={real:[],contextCommon:[],contextCurrent:[],isPinnedCurrent:!1},c=function(e){if(e||!a){var n=r.pins.find((function(e){return e.tabId===t}));a={pin:n,ctx:(null==n?void 0:n.ctx)||r.state.common}}};if("isPinned"in e&&null!=t){if(c(),e.isPinned&&!a.pin){i.isPinnedCurrent=!0,r.pins=r.pins||[];var s,l,d=r.state.common;o&&r.state.inheritPreviousContext&&(d=null!==(s=null===(l=r.pins.find((function(e){return e.tabId===o})))||void 0===l?void 0:l.ctx)&&void 0!==s?s:r.state.common),r.pins.push({tabId:t,ctx:ee()(d)}),c(!0)}!e.isPinned&&a.pin&&(i.isPinnedCurrent=!0,r.pins=(r.pins||[]).filter((function(e){return e.tabId!==t})),c(!0))}for(var f=0,p=Object.entries(e);f<p.length;f++){var v=u(p[f],2),h=v[0],m=v[1],b=h;if("isPinned"!==b)if(y.includes(b)){var g=h;c(),a.ctx[g]!==e[g]&&(a.ctx[g]=e[g],i[a.pin?"contextCurrent":"contextCommon"].push(g))}else m!==r.state[b]&&(r.state[b]=m,i.real.push(b))}return r.persistThrottled(),i})),f(this,"set",(function(e,t){var n,o=Array.isArray(e)?e:[e],a=!1,i=new Set,u=re(o);try{for(u.s();!(n=u.n()).done;){var c=n.value,s=c.override,l=c.tabId,d=c.ignoreSub,f=c.overDefault,p=r._set(s,l,f,c.inheritContextFromTabId);(p.contextCommon.includes("speed")||p.real.includes("freePitch"))&&(a=!0);var v,h=re(r.subs);try{var m=function(){var e=v.value;if(d&&e.id===d)return"continue";var t=!!r.pins.find((function(t){return t.tabId===e.tabId}));(f||ie(e,t,l,p))&&i.add(e)};for(h.s();!(v=h.n()).done;)m()}catch(e){h.e(e)}finally{h.f()}}}catch(e){u.e(e)}finally{u.f()}if(t?i.forEach((function(e){return r.frozen.add(e)})):i.forEach((function(e){e.handleUpdate(r.get(e.selector,e.tabId))})),a)try{r.updateBackgroundSpeed()}catch(e){}})),f(this,"unfreeze",(function(){r.frozen.forEach((function(e){e.handleUpdate(r.get(e.selector,e.tabId))})),r.frozen.clear()})),f(this,"updateBackgroundSpeed",(function(){window.globalMedia.scopes.forEach((function(e){var t,n,o,a,i=r.get({enabled:!0,speed:!0,isPinned:!0,freePitch:!0},null===(t=e.tabInfo)||void 0===t?void 0:t.tabId);i.enabled&&!i.isPinned&&$({type:"PLAYBACK_RATE",value:null!==(n=i.speed)&&void 0!==n?n:1,freePitch:i.freePitch},null,null===(o=e.tabInfo)||void 0===o?void 0:o.tabId,null===(a=e.tabInfo)||void 0===a?void 0:a.frameId)}))})),f(this,"persist",(function(){chrome.storage.local.set({config:r.state})})),f(this,"persistThrottled",R()(this.persist,5e3,{trailing:!0,maxWait:15e3})),f(this,"handlePortConnect",(function(e){if(e.name.startsWith("subscribe ")){var t=JSON.parse(e.name.slice(10)),n=t.selector,o=t.tabId,a=t.wait,i=t.maxWait,u=t.id,c={selector:n,tabId:o,handleUpdate:R()((function(t){e.postMessage(t)}),null!=a?a:0,ne({leading:!0,trailing:!0},null==i?{}:{maxWait:i})),id:u};r.subs.add(c),e.onDisconnect.addListener((function(e){r.subs.delete(c)}))}})),f(this,"handleMessage",(function(e,t,n){"PUSH_VIEW"===e.type?(r.set(e.init),n(!0)):"FETCH_VIEW"===e.type?n(r.get(e.selector,e.tabId)):"GET_STATE"===e.type?n(r.state):"RELOAD_STATE"===e.type&&n(r.reload(e.state))})),chrome.runtime.onMessage.addListener(this.handleMessage),chrome.runtime.onConnect.addListener(this.handlePortConnect),null===(n=chrome.runtime.onSuspend)||void 0===n||n.addListener((function(){r.persistThrottled.flush()}))}));function ie(e,t,n,r){var o=e.tabId===n||-1===e.tabId;if(e.selector.enabled&&r.real.includes("superDisable"))return!0;if(e.selector.isPinned&&o&&r.isPinnedCurrent)return!0;for(var a in e.selector){var i=a;if(y.includes(i)){if(o&&r.isPinnedCurrent)return!0;if((t||-1===e.tabId)&&r.contextCurrent.includes(i)&&o)return!0;if((!t||-1===e.tabId)&&r.contextCommon.includes(i))return!0}else if(r.real.includes(i))return!0}}function ue(e,t){return window.globalState?Promise.resolve(window.globalState.get(e,t)):new Promise((function(n,r){window.globalState?n(window.globalState.get(e,t)):chrome.runtime.sendMessage({type:"FETCH_VIEW",selector:e,tabId:t},(function(e){chrome.runtime.lastError?r(chrome.runtime.lastError):n(e)}))}))}function ce(e,t,n,r,o,a){e=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=u(e,2);return t[0],t[1]})))}(e);var i={cbs:r?new Set([r]):new Set,subId:j()},c=function(e,t){i.view=e,i.cbs.forEach((function(n){n(e,t)}))};if(window.globalState){var s=R()(c,null!=o?o:0,ne({trailing:!0,leading:!0},null==a?{}:{maxWait:a})),l={selector:e,tabId:t,handleUpdate:s,id:i.subId};window.globalState.subs.add(l),i.release=function(){i.released||(i.released=!0,i.cbs.clear(),window.globalState.subs.delete(l))}}else{var d=chrome.runtime.connect({name:"subscribe ".concat(JSON.stringify({selector:e,tabId:t,id:i.subId,wait:o,maxWait:a}))});d.onMessage.addListener((function(e){c(e)})),i.release=function(){i.released||(i.released=!0,i.cbs.clear(),d.disconnect())}}return i.push=function(n){var r,o,a={};Object.keys(e).forEach((function(e){a[e]=n[e]})),c(a,!1),r={override:a,tabId:t,ignoreSub:i.subId},null!==(o=window.globalState)&&void 0!==o&&o.set?(window.globalState.set(r),Promise.resolve()):new Promise((function(e,t){for(var n={},o=0,a=Object.entries(r.override||{});o<a.length;o++){var i=u(a[o],2),c=i[0],s=i[1];n[c]=null!=s?s:null}r.override=n,chrome.runtime.sendMessage({type:"PUSH_VIEW",init:r},(function(n){chrome.runtime.lastError?t(chrome.runtime.lastError):e()}))}))},n&&ue(e,t).then((function(e){c(e,!0)})),i}function se(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=D((function e(){var t=this;N(this,e),f(this,"client",ce({enabled:!0,isPinned:!0,hideBadge:!0},-1,!0,(function(){t.updateBadgesDeb()}),100)),f(this,"speedClient",ce({speed:!0},-1,!0,(function(){t.updateBadgesDeb()}),1e3)),f(this,"updateBadgesDeb",R()(fe,500,{trailing:!0,leading:!0})),chrome.tabs.onActivated.addListener((function(e){window.previousTabId=window.currentTabId,window.currentTabId=e.tabId,t.updateBadgesDeb()})),chrome.tabs.onUpdated.addListener((function(e,n){n.status&&t.updateBadgesDeb()}))}));function fe(){return pe.apply(this,arguments)}function pe(){return(pe=t(o().mark((function e(){var t,n,r,a,i,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({active:!0,currentWindow:void 0});case 2:if(null!=(t=e.sent)&&t.length){e.next=5;break}return e.abrupt("return");case 5:return n=t.map((function(e){return e.id})),e.next=8,ue({speed:!0,enabled:!0,hideBadge:!0});case 8:(r=e.sent).hideBadge||!r.enabled?chrome.browserAction.setBadgeText({text:"",tabId:null}):(chrome.browserAction.setBadgeBackgroundColor({color:"#a64646"}),chrome.browserAction.setBadgeText({text:X(r.speed),tabId:null})),chrome.browserAction.setIcon({path:r.enabled?ve:he}),a=se(n),e.prev=12,a.s();case 14:if((i=a.n()).done){e.next=23;break}return u=i.value,e.next=18,ue({speed:!0,enabled:!0,isPinned:!0},u);case 18:c=e.sent,r.hideBadge||!c.enabled?chrome.browserAction.setBadgeText({text:"",tabId:u}):(chrome.browserAction.setBadgeBackgroundColor({color:c.isPinned?"#44a":"#a64646",tabId:u}),chrome.browserAction.setBadgeText({text:X(c.speed),tabId:u})),chrome.browserAction.setIcon({path:c.enabled?ve:he,tabId:u});case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(12),a.e(e.t0);case 28:return e.prev=28,a.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[12,25,28,31]])})))).apply(this,arguments)}var ve={128:"icons/128.png"},he={128:"icons/128g.png"},me=D((function e(){var n=this;N(this,e),f(this,"ports",[]),f(this,"disconnectListeners",new Set),f(this,"handleDisconnect",(function(e){n.ports=n.ports.filter((function(t){return t!==e})),n.disconnectListeners.forEach((function(t){t(e)}))})),chrome.runtime.onConnect.addListener(function(){var e=t(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.ports.push(t),t.onDisconnect.addListener(n.handleDisconnect);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}var ye=["en","es","it","ja","ko","pt_BR","ru","tr","vi","zh_CN","zh_TW"];function ge(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=D((function e(n){var r=this;N(this,e),this.lang=n,f(this,"gsm",void 0),f(this,"loadedLang",void 0),f(this,"client",ce({language:!0},null,!0,(function(e){r.loadLocale(e.language)}))),f(this,"loadLocale",function(){var e=t(o().mark((function e(t){var n=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>1&&void 0!==n[1]&&n[1],!r.loadedLang||r.loadedLang.lang!=t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Se(t);case 5:r.gsm=e.sent,r.loadedLang={lang:t},window.gsm=r.gsm;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.loadLocale(n),chrome.runtime.onMessage.addListener((function(e,t,n){"REQUEST_GSM"===e.type&&n(r.gsm)}))}));function Se(e){return ke.apply(this,arguments)}function ke(){return ke=t(o().mark((function e(t){var n,r,a,i,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:n=e.sent,r=[t].concat(g(navigator.languages),g(n),["en"]).map((function(e){return(e||"").replace("-","_").toLowerCase()})),a=ge(r),e.prev=5,u=function(){var e=i.value,t=ye.findIndex((function(t){return t.toLowerCase()===e}));if(t<0)return"continue";try{return{v:je(ye[t])}}catch(e){}},a.s();case 8:if((i=a.n()).done){e.next=16;break}if("continue"!==(c=u())){e.next=12;break}return e.abrupt("continue",14);case 12:if("object"!==be(c)){e.next=14;break}return e.abrupt("return",c.v);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:return e.abrupt("return",je("en"));case 25:case"end":return e.stop()}}),e,null,[[5,18,21,24]])}))),ke.apply(this,arguments)}function je(e){return Me.apply(this,arguments)}function Me(){return(Me=t(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(chrome.runtime.getURL("locales/".concat(t,".json")));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return new Promise((function(e,t){chrome.i18n.getAcceptLanguages((function(t){return e(t)}))}))}function Oe(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ie(e){return!!e&&!!e[pt]}function Ae(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===vt}(e)||Array.isArray(e)||!!e[ft]||!!e.constructor[ft]||Fe(e)||De(e))}function Te(e,t,n){void 0===n&&(n=!1),0===Ee(e)?(n?Object.keys:ht)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Ee(e){var t=e[pt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Fe(e)?2:De(e)?3:0}function _e(e,t){return 2===Ee(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ce(e,t,n){var r=Ee(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Fe(e){return ct&&e instanceof Map}function De(e){return st&&e instanceof Set}function Ne(e){return e.o||e.t}function Le(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=mt(e);delete t[pt];for(var n=ht(t),r=0;r<n.length;r++){var o=n[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Re(e,t){return void 0===t&&(t=!1),Be(e)||Ie(e)||!Ae(e)||(Ee(e)>1&&(e.set=e.add=e.clear=e.delete=Ge),Object.freeze(e),t&&Te(e,(function(e,t){return Re(t,!0)}),!0)),e}function Ge(){Oe(2)}function Be(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Ue(e){var t=bt[e];return t||Oe(18,e),t}function Ve(){return it}function Ke(e,t){t&&(Ue("Patches"),e.u=[],e.s=[],e.v=t)}function qe(e){We(e),e.p.forEach(He),e.p=null}function We(e){e===it&&(it=e.l)}function ze(e){return it={p:[],l:it,h:e,m:!0,_:0}}function He(e){var t=e[pt];0===t.i||1===t.i?t.j():t.O=!0}function Xe(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Ue("ES5").S(t,e,r),r?(n[pt].P&&(qe(t),Oe(4)),Ae(e)&&(e=Ye(t,e),t.l||Je(t,e)),t.u&&Ue("Patches").M(n[pt].t,e,t.u,t.s)):e=Ye(t,n,[]),qe(t),t.u&&t.v(t.u,t.s),e!==dt?e:void 0}function Ye(e,t,n){if(Be(t))return t;var r=t[pt];if(!r)return Te(t,(function(o,a){return $e(e,r,t,o,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Je(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=Le(r.k):r.o;Te(3===r.i?new Set(o):o,(function(t,a){return $e(e,r,o,t,a,n)})),Je(e,o,!1),n&&e.u&&Ue("Patches").R(r,n,e.u,e.s)}return r.o}function $e(e,t,n,r,o,a){if(Ie(o)){var i=Ye(e,o,a&&t&&3!==t.i&&!_e(t.D,r)?a.concat(r):void 0);if(Ce(n,r,i),!Ie(i))return;e.m=!1}if(Ae(o)&&!Be(o)){if(!e.h.F&&e._<1)return;Ye(e,o),t&&t.A.l||Je(e,o)}}function Je(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Re(t,n)}function Qe(e,t){var n=e[pt];return(n?Ne(n):e)[t]}function Ze(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function et(e){e.P||(e.P=!0,e.l&&et(e.l))}function tt(e){e.o||(e.o=Le(e.t))}function nt(e,t,n){var r=Fe(t)?Ue("MapSet").N(t,n):De(t)?Ue("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Ve(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,a=yt;n&&(o=[r],a=gt);var i=Proxy.revocable(o,a),u=i.revoke,c=i.proxy;return r.k=c,r.j=u,c}(t,n):Ue("ES5").J(t,n);return(n?n.A:Ve()).p.push(r),r}function rt(e){return Ie(e)||Oe(22,e),function e(t){if(!Ae(t))return t;var n,r=t[pt],o=Ee(t);if(r){if(!r.P&&(r.i<4||!Ue("ES5").K(r)))return r.t;r.I=!0,n=ot(t,o),r.I=!1}else n=ot(t,o);return Te(n,(function(t,o){r&&function(e,t){return 2===Ee(e)?e.get(t):e[t]}(r.t,t)===o||Ce(n,t,e(o))})),3===o?new Set(n):n}(e)}function ot(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Le(e)}var at,it,ut="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ct="undefined"!=typeof Map,st="undefined"!=typeof Set,lt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,dt=ut?Symbol.for("immer-nothing"):((at={})["immer-nothing"]=!0,at),ft=ut?Symbol.for("immer-draftable"):"__$immer_draftable",pt=ut?Symbol.for("immer-state"):"__$immer_state",vt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ht="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,mt=Object.getOwnPropertyDescriptors||function(e){var t={};return ht(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},bt={},yt={get:function(e,t){if(t===pt)return e;var n=Ne(e);if(!_e(n,t))return function(e,t,n){var r,o=Ze(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Ae(r)?r:r===Qe(e.t,t)?(tt(e),e.o[t]=nt(e.A.h,r,e)):r},has:function(e,t){return t in Ne(e)},ownKeys:function(e){return Reflect.ownKeys(Ne(e))},set:function(e,t,n){var r=Ze(Ne(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=Qe(Ne(e),t),a=null==o?void 0:o[pt];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||_e(e.t,t)))return!0;tt(e),et(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Qe(e.t,t)||t in e.t?(e.D[t]=!1,tt(e),et(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ne(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Oe(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Oe(12)}},gt={};Te(yt,(function(e,t){gt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),gt.deleteProperty=function(e,t){return gt.set.call(this,e,t,void 0)},gt.set=function(e,t,n){return yt.set.call(this,e[0],t,n,e[0])};var wt,xt=function(){function e(e){var t=this;this.g=lt,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var i;if("function"!=typeof n&&Oe(6),void 0!==r&&"function"!=typeof r&&Oe(7),Ae(e)){var u=ze(t),c=nt(t,e,void 0),s=!0;try{i=n(c),s=!1}finally{s?qe(u):We(u)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Ke(u,r),Xe(e,u)}),(function(e){throw qe(u),e})):(Ke(u,r),Xe(i,u))}if(!e||"object"!=typeof e){if(void 0===(i=n(e))&&(i=e),i===dt&&(i=void 0),t.F&&Re(i,!0),r){var l=[],d=[];Ue("Patches").M(e,i,l,d),r(l,d)}return i}Oe(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,a=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,o]})):[a,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ae(e)||Oe(8),Ie(e)&&(e=rt(e));var t=ze(this),n=nt(this,e,void 0);return n[pt].C=!0,We(t),n},t.finishDraft=function(e,t){var n=(e&&e[pt]).A;return Ke(n,t),Xe(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!lt&&Oe(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=Ue("Patches").$;return Ie(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),St=new xt,kt=St.produce,jt=(St.produceWithPatches.bind(St),St.setAutoFreeze.bind(St),St.setUseProxies.bind(St),St.applyPatches.bind(St),St.createDraft.bind(St),St.finishDraft.bind(St),kt);function Mt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t){return Tt.apply(this,arguments)}function Tt(){return Tt=t(o().mark((function e(t,n){var r,a,i,u,c,s,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){return window.globalState.get(e,null==n?void 0:n.tabId)},a=function(e){n&&!r({hideIndicator:!0}).hideIndicator&&J({type:"SHOW_INDICATOR",opts:e,requiresFocus:null==n.frameId},n.tabId,n.frameId)},u=function(e){i&&$(e,i.key,i.tabInfo.tabId,i.tabInfo.frameId)},c=Mt(t),e.prev=4,l=function(){var e,t=s.value,o=I[t.command];if((o.requiresMedia||o.requiresVideo)&&(i&&o.requiresVideo&&!i.isVideo&&(i=void 0),i||(i=null!==(e=window.globalMedia.getAuto(n,o.requiresVideo))&&void 0!==e?e:null),!i))return"continue";var c=void 0,l={};try{if(tn[t.command]({autoCapture:function(e){null!=(null==n?void 0:n.tabId)&&(null==e?void 0:e.toFixed(6))!==o.valueDefault.toFixed(6)&&window.captureMgr.captureTab(n.tabId).catch((function(e){}))},getCycleValue:function(){var e,n;if(c)return c.value;var r=(null!==(e=t.cycleIncrement)&&void 0!==e?e:0)+1;if(!((null===(n=t.valueCycle)||void 0===n?void 0:n.length)>0))throw Error("No items in cycle");return(c={value:t.valueCycle[r%t.valueCycle.length],nextIncrement:r}).value},fetch:r,override:l,kb:t,commandInfo:o,tabInfo:n,media:i,applyToMedia:u,show:t.hideIndicator?function(){}:a}),c){var d,f=window.globalState.get({keybinds:!0}).keybinds||[];l.keybinds=jt(null!==(d=l.keybinds)&&void 0!==d?d:f,(function(e){e.find((function(e){return e.id===t.id})).cycleIncrement=c.nextIncrement}))}Object.keys(l).length&&window.globalState.set({override:l,tabId:null==n?void 0:n.tabId},!0)}catch(e){return"break"}},c.s();case 7:if((s=c.n()).done){e.next=15;break}if("continue"!==(d=l())){e.next=11;break}return e.abrupt("continue",13);case 11:if("break"!==d){e.next=13;break}return e.abrupt("break",15);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:window.globalState.unfreeze();case 24:case"end":return e.stop()}}),e,null,[[4,17,20,23]])}))),Tt.apply(this,arguments)}var Et,_t,Ct,Ft,Dt,Nt,Lt,Rt,Gt,Bt,Ut,Vt,Kt,qt,Wt,zt,Ht,Xt,Yt,$t,Jt,Qt,Zt,en,tn={nothing:(en=t(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return en.apply(this,arguments)}),runCode:(Zt=t(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.kb,r=t.tabInfo){e.next=3;break}return e.abrupt("return");case 3:J({type:"INJECT_SCRIPT",requiresFocus:null==r.frameId,code:n.valueString},r.tabId,r.frameId);case 4:case"end":return e.stop()}}),e)}))),function(e){return Zt.apply(this,arguments)}),openUrl:(Qt=t(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,chrome.tabs.create?chrome.tabs.create({url:n.valueString}):chrome.runtime.sendMessage&&z(n.valueString);case 2:case"end":return e.stop()}}),e)}))),function(e){return Qt.apply(this,arguments)}),setState:(Jt=t(o().mark((function e(t){var n,r,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,r=t.show,a=t.override,i=t.fetch,u=i({enabled:!0}),a.enabledLatestViaPopup=!1,"off"===n.valueState||"toggle"===n.valueState&&u.enabled?a.enabled=!1:a.enabled=!0,r({text:" ".concat(window.gsm.token[a.enabled?"on":"off"]),icons:["power"]});case 5:case"end":return e.stop()}}),e)}))),function(e){return Jt.apply(this,arguments)}),setPin:($t=t(o().mark((function e(t){var n,r,a,i,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.kb,r=t.tabInfo,a=t.override,i=t.show,u=t.fetch,r){e.next=3;break}return e.abrupt("return");case 3:(c=u({speed:!0,isPinned:!0})).speed,"off"===n.valueState||"toggle"===n.valueState&&c.isPinned?(a.isPinned=!1,c.isPinned&&window.globalState.state.common.speed):a.isPinned=!0,i({text:a.isPinned?"local":"global",small:!0});case 7:case"end":return e.stop()}}),e)}))),function(e){return $t.apply(this,arguments)}),adjustSpeed:(Yt=t(o().mark((function e(t){var n,r,a,i,u,c,s,l,d,f,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.kb,r=t.show,a=t.fetch,i=t.override,u=t.commandInfo,c=t.getCycleValue,s=a({speed:!0,isPinned:!0,keybinds:!0,lastSpeed:!0}),n.adjustMode===p.CYCLE?l=c():n.adjustMode===p.SET?l=null!==(d=n.valueNumber)&&void 0!==d?d:u.valueDefault:n.adjustMode===p.ADD&&(l=(null!==(f=s.speed)&&void 0!==f?f:1)+(null!==(v=n.valueNumberAlt)&&void 0!==v?v:u.valueStep)),null!=l&&!isNaN(l)){e.next=5;break}throw Error("Value not NULL or NaN.");case 5:l=S(u.valueMin,u.valueMax,k(l,3)),n.adjustMode===p.SET&&l===s.speed&&null!=s.lastSpeed?i.speed=s.lastSpeed:i.speed=l,i.lastSpeed=s.speed,r({text:(o=i.speed,o.toFixed(2))});case 9:case"end":return e.stop()}var o}),e)}))),function(e){return Yt.apply(this,arguments)}),speedChangesPitch:(Xt=t(o().mark((function e(t){var n,r,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,r=t.show,a=t.override,i=t.fetch,u=i({freePitch:!0}),"off"===n.valueState||"toggle"===n.valueState&&u.freePitch?a.freePitch=!1:a.freePitch=!0,r({text:" ".concat(window.gsm.token[a.freePitch?"on":"off"]),icons:["speedChangesPitch"]});case 4:case"end":return e.stop()}}),e)}))),function(e){return Xt.apply(this,arguments)}),seek:(Ht=t(o().mark((function e(t){var n,r,a,i,u,c,s,l,d,f,p,v,h,m,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.kb,a=t.media,i=t.applyToMedia,u=t.show,c=t.fetch,!r.valueBool4){e.next=6;break}return l=null!==(s=r.valueNumberAlt)&&void 0!==s?s:50,u({text:"".concat(null==l?void 0:l.toFixed(0),"%")}),i({type:"SEEK",percent:!0,value:l/100,fast:r.valueBool2,autoPause:r.valueBool3}),e.abrupt("return");case 6:d=c({showNetSeek:!0}),f=d.showNetSeek,p=null!==(n=c({speed:!0}).speed)&&void 0!==n?n:1,v=r.valueBool?r.valueNumber*p:r.valueNumber,h=" ".concat(Math.abs(k(v,2))),f&&Math.abs(v)>=1&&(m=(new Date).getTime(),b=0,wt&&wt.key===a.key&&wt.time+1e3>m&&(b=wt.net),b+=v,wt={key:a.key,time:m,net:b},h=" ".concat(b<0?"-":"").concat((void 0,void 0,(g=(y=(o=Math.abs(b))/60)/60)>=100?"":g>1?"".concat(Math.floor(g),":").concat(Math.floor(y%60).toString().padStart(2,"0"),":").concat(Math.floor(o%60).toString().padStart(2,"0")):"".concat(Math.floor(y).toString().padStart(1,"0"),":").concat(Math.floor(o%60).toString().padStart(2,"0"))))),r.valueNumber>=0?u({icons:["forward"],text:h}):u({icons:["backward"],text:h}),i({type:"SEEK",value:v,relative:!0,fast:r.valueBool2,autoPause:r.valueBool3});case 13:case"end":return e.stop()}var o,y,g}),e)}))),function(e){return Ht.apply(this,arguments)}),setPause:(zt=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,r=t.media,a=t.applyToMedia,i=t.show,"off"===n.valueState||"toggle"===n.valueState&&r.paused?i({icons:["play"]}):i({icons:["pause"]}),a({type:"PAUSE",state:n.valueState});case 3:case"end":return e.stop()}}),e)}))),function(e){return zt.apply(this,arguments)}),setMute:(Wt=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,r=t.media,a=t.applyToMedia,i=t.show,"off"===n.valueState||"toggle"===n.valueState&&r.muted?i({text:"".concat(Math.round(100*r.volume),"%")}):i({text:"0%"}),a({type:"MUTE",state:n.valueState});case 3:case"end":return e.stop()}}),e)}))),function(e){return Wt.apply(this,arguments)}),adjustVolume:(qt=t(o().mark((function e(t){var n,r,a,i,u,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.kb,a=t.media,i=t.applyToMedia,u=t.show,c=t.commandInfo,s=null!==(n=r.valueNumber)&&void 0!==n?n:c.valueDefault,u({text:"".concat((100*S(0,1,a.volume+s)).toFixed(Math.abs(s)>=.01?0:1),"%")}),i({type:"SET_VOLUME",value:s,relative:!0});case 4:case"end":return e.stop()}}),e)}))),function(e){return qt.apply(this,arguments)}),setMark:(Kt=t(o().mark((function e(t){var n,r,a,i,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.kb,a=t.applyToMedia,i=t.show,u=" ".concat(r.valueString),c=["bookmark"],e.t0=null===(n=r.valueString)||void 0===n?void 0:n.toLowerCase(),e.next="::nameless"===e.t0?6:"::nameless-prev"===e.t0?8:"::nameless-next"===e.t0?11:14;break;case 6:return u=" nameless",e.abrupt("break",14);case 8:return u=" prev",c=["arrowLeft"],e.abrupt("break",14);case 11:return u=" next",c=["arrowRight"],e.abrupt("break",14);case 14:i({icons:c,text:u,small:!0}),a({type:"SET_MARK",key:r.valueString});case 16:case"end":return e.stop()}}),e)}))),function(e){return Kt.apply(this,arguments)}),seekMark:(Vt=t(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.media,r=t.kb,a=t.applyToMedia,(0,t.show)({icons:n.marks.includes(r.valueString)?["arrowRight"]:["bookmark"],text:" ".concat(r.valueString),small:!0}),a({type:"SEEK_MARK",key:r.valueString,fast:r.valueBool2});case 3:case"end":return e.stop()}}),e)}))),function(e){return Vt.apply(this,arguments)}),toggleLoop:(Ut=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.media,r=t.kb,a=t.applyToMedia,i=t.show,!n.marks.includes(r.valueString)){e.next=5;break}return i({icons:["loop"],text:" ".concat(n.inLoop?"off":"on"),small:!0}),a({type:"TOGGLE_LOOP",key:r.valueString}),e.abrupt("return");case 5:i({icons:["loop"],text:" ".concat(r.valueString,"???"),small:!0});case 6:case"end":return e.stop()}}),e)}))),function(e){return Ut.apply(this,arguments)}),fullscreen:(Bt=t(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,(0,t.applyToMedia)({type:"FULLSCREEN",direct:n.valueBool});case 2:case"end":return e.stop()}}),e)}))),function(e){return Bt.apply(this,arguments)}),PiP:(Gt=t(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,(0,t.applyToMedia)({type:"PIP",state:n.valueState});case 2:case"end":return e.stop()}}),e)}))),function(e){return Gt.apply(this,arguments)}),setFx:(Rt=t(o().mark((function e(t){var n,r,a,i,u,c,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,r=t.fetch,a=t.override,i=t.show,u=r({elementFx:!0,backdropFx:!0}),(c=Y(n.filterTarget)).element&&(s="on"===n.valueState||"toggle"===n.valueState&&!u.elementFx.enabled,a.elementFx=It(It({},u.elementFx),{},{enabled:s})),c.backdrop&&(l="on"===n.valueState||"toggle"===n.valueState&&!u.backdropFx.enabled,a.backdropFx=It(It({},u.backdropFx),{},{enabled:l})),i({icons:["fx","power"]});case 6:case"end":return e.stop()}}),e)}))),function(e){return Rt.apply(this,arguments)}),resetFx:(Lt=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.kb,r=t.show,a=t.override,(i=Y(n.filterTarget)).element&&(a.elementFx=E()),i.backdrop&&(a.backdropFx=E()),r({icons:["fx","reset"]});case 5:case"end":return e.stop()}}),e)}))),function(e){return Lt.apply(this,arguments)}),flipFx:(Nt=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.fetch,r=t.show,a=t.override,i=n({backdropFx:!0,elementFx:!0}),a.elementFx=i.backdropFx,a.backdropFx=i.elementFx,r({icons:["swap"]});case 5:case"end":return e.stop()}}),e)}))),function(e){return Nt.apply(this,arguments)}),adjustFilter:(Dt=t(o().mark((function e(t){var n,r,a,i,u,c,s,l,f,v,h,m,b,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.kb,r=t.show,a=t.fetch,i=t.override,u=t.getCycleValue,c=Y(n.filterTarget),s=c.element,l=c.backdrop,f=d[n.filterOption]){e.next=5;break}throw Error("No filter type provided.");case 5:n.adjustMode===p.CYCLE?v={relative:!1,value:null!==(h=u())&&void 0!==h?h:f.default}:n.adjustMode===p.SET?v={relative:!1,value:null!==(m=n.valueNumber)&&void 0!==m?m:f.default}:n.adjustMode===p.ADD&&(v={relative:!0,value:null!==(b=n.valueNumberAlt)&&void 0!==b?b:f.step}),y=new Set,Object.assign(i,jt(a({elementFx:!0,backdropFx:!0}),(function(e){if(s){e.elementFx.enabled=!0;var t=e.elementFx[f.isTransform?"transforms":"filters"].find((function(e){return e.name===n.filterOption}));t.value=S(f.min,f.max,v.relative?t.value+v.value:v.value),y.add(t.value)}if(l){e.backdropFx.enabled=!0;var r=e.backdropFx[f.isTransform?"transforms":"filters"].find((function(e){return e.name===n.filterOption}));r.value=S(f.min,f.max,v.relative?r.value+v.value:v.value),y.add(r.value)}}))),r({text:Array.from(y).map((function(e){return e.toFixed(2)})).join("\n")});case 9:case"end":return e.stop()}}),e)}))),function(e){return Dt.apply(this,arguments)}),adjustPitch:(Ft=t(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nn(t,"pitch",(function(e){return"".concat(e.toFixed(1))}));case 1:case"end":return e.stop()}}),e)}))),function(e){return Ft.apply(this,arguments)}),adjustGain:(Ct=t(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nn(t,"volume",(function(e){return"".concat((100*e).toFixed(0),"%")}));case 1:case"end":return e.stop()}}),e)}))),function(e){return Ct.apply(this,arguments)}),adjustDelay:(_t=t(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nn(t,"delay",(function(e){return"".concat(e.toFixed(2))}));case 1:case"end":return e.stop()}}),e)}))),function(e){return _t.apply(this,arguments)}),tabCapture:(Et=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.kb,r=t.show,a=t.tabInfo){e.next=3;break}return e.abrupt("return");case 3:if(i="off",e.prev=4,"off"!==n.valueState){e.next=9;break}window.captureMgr.releaseTab(a.tabId),e.next=18;break;case 9:if("on"!==n.valueState){e.next=15;break}return e.next=12,window.captureMgr.captureTab(a.tabId);case 12:i="on",e.next=18;break;case 15:return e.next=17,window.captureMgr.handleToggleTab(a.tabId);case 17:window.captureMgr.infos.find((function(e){return e.tabId===a.tabId}))&&(i="on");case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(4),e.abrupt("return");case 23:r({text:i});case 24:case"end":return e.stop()}}),e,null,[[4,20]])}))),function(e){return Et.apply(this,arguments)})};function nn(e,t,n){var r,o,a=e.kb,i=e.fetch,u=e.show,c=e.override,s=e.getCycleValue,l=e.commandInfo,d=i({audioFx:!0,audioFxAlt:!0}),v=d.audioFx,h=d.audioFxAlt;if(v=v||_(),a.adjustMode===p.CYCLE)o=r=s();else if(a.adjustMode===p.SET){var m;o=r=null!==(m=a.valueNumber)&&void 0!==m?m:l.valueDefault}else if(a.adjustMode===p.ADD){var b,y;r=v[t]+(null!==(b=a.valueNumberAlt)&&void 0!==b?b:l.valueStep),o=(h||v)[t]+(null!==(y=a.valueNumberAlt)&&void 0!==y?y:l.valueStep)}var g=new Set;if(null==r||isNaN(r))throw Error("Value not NULL or NaN.");r=S(l.valueMin,l.valueMax,r),c.audioFx=It(It({},v),{},f({},t,r)),g.add(n(r)),e.autoCapture(c.audioFx[t]),h&&!isNaN(o)&&null!=o&&(o=S(l.valueMin,l.valueMax,o),c.audioFxAlt=It(It({},h),{},f({},t,o)),g.add(n(o)),e.autoCapture(c.audioFxAlt[t])),u({text:Array.from(g).join(", ")})}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=D((function e(){var t=this;N(this,e),f(this,"scopes",[]),f(this,"watchPorts",new Set),f(this,"canopyPorts",new Set),f(this,"latestPin",void 0),f(this,"pushVolume",void 0),f(this,"handleMessage",(function(e,n,r){if("MEDIA_SET_PIN"===e.type)t.latestPin=e.value,t.sendUpdate(),r(!0);else if("MEDIA_PUSH_SCOPE"===e.type){var o=e.value;if(o.tabInfo=W(n),!o.tabInfo)return r(!0);o.pushTime=(new Date).getTime();var a=t.scopes.findIndex((function(e){return q(e.tabInfo,o.tabInfo)}));-1===a?t.scopes.push(o):t.scopes.splice(a,1,o),t.sendUpdate(),r(!0)}else"MEDIA_PUSH_SOUND"===e.type&&(t.pushVolume=isNaN(e.volume)?.5:e.volume)})),f(this,"sendUpdate",(function(){if(t.watchPorts.size){var e,n={scopes:t.scopes,pinned:null===(e=t.latestPin)||void 0===e?void 0:e.key};t.watchPorts.forEach((function(e){e.postMessage(n)}))}})),f(this,"getAuto",(function(e,n){var r,o,a=window.globalState.get({ignorePiP:!0}).ignorePiP,i=function(e){var t=[];return null==e||e.forEach((function(e){var n;null===(n=e.media)||void 0===n||n.forEach((function(n){t.push(on(on({},n),e))}))})),t}(t.scopes).filter((function(e){return e.readyState})),u=(i=n?i.filter((function(e){return e.videoSize})):i).find((function(e){var n;return e.key===(null===(n=t.latestPin)||void 0===n?void 0:n.key)}));if(u)return u;i.sort((function(e,t){return t.pushTime-e.pushTime}));var c=i.find((function(e){return e.pipMode}));if(!a&&c)return c;if(!e)return c||void 0;if(!(i=i.filter((function(t){return t.tabInfo.tabId===e.tabId}))).length)return c||void 0;var s,l=null===(r=i.filter((function(e){return null!=e.intersectionRatio})).sort((function(e,t){return t.intersectionRatio-e.intersectionRatio}))[0])||void 0===r?void 0:r.intersectionRatio;return i.forEach((function(t){var n=0;q(t.tabInfo,e)&&0!==e.frameId&&(n+=32),t.intersectionRatio>.05&&t.intersectionRatio===l&&(n+=16),(t.infinity||t.duration>=1800)&&(n+=8),t.duration>=600&&(n+=4),t.duration>=180&&(n+=2),t.duration>=60&&(n+=1),t.isVideo&&"www.spotify.com"!==location.hostname&&!t.isConnected&&(n=-1),(!s||n>s.score||n===s.score&&(t.infinity?60:t.duration)>s.info.duration)&&(s={info:t,score:n})})),null===(o=s)||void 0===o?void 0:o.info})),chrome.runtime.onMessage.addListener(this.handleMessage),chrome.runtime.onConnect.addListener((function(e){"MEDIA_WATCH"===e.name?(t.watchPorts.add(e),t.sendUpdate(),e.onDisconnect.addListener((function(){t.watchPorts.delete(e)}))):"MEDIA_CANOPY"===e.name&&(t.canopyPorts.add(e),e.onDisconnect.addListener((function(){t.canopyPorts.delete(e),t.scopes=t.scopes.filter((function(t){return!q(t.tabInfo,W(e.sender))})),t.sendUpdate()})))}))}));function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=D((function e(){var t=this;N(this,e),f(this,"appliedRules",new Map),f(this,"client",ce({rules:!0,superDisable:!0},null,!0,(function(e){t.syncListeners(e)}))),f(this,"addedCommit",!1),f(this,"addedHistory",!1),f(this,"syncListeners",(function(e){var n=e.superDisable?[]:(e.rules||[]).filter((function(e){return e.enabled})),r=!1,o=!1;n.length&&(r=!0,n.some((function(e){return!e.initialLoadOnly}))&&(o=!0)),r?chrome.webNavigation.onCommitted.addListener(t.handleCommit,{url:[{schemes:["http","https"]}]}):chrome.webNavigation.onCommitted.removeListener(t.handleCommit),o?chrome.webNavigation.onHistoryStateUpdated.addListener(t.handleHistoryUpdate,{url:[{schemes:["http","https"]}]}):chrome.webNavigation.onHistoryStateUpdated.removeListener(t.handleHistoryUpdate)})),f(this,"hasAppliedRule",(function(e,n){var r;return!(null===(r=t.appliedRules.get(e))||void 0===r||!r.has(n))})),f(this,"setAppliedRule",(function(e,n){var r,o=null!==(r=t.appliedRules.get(e))&&void 0!==r?r:new Set;o.add(n),t.appliedRules.set(e,o)})),f(this,"handleCommit",(function(e){t.handleNavigation(e,!0)})),f(this,"handleHistoryUpdate",(function(e){t.handleNavigation(e,!1)})),f(this,"handleNavigation",(function(e,n){var r,o;if(!e.frameId&&null!=e.tabId){var a=[];null===(r=t.client.view)||void 0===r||null===(o=r.rules)||void 0===o||o.forEach((function(r){var o;if(r.enabled&&(!r.initialLoadOnly||n)&&(r.strict||!t.hasAppliedRule(r.id,e.tabId))&&Q(e.url,r.condition,!1))if(t.setAppliedRule(r.id,e.tabId),"STATE"!==r.type)if("SPEED"!==r.type)if("FX"!==r.type)"JS"!==r.type||setTimeout((function(){r.overrideJs&&chrome.tabs.sendMessage(e.tabId,{type:"RUN_JS",value:r.overrideJs},{frameId:e.frameId})}),M()&&n?500:100);else{var i,u=null!==(i=r.overrideFx)&&void 0!==i?i:{elementFx:E(),backdropFx:E()};a.push(cn(cn({},u),{},{isPinned:!0}))}else a.push({speed:null!==(o=r.overrideSpeed)&&void 0!==o?o:1,isPinned:!0});else a.push({enabled:r.overrideEnabled,isPinned:!0})})),a.length&&window.globalState.set(a.map((function(t){return{override:t,tabId:e.tabId}})))}}))})),ln=function(){function e(t){var n=this;N(this,e),this.ctx=t,f(this,"input",void 0),f(this,"output",void 0),f(this,"mod1Gain",void 0),f(this,"mod2Gain",void 0),f(this,"mod3Gain",void 0),f(this,"mod4Gain",void 0),f(this,"modGain1",void 0),f(this,"modGain2",void 0),f(this,"mod1",void 0),f(this,"mod2",void 0),f(this,"mod3",void 0),f(this,"mod4",void 0),f(this,"fade1",void 0),f(this,"fade2",void 0),f(this,"release",(function(){n.fade1.stop(),n.fade1.stop(),n.mod1.stop(),n.mod2.stop(),n.mod3.stop(),n.mod4.stop(),n.input.disconnect(),n.output.disconnect(),e.releaseCached()})),f(this,"setDelay",(function(e){n.modGain1.gain.setTargetAtTime(.5*e,n.ctx.currentTime,.01),n.modGain2.gain.setTargetAtTime(.5*e,n.ctx.currentTime,.01)})),f(this,"setPitchOffset",(function(e){var t;t=e,(e=Math.pow(2,1+1/12*t)-2)>0?(n.mod1Gain.gain.value=0,n.mod2Gain.gain.value=0,n.mod3Gain.gain.value=1,n.mod4Gain.gain.value=1):(n.mod1Gain.gain.value=1,n.mod2Gain.gain.value=1,n.mod3Gain.gain.value=0,n.mod4Gain.gain.value=0),n.setDelay(.1*Math.abs(e))}));var r=e.getCache(t);this.input=t.createGain(),this.output=t.createGain(),this.mod1=t.createBufferSource(),this.mod2=t.createBufferSource(),this.mod3=t.createBufferSource(),this.mod4=t.createBufferSource(),this.mod1.buffer=r.down,this.mod2.buffer=r.down,this.mod3.buffer=r.up,this.mod4.buffer=r.up,this.mod1.loop=!0,this.mod2.loop=!0,this.mod3.loop=!0,this.mod4.loop=!0,this.mod1Gain=t.createGain(),this.mod2Gain=t.createGain(),this.mod3Gain=t.createGain(),this.mod3Gain.gain.value=0,this.mod4Gain=t.createGain(),this.mod4Gain.gain.value=0,this.mod1.connect(this.mod1Gain),this.mod2.connect(this.mod2Gain),this.mod3.connect(this.mod3Gain),this.mod4.connect(this.mod4Gain),this.modGain1=t.createGain(),this.modGain2=t.createGain();var o=t.createDelay(5),a=t.createDelay(5);this.mod1Gain.connect(this.modGain1),this.mod2Gain.connect(this.modGain2),this.mod3Gain.connect(this.modGain1),this.mod4Gain.connect(this.modGain2),this.modGain1.connect(o.delayTime),this.modGain2.connect(a.delayTime),this.fade1=t.createBufferSource(),this.fade2=t.createBufferSource();var i=r.fade;this.fade1.buffer=i,this.fade2.buffer=i,this.fade1.loop=!0,this.fade2.loop=!0;var u=t.createGain(),c=t.createGain();u.gain.value=0,c.gain.value=0,this.fade1.connect(u.gain),this.fade2.connect(c.gain),this.input.connect(o),this.input.connect(a),o.connect(u),a.connect(c),u.connect(this.output),c.connect(this.output);var s=t.currentTime+.05,l=s+.1-.05;this.mod1.start(s),this.mod2.start(l),this.mod3.start(s),this.mod4.start(l),this.fade1.start(s),this.fade2.start(l),this.setDelay(.1)}return D(e,null,[{key:"getCache",value:function(t){return e.cached||(e.cached={down:fn(t,!1),up:fn(t,!0),fade:dn(t),references:0}),e.cached.references++,e.cached}},{key:"releaseCached",value:function(){e.cached&&(e.cached.references--,e.cached.references<=0&&delete e.cached)}}]),e}();function dn(e){for(var t=.1*e.sampleRate,n=t+0*e.sampleRate,r=e.createBuffer(1,n,e.sampleRate),o=r.getChannelData(0),a=.05*e.sampleRate,i=a,u=t-a,c=0;c<t;++c){var s;s=c<i?Math.sqrt(c/a):c>=u?Math.sqrt(1-(c-u)/a):1,o[c]=s}for(c=t;c<n;++c)o[c]=0;return r}function fn(e,t){for(var n=.1*e.sampleRate,r=n+0*e.sampleRate,o=e.createBuffer(1,r,e.sampleRate),a=o.getChannelData(0),i=0;i<n;++i)a[i]=t?(n-i)/r:i/n;for(i=n;i<r;++i)a[i]=0;return o}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e,t){return vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vn(e,t)}function hn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vn(e,t)}function mn(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pn(e)}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}function yn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gn(e,t,n){return gn=yn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&vn(o,n.prototype),o},gn.apply(null,arguments)}function wn(e){var t="function"==typeof Map?new Map:void 0;return wn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return gn(e,arguments,bn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),vn(n,e)},wn(e)}f(ln,"cached",void 0);var xn=function(e){hn(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=bn(t);if(n){var o=bn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return mn(this,e)});function o(e){var t;return N(this,o),(t=r.call(this,e,"sound-touch-processor",{channelCount:2,channelCountMode:"clamped-max"})).ctx=e,f(pn(t),"release",(function(){t.port.postMessage({type:"RELEASE"})})),f(pn(t),"update",(function(e){t.parameters.get("semitone").value=e})),44100!==t.ctx.sampleRate&&console.warn("Audio context sample rate should be 44100."),t}return D(o)}(wn(AudioWorkletNode));f(xn,"triedAddModule",!1),f(xn,"addedModule",!1),f(xn,"addModule",function(){var e=t(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn.triedAddModule=!0,e.next=3,t.audioWorklet.addModule("sound-touch-processor.js");case 3:xn.addedModule=!0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Sn=function(e){hn(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=bn(t);if(n){var o=bn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return mn(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return N(this,o),(t=r.call(this,e,"reverse-sound-processor",{channelCount:1,channelCountMode:"explicit",processorOptions:{maxSize:n*e.sampleRate}})).ctx=e,f(pn(t),"endedCb",void 0),f(pn(t),"playingCb",void 0),f(pn(t),"ended",!1),f(pn(t),"forceEnd",(function(){t.port.postMessage({type:"RELEASE"})})),t.port.onmessage=function(e){var n,r,o=e.data;if("RELEASED"===o.type)t.ended=!0,null===(n=(r=t).endedCb)||void 0===n||n.call(r);else if("PLAYING"===o.type){var a,i;null===(a=(i=t).playingCb)||void 0===a||a.call(i)}},t}return D(o)}(wn(AudioWorkletNode));function kn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}f(Sn,"triedAddModule",!1),f(Sn,"addedModule",!1),f(Sn,"addModule",function(){var e=t(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sn.triedAddModule=!0,e.next=3,t.audioWorklet.addModule("reverse-sound-processor.js");case 3:Sn.addedModule=!0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Mn=D((function e(){var n=this;N(this,e),f(this,"audioCtx",void 0),f(this,"infos",[]),f(this,"initReverse",function(){var e=t(o().mark((function e(t,r){var a,i,u,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.infos.find((function(e){return e.tabId===t})),null===(a=i)||void 0===a||!a.reverse){e.next=3;break}return e.abrupt("return");case 3:if(i){e.next=12;break}return e.prev=4,e.next=7,n.captureTab(t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),r.disconnect();case 12:if((i=n.infos.find((function(e){return e.tabId===t})))||r.disconnect(),Sn.triedAddModule){e.next=23;break}return e.prev=15,e.next=18,Sn.addModule(n.audioCtx);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(15),r.disconnect();case 23:u=[],(c=new Sn(n.audioCtx)).playingCb=function(){var e,n=kn(window.globalMedia.scopes);try{var o=function(){var n=e.value;if(n.tabInfo.tabId!==t)return"continue";var r,o=kn(n.media);try{var a=function(){var e=r.value;if(e.paused||!e.volume)return"continue";$({type:"PAUSE",state:"on"},e.key,t,n.tabInfo.frameId),u.push((function(){$({type:"PAUSE",state:"off"},e.key,t,n.tabInfo.frameId)}))};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}};for(n.s();!(e=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}r.postMessage({type:"PLAYING"})},c.endedCb=function(){r.disconnect(),s()},r.onMessage.addListener((function(e){"PLAY"===e.type&&i.outputNode.disconnect(c)})),s=function(){if(i.reverse){delete i.reverse,i.outputNode.connect(n.audioCtx.destination),c.disconnect();try{i.outputNode.disconnect(c)}catch(e){}c.ended||c.forceEnd(),u.forEach((function(e){e()}))}},i.reverse=s,r.onDisconnect.addListener(s),i.outputNode.disconnect(n.audioCtx.destination),i.outputNode.connect(c),c.connect(n.audioCtx.destination);case 34:case"end":return e.stop()}}),e,null,[[4,9],[15,20]])})));return function(t,n){return e.apply(this,arguments)}}()),f(this,"handleMessage",(function(e,t,r){if("TAB_CAPTURE"===e.type){if(null==e.tabId)return r(!0);e.on?n.captureTab(e.tabId):!1===e.on?n.releaseTab(e.tabId):n.handleToggleTab(e.tabId),r(!0)}else"REQUEST_CAPTURE_STATUS"===e.type&&(chrome.runtime.sendMessage({type:"CAPTURE_STATUS",tabId:e.tabId,value:n.infos.some((function(t){return t.tabId===e.tabId}))}),r(!0))})),f(this,"handleToggleTab",(function(e){return n.infos.find((function(t){return t.tabId===e}))?(n.releaseTab(e),Promise.resolve(!0)):n.captureTab(e)})),f(this,"captureTab",function(){var e=t(o().mark((function e(t){var r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.infos.find((function(e){return e.tabId===t}))){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,new Promise((function(e,t){chrome.tabCapture.capture({audio:!0},(function(n){if(chrome.runtime.lastError)return t(chrome.runtime.lastError);e(n)}))}));case 5:r=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return");case 11:n.audioCtx=n.audioCtx||new AudioContext({sampleRate:44100}),(a=n.audioCtx.createGain()).connect(n.audioCtx.destination),i={tabId:t,stream:r,streamSrc:n.audioCtx.createMediaStreamSource(r),outputNode:a},n.infos.push(i),i.client=ce({superDisable:!0,enabled:!0,audioFx:!0,audioFxAlt:!0,monoOutput:!0,audioPan:!0},t,!0,(function(e){n.handleChange(i,e.enabled,e.audioFx,e.audioFxAlt,e.monoOutput,e.audioPan),e.superDisable&&n.releaseTab(i.tabId)})),i.streamSrc.connect(a),chrome.runtime.sendMessage({type:"CAPTURE_STATUS",tabId:t,value:!0}),r.addEventListener("inactive",(function(e){n.releaseTab(t)}));case 20:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()),f(this,"releaseTab",(function(e){var t,r,o,a,i=n.infos.findIndex((function(t){return t.tabId===e}));if(!(i<0)){var u=n.infos[i];null===(t=u.reverse)||void 0===t||t.call(u),u.client.release(),u.stream.getAudioTracks().forEach((function(e){e.stop()})),delete u.stream,null===(r=u.client)||void 0===r||r.release(),n.infos.splice(i,1),null===(o=u.fx)||void 0===o||o.release(),delete u.fx,null===(a=u.outputNode)||void 0===a||a.disconnect(),delete u.outputNode,u.streamSrc.disconnect(),delete u.streamSrc,chrome.runtime.sendMessage({type:"CAPTURE_STATUS",tabId:e,value:!1})}})),f(this,"handleChange",(function(e,t,r,o,a,i){var u=e.streamSrc;u.disconnect(),e.fx=e.fx||new Pn(n.audioCtx),e.fx.updateFx(t,r,o,a,i),u.connect(e.fx.input),e.fx.output.connect(e.outputNode)})),chrome.runtime.onMessage.addListener(this.handleMessage),chrome.runtime.onConnect.addListener((function(e){if(e.name.startsWith("REVERSE")){var t=JSON.parse(e.name.slice(8));if(null==(null==t?void 0:t.tabId))return;n.initReverse(t.tabId,e)}}))})),Pn=D((function e(n){var r=this;N(this,e),this.ctx=n,f(this,"input",void 0),f(this,"output",void 0),f(this,"main",void 0),f(this,"alt",void 0),f(this,"splitter",void 0),f(this,"merger",void 0),f(this,"pan",void 0),f(this,"release",(function(){var e,t;r.estrange(),null===(e=r.main)||void 0===e||e.release(),null===(t=r.alt)||void 0===t||t.release()})),f(this,"updateFx",function(){var e=t(o().mark((function e(t,n,a,i,u){var c,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.input,r.estrange(),r.main=r.main||new On(r.ctx),r.main.updateFx(t,n,!!a),t&&a?(c.channelCount=2,c.channelCountMode="explicit",r.splitter=r.splitter||r.ctx.createChannelSplitter(2),c.connect(r.splitter),r.alt=r.alt||new On(r.ctx),r.alt.updateFx(t,a),r.splitter.connect(r.main.input,0),r.splitter.connect(r.alt.input,1),r.merger=r.merger||r.ctx.createChannelMerger(2),r.main.output.connect(r.merger,void 0,0),r.alt.output.connect(r.merger,void 0,1),c=r.merger):(c.channelCountMode="max",null===(s=r.alt)||void 0===s||s.release(),delete r.alt,delete r.splitter,delete r.merger,c.connect(r.main.input),c=r.main.output),t&&u?(r.pan=r.pan||r.ctx.createStereoPanner(),r.pan.pan.value=S(-1,1,u||0),c.connect(r.pan),c=r.pan):(null===(l=r.pan)||void 0===l||l.disconnect(),delete r.pan),c.connect(r.output),c=r.output,t&&i?(c.channelCount=1,c.channelCountMode="clamped-max"):c.channelCountMode="max";case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,o,a){return e.apply(this,arguments)}}()),f(this,"estrange",(function(){var e,t,n,o,a;r.input.disconnect(),null===(e=r.main)||void 0===e||e.output.disconnect(),null===(t=r.alt)||void 0===t||t.output.disconnect(),null===(n=r.splitter)||void 0===n||n.disconnect(),null===(o=r.merger)||void 0===o||o.disconnect(),null===(a=r.pan)||void 0===a||a.disconnect()})),this.input=n.createGain(),this.output=n.createGain()})),On=D((function e(n){var r=this;N(this,e),this.ctx=n,f(this,"input",void 0),f(this,"output",void 0),f(this,"filterNodes",void 0),f(this,"jungle",void 0),f(this,"soundTouchNode",void 0),f(this,"delayNode",void 0),f(this,"release",(function(){var e,t;r.estrange(),null===(e=r.jungle)||void 0===e||e.release(),null===(t=r.soundTouchNode)||void 0===t||t.release(),delete r.jungle})),f(this,"prevUpdateFx",void 0),f(this,"updateFx",function(){var e=t(o().mark((function e(t,n,a){var i,u,c,s,l,d,f,p,v,h,m,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.prevUpdateFx=function(){return r.updateFx(t,n)},r.estrange(),u=r.input,t&&n.jungleMode&&null!==n.pitch&&0!==n.pitch?(r.jungle=null!==(c=r.jungle)&&void 0!==c?c:new ln(r.ctx),r.jungle.setPitchOffset(n.pitch),u.connect(r.jungle.input),u=r.jungle.output):(null===(s=r.jungle)||void 0===s||s.release(),delete r.jungle),l=t&&!n.jungleMode&&null!==n.pitch&&0!==n.pitch,xn.triedAddModule||!l){e.next=13;break}return e.prev=6,e.next=9,xn.addModule(r.ctx);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(6);case 13:xn.addedModule&&l?(r.soundTouchNode||(r.soundTouchNode=new xn(r.ctx),r.soundTouchNode.onprocessorerror=function(e){var t;console.error("SoundTouchProcessor error: ",e),null===(t=r.soundTouchNode)||void 0===t||t.release(),delete r.soundTouchNode,xn.addedModule=!1,xn.triedAddModule=!0,r.prevUpdateFx()}),r.soundTouchNode.update(n.pitch),u.connect(r.soundTouchNode),u=r.soundTouchNode):(null===(d=r.soundTouchNode)||void 0===d||d.release(),delete r.soundTouchNode),t&&null!==(i=n.eq)&&void 0!==i&&i.enabled&&n.eq.values.some((function(e){return 0!==e}))?(f=n.eq,r.filterNodes=r.filterNodes||[],p=[],v=function(){var e;return null!==(e=r.filterNodes.shift())&&void 0!==e?e:r.ctx.createBiquadFilter()},h=f.values.length/10*1.41,n.eq.values.forEach((function(e,t){var n;if(0!==e){e*=null!==(n=f.factor)&&void 0!==n?n:1;var r=k(31.25*Math.pow(2,t/Math.round(f.values.length/10)),2),o=v();p.push(o),u.connect(o),u=o,o.frequency.value=r,o.gain.value=e,o.Q.value=h,0===t?o.type="lowshelf":t===f.values.length-1?o.type="highshelf":o.type="peaking"}})),delete r.filterNodes,r.filterNodes=p):delete r.filterNodes,t&&n.delay>0?(r.delayNode=null!==(b=r.delayNode)&&void 0!==b?b:r.ctx.createDelay(10),n.delay>r.delayNode.delayTime.maxValue&&(r.delayNode=r.ctx.createDelay(179.99)),r.delayNode.delayTime.value=S(0,r.delayNode.delayTime.maxValue,n.delay),n.delayMerge&&(m=u),u.connect(r.delayNode),u=r.delayNode):delete r.delayNode,u.connect(r.output),m&&m.connect(r.output),t&&null!=n.volume&&1!==n.volume?r.output.gain.value=n.volume*n.volume:r.output.gain.value=1;case 19:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t,n,r){return e.apply(this,arguments)}}()),f(this,"estrange",(function(){var e,t,n,o,a;r.input.disconnect(),null===(e=r.delayNode)||void 0===e||e.disconnect(),null===(t=r.filterNodes)||void 0===t||t.forEach((function(e){e.disconnect()})),null===(n=r.jungle)||void 0===n||null===(o=n.output)||void 0===o||o.disconnect(),null===(a=r.soundTouchNode)||void 0===a||a.disconnect()})),this.input=n.createGain(),this.output=n.createGain()}));function In(){return(In=t(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.isBackground=!0,window.portCapture=new me,e.prev=2,e.t0=C,e.next=6,H("config");case 6:e.t1=e.sent.config,t=(0,e.t0)(e.t1),e.next=12;break;case 10:e.prev=10,e.t2=e.catch(2);case 12:t=t||T(),window.globalMedia=new an,window.globalState=new ae(t),window.badgeMgr=new de,window.ruleManager=new sn,window.gsmMgr=new xe(t.language),chrome.tabCapture&&Mn&&(window.captureMgr=new Mn),chrome.runtime.onMessage.addListener(En),M()||chrome.commands.onCommand.addListener(An),chrome.tabs.onCreated.addListener((function(e){if(window.globalState.get({pinByDefault:!0}).pinByDefault){var t,n,r=e.openerTabId;if(r||(r=window.currentTabId,window.currentTabId===(null==e?void 0:e.id)&&(r=window.previousTabId)),window.globalState.unfreeze(),null!==(t=window.globalState.pins)&&void 0!==t&&t.find((function(t){return t.tabId===e.id})))return;window.globalState.set([{tabId:e.id,inheritContextFromTabId:null!==(n=r)&&void 0!==n?n:null,override:{isPinned:!0}}])}}));case 22:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function An(e){return Tn.apply(this,arguments)}function Tn(){return(Tn=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.globalState.get({enabled:!0}).enabled){e.next=2;break}return e.abrupt("return");case 2:if(n=window.globalState.get({keybinds:!0,keybindsUrlCondition:!0}),(r=(n.keybinds||[]).filter((function(e){return e.enabled&&e.global&&(e.globalKey||"commandA")===t}))).length){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,V();case 8:if(a=e.sent,i=(null==a?void 0:a.url)||"",!n.keybindsUrlCondition||Q(i,n.keybindsUrlCondition,!0)){e.next=12;break}return e.abrupt("return");case 12:At(r=r.filter((function(e){var t;return!((null===(t=e.condition)||void 0===t?void 0:t.parts.length)>0)||Q(i,e.condition,!0)})),a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(e,t,n){"REQUEST_TAB_INFO"===e.type?n({tabId:t.tab.id,frameId:t.frameId}):"REQUEST_CREATE_TAB"===e.type?(chrome.tabs.create({url:e.url}),n(!0)):"REQUEST_SEND_MSG"===e.type?(chrome.tabs.sendMessage(e.tabId,e.msg,null==e.frameId?{}:{frameId:e.frameId}),n(!0)):"TRIGGER_KEYBINDS"===e.type&&(At(window.globalState.get({keybinds:!0}).keybinds.filter((function(t){return e.ids.includes(t.id)})),{tabId:t.tab.id,frameId:t.frameId,windowId:t.tab.windowId}),n(!0))}function _n(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=t(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return chrome.runtime.onInstalled.removeListener(_n),e.next=3,B({url:["https://*/*","http://*/*"]});case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:n.forEach((function(e){chrome.tabs.executeScript(e.id,{file:"contentScript.js",allFrames:!0},(function(){chrome.runtime.lastError}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}M()||chrome.runtime.onInstalled.addListener(_n),function(){In.apply(this,arguments)}()}()}();