/*! For license information please see contentScript.js.LICENSE.txt */
!function(){var e={3174:function(e,t,n){"use strict";n.r(t),n.d(t,{gvar:function(){return r}});var r={}},3465:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",s="[object Date]",c="[object Function]",l="[object GeneratorFunction]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object Promise]",v="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",E="[object Float32Array]",k="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",M="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",C="[object Uint16Array]",L="[object Uint32Array]",_=/\w*$/,O=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,F={};F[i]=F["[object Array]"]=F[w]=F[b]=F[a]=F[s]=F[E]=F[k]=F[x]=F[S]=F[M]=F[u]=F[d]=F[f]=F[v]=F[p]=F[m]=F[g]=F[T]=F[I]=F[C]=F[L]=!0,F["[object Error]"]=F[c]=F[y]=!1;var A="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,P="object"==typeof self&&self&&self.Object===Object&&self,D=A||P||Function("return this")(),R=t&&!t.nodeType&&t,N=R&&e&&!e.nodeType&&e,U=N&&N.exports===R;function H(e,t){return e.set(t[0],t[1]),e}function B(e,t){return e.add(t),e}function z(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e,t){return function(n){return e(t(n))}}function X(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Y,q=Array.prototype,W=Function.prototype,$=Object.prototype,J=D["__core-js_shared__"],Q=(Y=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",Z=W.toString,ee=$.hasOwnProperty,te=$.toString,ne=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=U?D.Buffer:void 0,oe=D.Symbol,ie=D.Uint8Array,ae=G(Object.getPrototypeOf,Object),se=Object.create,ce=$.propertyIsEnumerable,le=q.splice,ue=Object.getOwnPropertySymbols,de=re?re.isBuffer:void 0,fe=G(Object.keys,Object),he=De(D,"DataView"),ve=De(D,"Map"),pe=De(D,"Promise"),me=De(D,"Set"),ge=De(D,"WeakMap"),ye=De(Object,"create"),we=Be(he),be=Be(ve),Ee=Be(pe),ke=Be(me),xe=Be(ge),Se=oe?oe.prototype:void 0,Me=Se?Se.valueOf:void 0;function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Le(e){this.__data__=new Ie(e)}function _e(e,t,n){var r=e[t];ee.call(e,t)&&ze(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Oe(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function je(e,t,n,r,o,h,y){var O;if(r&&(O=h?r(e,o,h,y):r(e)),void 0!==O)return O;if(!Ye(e))return e;var j=Ve(e);if(j){if(O=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,O)}else{var A=Ne(e),P=A==c||A==l;if(Ge(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(A==f||A==i||P&&!h){if(V(e))return h?e:{};if(O=function(e){return"function"!=typeof e.constructor||He(e)?{}:Ye(t=ae(e))?se(t):{};var t}(P?{}:e),!t)return function(e,t){return Ae(e,Re(e),t)}(e,function(e,t){return e&&Ae(t,qe(t),e)}(O,e))}else{if(!F[A])return h?e:{};O=function(e,t,n,r){var o,i=e.constructor;switch(t){case w:return Fe(e);case a:case s:return new i(+e);case b:return function(e,t){var n=t?Fe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case k:case x:case S:case M:case T:case I:case C:case L:return function(e,t){var n=t?Fe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return z(t?n(K(e),!0):K(e),H,new e.constructor)}(e,r,n);case d:case m:return new i(e);case v:return function(e){var t=new e.constructor(e.source,_.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return function(e,t,n){return z(t?n(X(e),!0):X(e),B,new e.constructor)}(e,r,n);case g:return o=e,Me?Object(Me.call(o)):{}}}(e,A,je,t)}}y||(y=new Le);var D=y.get(e);if(D)return D;if(y.set(e,O),!j)var R=n?function(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,qe,Re)}(e):qe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););}(R||e,(function(o,i){R&&(o=e[i=o]),_e(O,i,je(o,t,n,r,i,e,y))})),O}function Fe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Ae(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;_e(n,a,void 0===s?e[a]:s)}return n}function Pe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function De(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ye(e)||(t=e,Q&&Q in t))&&(Xe(e)||V(e)?ne:O).test(Be(e));var t}(n)?n:void 0}Te.prototype.clear=function(){this.__data__=ye?ye(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?r:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=Oe(t,e);return!(n<0||(n==t.length-1?t.pop():le.call(t,n,1),0))},Ie.prototype.get=function(e){var t=this.__data__,n=Oe(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return Oe(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=Oe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Te,map:new(ve||Ie),string:new Te}},Ce.prototype.delete=function(e){return Pe(this,e).delete(e)},Ce.prototype.get=function(e){return Pe(this,e).get(e)},Ce.prototype.has=function(e){return Pe(this,e).has(e)},Ce.prototype.set=function(e,t){return Pe(this,e).set(e,t),this},Le.prototype.clear=function(){this.__data__=new Ie},Le.prototype.delete=function(e){return this.__data__.delete(e)},Le.prototype.get=function(e){return this.__data__.get(e)},Le.prototype.has=function(e){return this.__data__.has(e)},Le.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var r=n.__data__;if(!ve||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ce(r)}return n.set(e,t),this};var Re=ue?G(ue,Object):function(){return[]},Ne=function(e){return te.call(e)};function Ue(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}function Be(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(he&&Ne(new he(new ArrayBuffer(1)))!=b||ve&&Ne(new ve)!=u||pe&&Ne(pe.resolve())!=h||me&&Ne(new me)!=p||ge&&Ne(new ge)!=y)&&(Ne=function(e){var t=te.call(e),n=t==f?e.constructor:void 0,r=n?Be(n):void 0;if(r)switch(r){case we:return b;case be:return u;case Ee:return h;case ke:return p;case xe:return y}return t});var Ve=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Xe(e)}var Ge=de||function(){return!1};function Xe(e){var t=Ye(e)?te.call(e):"";return t==c||t==l}function Ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function qe(e){return Ke(e)?function(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!ee.call(e,a)||o&&("length"==a||Ue(a,r))||n.push(a);return n}(e):function(e){if(!He(e))return fe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return je(e,!0,!0)}},1296:function(e,t,n){var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),d=Object.prototype.toString,f=Math.max,h=Math.min,v=function(){return u.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,s,c,l=0,u=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function w(e){return l=e,s=setTimeout(E,t),u?y(e):a}function b(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=i}function E(){var e=v();if(b(e))return k(e);s=setTimeout(E,function(e){var n=t-(e-c);return d?h(n,i-(e-l)):n}(e))}function k(e){return s=void 0,g&&r?y(e):(r=o=void 0,a)}function x(){var e=v(),n=b(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return w(c);if(d)return s=setTimeout(E,t),y(c)}return void 0===s&&(s=setTimeout(E,t)),a}return t=m(t)||0,p(n)&&(u=!!n.leading,i=(d="maxWait"in n)?f(m(n.maxWait)||0,t):i,g="trailing"in n?!!n.trailing:g),x.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=o=s=void 0},x.flush=function(){return void 0===s?a:k(v())},x}},7061:function(e,t,n){var r=n(8698).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h={};function v(){}function p(){}function m(){}var g={};u(g,s,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(I([])));w&&w!==n&&i.call(w,s)&&(g=w);var b=m.prototype=v.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,s,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=m,u(b,"constructor",m),u(m,"constructor",p),p.displayName=u(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(b),u(b,l,"Generator"),u(b,s,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))}}var s=n(4687),c=n.n(s),l=n(3174).gvar;function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){if(e){var t=document.createElement("script");t.type="text/javascript",t.text=e,document.documentElement.appendChild(t),t.remove()}}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=document.createElement("script");t.type="text/javascript",t.src=chrome.runtime.getURL("ctx.js"),t.async=!0,document.documentElement.appendChild(t)}else d("!function(){\"use strict\";function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r,o,i={dispatchEvent:EventTarget.prototype.dispatchEvent,stopImmediatePropagation:Event.prototype.stopImmediatePropagation,appendChild:Node.prototype.appendChild,map:{clear:Map.prototype.clear,set:Map.prototype.set,has:Map.prototype.has,get:Map.prototype.get},array:{push:Array.prototype.push,includes:Array.prototype.includes},Map:Map,ShadowRoot:ShadowRoot,HTMLMediaElement:HTMLMediaElement,CustomEvent:CustomEvent,JSON:{parse:JSON.parse,stringify:JSON.stringify}};function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}null===(o=document.currentScript)||void 0===o||o.remove();var u,s,d,y,f,h=[],v=[];function m(t,e,a){var n=null==t?void 0:t.prototype[e];if(n){t.prototype[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=n.apply(this,e);return a(e,this,o),o};try{d.set(t.prototype[e],n)}catch(t){}}}function g(t,e,a){e instanceof i.HTMLMediaElement&&(i.array.includes.call(h,e)||(i.array.push.call(h,e),u.wiggleOn(e)))}function b(t,e,a){a instanceof i.ShadowRoot&&(i.array.includes.call(v,a)||(i.array.push.call(v,a),u.wiggleOn(a)))}var w=e((function t(){var e=this;a(this,t),n(this,\"originalFn\",Function.prototype.toString),n(this,\"outputMap\",new Map),n(this,\"set\",(function(t,a){try{var n=e.originalFn.call(a);n&&i.map.set.call(e.outputMap,t,n)}catch(t){}}));var r=this;Function.prototype.toString=function(){try{var t=i.map.get.call(r.outputMap,this);if(t)return t}catch(t){}for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return r.originalFn.apply(this,a)},this.set(Function.prototype.toString,this.originalFn)})),E=e((function t(){var e=this;a(this,t),n(this,\"active\",!1),n(this,\"tempTimeout\",void 0),n(this,\"dummyAudio\",new Audio),n(this,\"ogDesc\",{playbackRate:Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,\"playbackRate\"),defaultPlaybackRate:Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,\"defaultPlaybackRate\")}),n(this,\"coherence\",{playbackRate:new Map,defaultPlaybackRate:new Map}),n(this,\"activate\",(function(){e.tempTimeout&&(clearTimeout(e.tempTimeout),delete e.tempTimeout),e.active||(e.active=!0,i.map.clear.call(e.coherence.playbackRate),i.map.clear.call(e.coherence.defaultPlaybackRate),h.forEach((function(t){i.map.set.call(e.coherence.playbackRate,t,e.ogDesc.playbackRate.get.call(t)),i.map.set.call(e.coherence.defaultPlaybackRate,t,e.ogDesc.defaultPlaybackRate.get.call(t))})))})),n(this,\"deactivate\",(function(){e.tempTimeout&&(clearTimeout(e.tempTimeout),delete e.tempTimeout),e.active&&(e.active=!1)})),n(this,\"activateFor\",(function(t){e.active||(e.activate(),e.tempTimeout=setTimeout(e.deactivate,t))}));var r,o=function(t,e){var a=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(t){if(\"string\"==typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===a&&t.constructor&&(a=t.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(t):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){a&&(t=a);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return i=t.done,t},e:function(t){l=!0,o=t},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}([\"playbackRate\",\"defaultPlaybackRate\"]);try{var l=function(){var t=r.value,a=e.ogDesc[t],n=e.coherence[t],o=e;try{Object.defineProperty(HTMLMediaElement.prototype,t,{configurable:!0,enumerable:!0,get:function(){return o.ogDesc[t].get.call(this),o.active?i.map.has.call(n,this)?i.map.get.call(n,this):1:a.get.call(this)},set:function(e){!o.active||this instanceof i.HTMLMediaElement||o.ogDesc[t].set.call(this,e);try{var r=a.set.call(o.active?o.dummyAudio:this,e),c=a.get.call(o.active?o.dummyAudio:this);return i.map.set.call(n,this,c),r}catch(t){throw t}}});var c=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,t);d.set(c.get,a.get),d.set(c.set,a.set)}catch(t){}};for(o.s();!(r=o.n()).done;)l()}catch(t){o.e(t)}finally{o.f()}})),S=e((function t(){var e=this;a(this,t),n(this,\"parasite\",document.createElement(\"div\")),n(this,\"parasiteRoot\",this.parasite.attachShadow({mode:\"open\"})),n(this,\"handle\",(function(t){var e;i.stopImmediatePropagation.call(t);try{t.detail&&(e=i.JSON.parse(t.detail))}catch(t){}if(e)if(\"SEEK_NETFLIX\"===e.type)!function(t){try{(e=window.netflix.appContext.state.playerApp.getAPI().videoPlayer,e.getAllPlayerSessionIds().map((function(t){return e.getVideoPlayerBySessionId(t)}))).forEach((function(e){return e.seek(1e3*t)}))}catch(t){}var e}(e.value);else if(\"GHOST\"===e.type)e.off?s.deactivate():s.activate();else if(\"YT_RATE_CHANGE\"===e.type){var a;e.value&&(null===(a=f)||void 0===a||a(e.value))}})),n(this,\"send\",(function(t){i.dispatchEvent.call(e.parasiteRoot,new i.CustomEvent(\"GS_SERVER\",{detail:i.JSON.stringify({type:\"MSG\",data:t})}))})),n(this,\"wiggleOn\",(function(t){i.appendChild.call(t,e.parasite),i.dispatchEvent.call(e.parasiteRoot,new i.CustomEvent(\"GS_SERVER\",{detail:i.JSON.stringify({type:\"WIGGLE\"})}))})),this.parasite.id=\"GS_PARASITE\",this.parasiteRoot.addEventListener(\"GS_CLIENT\",this.handle,{capture:!0}),document.documentElement.appendChild(this.parasite),this.parasite.dispatchEvent(new CustomEvent(\"GS_INIT\"))}));!function(){if(r=null!==(t=r)&&void 0!==t?t:navigator.userAgent.includes(\"Firefox/\")){if(window.loadedGsCtx)return;window.loadedGsCtx=!0,function(){if(document.domain.includes(\"soundcloud.com\")){var t=AudioContext.prototype.createMediaElementSource;AudioContext.prototype.createMediaElementSource=function(){return t.apply(this,[document.createElement(\"audio\")])}}}()}var t;!function(){var t,e,a;if(location.hostname.includes(\"pan.baidu.com\")){var n,r=navigator.userAgent;if(parseFloat(null===(t=/^Mozilla\\/\\d.0 \\(.*Windows NT ([\\d.]+)[;)].*$/.exec(r))||void 0===t?void 0:t[1])>=10?n=r.replace(/(^Mozilla\\/\\d.0 \\(.*Windows NT )([\\d.]+)([;)].*$)/,\"$16.3$3\"):parseFloat(null===(e=/^.*Mac OS X ([\\d_]+).*$/.exec(r))||void 0===e||null===(a=e[1])||void 0===a?void 0:a.split(\"_\").slice(0,2).join(\".\"))>=11.1&&(n=r.replace(/(^.*Mac OS X )([\\d_]+)(.*$)/,\"$110_15_7$3\")),n){var o=Object.getOwnPropertyDescriptor(Navigator.prototype,\"userAgent\");Object.defineProperty(Navigator.prototype,\"userAgent\",p(p({},o),{},{get:function(){return n}}))}}}(),d=new w,function(){if(document.domain.includes(\"bilibili.com\")){var t=window.localStorage.getItem;window.localStorage.getItem=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var r=t.apply(this,a);try{if(\"bwphevc_supported\"===a[0]){var o,i=JSON.parse(r);if(i.supported&&(null==i||null===(o=i.info)||void 0===o||!o.isBrowserHEVCTypeSupported))return i.supported=!1,JSON.stringify(i)}}catch(t){}return r},d.set(window.localStorage.getItem,t)}}(),s=new E,u=new S,\"www.youtube.com\"===location.hostname&&window.addEventListener(\"timeupdate\",(function(){var t,e=document.querySelector(\"#movie_player\");if(e){try{e.getAvailablePlaybackRates().push(16)}catch(t){return}f=function(t){if(y!==t){y=t;try{s.activateFor(1e3),e.setPlaybackRate(t)}catch(t){}}},null===(t=u)||void 0===t||t.send({type:\"YT_REQUEST_RATE\"})}}),{capture:!0,once:!0}),m(HTMLMediaElement,\"play\",g),m(HTMLMediaElement,\"pause\",g),m(HTMLMediaElement,\"load\",g),m(Element,\"createShadowRoot\",b),m(Element,\"attachShadow\",b)}()}();")}function h(){var e;return document.hasFocus()&&!("IFRAME"===(null===(e=document.activeElement)||void 0===e?void 0:e.tagName))}var v,p=t((function e(){var t,n=this;r(this,e),o(this,"downCbs",new Set),o(this,"upCbs",new Set),o(this,"withinFrame",void 0),o(this,"setup",(function(){window.addEventListener("keydown",n.handleKeyDown,!0),window.addEventListener("keyup",n.handleKeyUp,!0),n.withinFrame&&l.mediaTower.ensureEventListeners()})),o(this,"release",(function(){window.removeEventListener("keydown",n.handleKeyDown,!0),window.removeEventListener("keyup",n.handleKeyUp,!0)})),o(this,"handleKeyDown",(function(e){n.downCbs.forEach((function(t){t(e)}))})),o(this,"handleKeyUp",(function(e){n.upCbs.forEach((function(t){t(e)}))})),this.setup(),"IFRAME"===(null===(t=window.frameElement)||void 0===t?void 0:t.tagName)&&(this.withinFrame=!0,window.frameElement.addEventListener("load",this.setup,{capture:!0,passive:!0}))}));function m(e){var t=null==e?void 0:e.activeElement;if(t){var n=function(e){if(e.shadowRoot)return e.shadowRoot;var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s=!0,i=e})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(l.mediaTower.docs);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof ShadowRoot&&r.host===e)return r}}catch(e){n.e(e)}finally{n.f()}}(t);return n&&n.activeElement?m(n):t}}function g(){return new Promise((function(e,t){chrome.runtime.sendMessage({type:"REQUEST_TAB_INFO"},(function(n){chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))}))}function y(e){return new Promise((function(t,n){chrome.storage.local.get(e,(function(e){chrome.runtime.lastError?n(chrome.runtime.lastError):t(e)}))}))}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function E(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){var r=n;return null!=e&&(r=Math.max(e,r)),null!=t&&(r=Math.min(t,r)),r}function M(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function T(){return Math.ceil(1e10*Math.random()).toString()}function I(){var e;return v=null!==(e=v)&&void 0!==e?e:navigator.userAgent.includes("Firefox/")}var C,L,_,O={sepia:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,format:function(e){return"sepia(".concat(e,")")}},hueRotate:{step:8,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,format:function(e){return"hue-rotate(".concat(e,"deg)")}},grayscale:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,format:function(e){return"grayscale(".concat(e,")")}},contrast:{min:0,step:.1,sliderMin:0,sliderMax:5,default:1,format:function(e){return"contrast(".concat(e,")")}},brightness:{min:0,step:.1,sliderMin:0,sliderMax:5,sliderStep:.05,default:1,format:function(e){return"brightness(".concat(e,")")}},saturate:{min:0,step:.1,sliderMin:0,sliderMax:5,sliderStep:.05,default:1,format:function(e){return"saturate(".concat(e,")")}},invert:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:0,format:function(e){return"invert(".concat(e,")")}},blur:{min:0,step:.1,sliderMin:0,sliderMax:10,sliderStep:.1,default:0,format:function(e){return"blur(".concat(e,"px)")}},opacity:{min:0,max:1,step:.1,sliderMin:0,sliderMax:1,default:1,format:function(e){return"opacity(".concat(e,")")}},scaleX:{isTransform:!0,step:.1,sliderMin:-1,sliderMax:3,sliderStep:.04,default:1,format:function(e){return"scaleX(".concat(e,")")}},scaleY:{isTransform:!0,step:.1,sliderMin:-1,sliderMax:3,sliderStep:.04,default:1,format:function(e){return"scaleY(".concat(e,")")}},translateX:{isTransform:!0,step:1,sliderMin:-300,sliderMax:300,sliderStep:5,default:0,format:function(e){return"translateX(".concat(e,"px)")}},translateY:{isTransform:!0,step:1,sliderMin:-300,sliderMax:300,sliderStep:5,default:0,format:function(e){return"translateY(".concat(e,"px)")}},rotateX:{isTransform:!0,step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,format:function(e){return"rotateX(".concat(e,"deg)")}},rotateY:{isTransform:!0,step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,format:function(e){return"rotateY(".concat(e,"deg)")}},rotateZ:{isTransform:!0,step:1,sliderMin:-180,sliderMax:180,sliderStep:1,default:0,format:function(e){return"rotateZ(".concat(e,"deg)")}}};function j(e){var t=[];return null==e||e.forEach((function(e){var n=O[e.name];null!=e.value&&e.value!==n.default&&t.push(n.format(e.value))})),t.join(" ")}function F(e,t,n){var r=!1,o=!1;return t.parts.forEach((function(t){if(!t.disabled){var n=!1;if("STARTS_WITH"===t.type)n=e.startsWith(t.value);else if("CONTAINS"===t.type)n=e.includes(t.value);else{if("REGEX"!==t.type)return;try{n=new RegExp(t.value).test(e)}catch(e){}}(t.inverse?n:!n)?r=!0:o=!0}})),o||r?(!t.matchAll||!r)&&o:n}var A=!(!("requestPictureInPicture"in HTMLVideoElement.prototype)||!("pictureInPictureElement"in Document.prototype)),P=(null===(C=document.featurePolicy)||void 0===C||C.allowsFeature("picture-in-picture"),null===(L=window.CSS)||void 0===L||null===(_=L.supports)||void 0===_||_.call(L,"backdrop-filter: invert(1)"),(document.URL||"").startsWith("https://www.netflix.com")),D=(document.URL||"").startsWith("https://www.amazon"),R=P||D,N="www.bilibili.com"===location.hostname,U="www.youtube.com"===location.hostname,H="vimeo.com"===location.hostname,B=location.hostname.endsWith("reddit.com"),z=location.hostname.endsWith("facebook.com"),V=!(P||z),K=!(H||B),G=n(3174).gvar;function X(e,t,n,r){n&&(t<10||Math.abs(e.currentTime-t)<3)&&(n=!1);var o=e.paused;r&&e.pause(),P?G.mediaTower.server.send({type:"SEEK_NETFLIX",value:t}):(n&&e.fastSeek?e.fastSeek(t):e.currentTime=t,D&&!r&&(o?e.play():e.pause(),o?e.pause():e.play()))}function Y(e,t){e.readyState&&(e.gsMarks=e.gsMarks||{},e.gsMarks[t]=e.currentTime,G.mediaTower.sendUpdate())}function q(e,t,n){var r;return e.forEach((function(e,o){if(!("N"===n&&e<=t||"P"===n&&e>=t)){var i=Math.abs(t-e);(!r||i<r.diff)&&(r={index:o,diff:i})}})),r||("N"===n&&e.length&&(r={index:0,diff:Math.abs(t-e[0])}),"P"===n&&e.length&&(r={index:e.length-1,diff:Math.abs(t-e[e.length-1])})),r}function W(e,t){e.gsNameless=e.gsNameless||[];var n=q(e.gsNameless,e.currentTime-(t?0:1),t?"N":"P");n&&X(e,e.gsNameless[n.index])}function $(e,t,n){t=S(.0625,16,t);try{e.playbackRate.toFixed(3)!==t.toFixed(3)&&(e.playbackRate=t)}catch(e){}try{e.defaultPlaybackRate.toFixed(3)!==t.toFixed(3)&&(e.defaultPlaybackRate=t)}catch(e){}e.preservesPitch=!n,e.mozPreservesPitch=!n,e.webkitPreservesPitch=!n}var J=U?function(e,t,n){e.hasAttribute("yss-skip")||$(e,t,n)}:$;function Q(e,t){if(e)if("PLAYBACK_RATE"===t.type)J(e,t.value,t.freePitch);else if("SEEK"===t.type){if(t.percent)return void function(e,t,n,r){Math.abs(e.duration)!==1/0&&X(e,e.duration*t,n,r)}(e,t.value,t.fast,t.autoPause);!function(e,t,n,r,o){var i=n?e.currentTime+t:t;if(n&&e.seekToNextFrame&&!R&&.041===Math.abs(t)){if(e.paused||e.pause(),!(t<0)){var a=e.currentTime;return void e.seekToNextFrame().then((function(){e.gsFrameSpan=function(e,t){var n=Math.pow(10,4);return Math.ceil(e*n)/n}(e.currentTime-a),(e.gsFrameSpan>.05||e.gsFrameSpan<1/65)&&(e.gsFrameSpan=.04)}))}var s;i=e.currentTime-(null!==(s=e.gsFrameSpan)&&void 0!==s?s:.04)}X(e,i,r,o)}(e,t.value,t.relative,t.fast,t.autoPause)}else if("PAUSE"===t.type)!function(e,t){"on"===t||"toggle"===t&&!e.paused?e.pause():e.play()}(e,t.state);else if("MUTE"===t.type)!function(e,t){e.muted="on"===t||"off"!==t&&!e.muted}(e,t.state);else if("SET_VOLUME"===t.type)!function(e,t,n){e.volume=S(0,1,n?e.volume+t:t)}(e,t.value,t.relative);else if("SET_MARK"===t.type){var n=(t.key||"").toLowerCase();"::nameless"===t.key?function(e){e.gsNameless=e.gsNameless||[];var t=e.gsNameless,n=q(t,e.currentTime,"C");(null==n?void 0:n.diff)<=1?t.splice(n.index,1):t.push(e.currentTime)}(e):"::nameless-prev"===n?W(e):"::nameless-next"===n?W(e,!0):Y(e,t.key)}else"SEEK_MARK"===t.type?function(e,t,n){var r,o=null===(r=e.gsMarks)||void 0===r?void 0:r[t];null==o?Y(e,t):X(e,o,n)}(e,t.key,t.fast):"TOGGLE_LOOP"===t.type?function(e,t){var n,r=null===(n=e.gsMarks)||void 0===n?void 0:n[t],o=function(){e.removeEventListener("timeupdate",e.gsLoopTimeUpdateHandler,!0),e.removeEventListener("seeking",e.gsLoopSeekingHandler,!0),delete e.gsLoopTimeUpdateHandler,delete e.gsLoopSeekingHandler,G.mediaTower.sendUpdate()};if(e.gsLoopTimeUpdateHandler)o();else if(null!=r){var i=e.currentTime;if(r>i){var a=[i,r];r=a[0],i=a[1]}e.gsLoopTimeUpdateHandler=function(){e.currentTime>i&&X(e,r)},e.gsLoopSeekingHandler=function(){(e.currentTime<r-2||e.currentTime>i+2)&&o()},e.addEventListener("timeupdate",e.gsLoopTimeUpdateHandler,{capture:!0,passive:!0}),e.addEventListener("seeking",e.gsLoopSeekingHandler,{capture:!0,passive:!0}),G.mediaTower.sendUpdate()}}(e,t.key):"PIP"===t.type?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toggle";if(A){var n="off"===t;if("toggle"===t&&e.getRootNode().pictureInPictureElement===e&&(n=!0),n)document.exitPictureInPicture();else{var r;if(!e.isConnected)return;e.removeAttribute("disablePictureInPicture"),null===(r=e.requestPictureInPicture)||void 0===r||r.call(e).catch((function(e){"SecurityError"===(null==e?void 0:e.name)&&null!=e&&e.message.includes("permissions policy")&&alert("PiP blocking detected. To circumvent, try my 'PiP Unblocker' extension.")}))}}}(e,t.state):"FULLSCREEN"===t.type&&function(e,t){if(N&&!t){var n=document.querySelector(".bilibili-player-video-btn-fullscreen");if(n)return void n.click()}if(U&&!t){var r=document.querySelector(".ytp-fullscreen-button.ytp-button");if(r)return void r.click()}!V||!t&&K?!K||t&&V||G.smartFs.toggleSafe(e):G.nativeFs.toggleSafe(e)}(e,t.direct)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te,ne,re,oe=n(1296),ie=n.n(oe),ae=n(3174).gvar,se=t((function e(){var t=this;r(this,e),o(this,"media",[]),o(this,"docs",[]),o(this,"canopy",chrome.runtime.connect({name:"MEDIA_CANOPY"})),o(this,"server",new ce),o(this,"newDocCallbacks",new Set),o(this,"newMediaCallbacks",new Set),o(this,"observer",void 0),o(this,"observe",(function(e){window.IntersectionObserver&&(t.observer=t.observer||new IntersectionObserver(t.handleObservation,{threshold:[0,.2,.4,.6,.8,1]}),t.observer.observe(e))})),o(this,"handleObservation",(function(e){e.forEach((function(e){e.target.intersectionRatio=e.intersectionRatio})),t.sendUpdateDeb()})),o(this,"handleWiggle",(function(e){e instanceof ShadowRoot?t.processDoc(e):e instanceof HTMLMediaElement&&t.processMedia(e)})),o(this,"handleServerMessage",(function(e){if("YT_REQUEST_RATE"===(null==e?void 0:e.type)){var n,r,o,i=null===(n=ae.configSync)||void 0===n||null===(r=n.speedSync)||void 0===r||null===(o=r.latest)||void 0===o?void 0:o.speed;i&&t.server.send({type:"YT_RATE_CHANGE",value:i})}})),o(this,"handleMessage",(function(e,n,r){if("APPLY_MEDIA_EVENT"!==e.type){if("RUN_JS"===e.type)return d(e.value),void r(!0)}else{if(e.key){var o=t.media.find((function(t){return t.gsKey===e.key}));o&&Q(o,e.event)}else t.media.forEach((function(t){Q(t,e.event)}));r(!0)}})),o(this,"processDoc",(function(e){t.docs.includes(e)||(t.docs.push(e),t.ensureDocEventListeners(e),t.newDocCallbacks.forEach((function(e){return e()})))})),o(this,"processMedia",(function(e){if(!t.media.includes(e)){e.gsKey=e.gsKey||T();var n=null==e?void 0:e.getRootNode();n instanceof ShadowRoot&&t.processDoc(n),t.ensureMediaEventListeners(e),e instanceof HTMLVideoElement&&t.observe(e),t.media.push(e),t.sendUpdate(),t.newMediaCallbacks.forEach((function(e){return e()}))}})),o(this,"ensureDocEventListeners",(function(e){e.addEventListener("play",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("timeupdate",t.handleMediaEventDeb,{capture:!0,passive:!0}),e.addEventListener("pause",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("volumechange",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("loadedmetadata",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("emptied",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("enterpictureinpicture",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("leavepictureinpicture",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("fullscreenchange",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("webkitfullscreenchange",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("ratechange",t.handleMediaEvent,{capture:!0,passive:!0}),U&&e.addEventListener("ratechange",t.handleYoutubeRateChange,{capture:!0,passive:!0})})),o(this,"ensureMediaEventListeners",(function(e){e.addEventListener("play",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("pause",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("volumechange",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("loadedmetadata",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("emptied",t.handleMediaEvent,{capture:!0,passive:!0}),e.addEventListener("ratechange",t.handleMediaEvent,{capture:!0,passive:!0})})),o(this,"ensureEventListeners",(function(){t.docs.forEach((function(e){return t.ensureDocEventListeners(e)})),t.media.forEach((function(e){return t.ensureMediaEventListeners(e)}))})),o(this,"handleYoutubeRateChange",(function(e){var t=e.target.playbackRate;t&&ae.mediaTower.server.send({type:"YT_RATE_CHANGE",value:t})})),o(this,"handleMediaEvent",(function(e){if(null!=e&&e.isTrusted&&!e.processed){e.processed=!0;var n=e.target;n instanceof HTMLMediaElement&&(t.processMedia(n),t.sendUpdate(),"ratechange"===e.type?ae.ghostMode&&e.stopImmediatePropagation():"emptied"===e.type&&(delete n.gsMarks,delete n.gsNameless))}})),o(this,"handleMediaEventDeb",ie()(this.handleMediaEvent,5e3,{leading:!0,trailing:!0,maxWait:5e3})),o(this,"sendUpdate",(function(){if(ae.tabInfo){var e=(n=ae.tabInfo,r=t.media,{tabInfo:ee({},n),metaTitle:null===(o=navigator.mediaSession)||void 0===o||null===(i=o.metadata)||void 0===i?void 0:i.title,title:document.title,domain:document.domain,url:document.URL,media:r.map((function(e){return a=(t=e).getRootNode(),s=t instanceof HTMLVideoElement,c=t.videoWidth,l=t.videoHeight,u=s&&c&&l?{w:c,h:l}:null,{key:t.gsKey,isVideo:s,duration:t.duration,infinity:t.duration===1/0||void 0,paused:t.paused,volume:t.volume,muted:t.muted,pipMode:(null==a?void 0:a.pictureInPictureElement)===t,shadowMode:a instanceof ShadowRoot?a.mode:void 0,isConnected:t.isConnected,readyState:t.readyState,hasVideoTrack:!!(null!==(n=null===(r=t.videoTracks)||void 0===r?void 0:r.length)&&void 0!==n?n:u),hasAudioTrack:!(null!==(o=null===(i=t.audioTracks)||void 0===i?void 0:i.length)&&void 0!==o&&!o),videoSize:u,inLoop:!!t.gsLoopTimeUpdateHandler,marks:Object.keys(t.gsMarks||{}),intersectionRatio:u&&t.intersectionRatio};var t,n,r,o,i,a,s,c,l,u}))});chrome.runtime.sendMessage({type:"MEDIA_PUSH_SCOPE",value:e})}var n,r,o,i})),o(this,"sendUpdateDeb",ie()(this.sendUpdate,500,{leading:!0,trailing:!0,maxWait:2e3})),o(this,"applyMediaEventTo",(function(e,n,r){var o=t.media.filter((function(e){return e.readyState}));n?o=o.filter((function(e){return e.gsKey===n})):r&&(o=o.sort((function(e,t){return t.duration-e.duration})).slice(0,1)),0!==o.length&&o.forEach((function(n){Q(t.media.find((function(e){return e.gsKey===n.gsKey})),e)}))})),o(this,"applySpeedToAll",(function(e,n){e&&(e=function(e){return S(.07,16,M(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:2))}(e),t.media.forEach((function(t){Q(t,{type:"PLAYBACK_RATE",value:e,freePitch:n})})))})),this.processDoc(window),this.server.wiggleCbs.add(this.handleWiggle),U&&this.server.msgCbs.add(this.handleServerMessage),chrome.runtime.onMessage.addListener(this.handleMessage)})),ce=t((function e(){var t=this;r(this,e),o(this,"parasite",void 0),o(this,"parasiteRoot",void 0),o(this,"wiggleCbs",new Set),o(this,"msgCbs",new Set),o(this,"initCbs",new Set),o(this,"initialized",!1),o(this,"handleInit",(function(e){e.target instanceof HTMLDivElement&&"GS_PARASITE"===e.target.id&&e.target.shadowRoot&&(t.parasite=e.target,t.parasiteRoot=t.parasite.shadowRoot,t.parasite.remove(),window.removeEventListener("GS_INIT",t.handleInit,!0),t.parasiteRoot.addEventListener("GS_SERVER",t.handle,{capture:!0}),t.initialized=!0,t.initCbs.forEach((function(e){return e()})),t.initCbs.clear())})),o(this,"handle",(function(e){if(e.stopImmediatePropagation(),"GS_SERVER"===e.type&&e.detail){var n;try{n=JSON.parse(e.detail)}catch(e){}if("WIGGLE"===n.type){var r=t.parasite.parentNode;r&&(t.parasite.remove(),t.wiggleCbs.forEach((function(e){return e(r)})))}else"MSG"===n.type&&t.msgCbs.forEach((function(e){return e(n.data||{})}))}})),o(this,"send",(function(e){t.parasiteRoot.dispatchEvent(new CustomEvent("GS_CLIENT",{detail:JSON.stringify(e)}))})),window.addEventListener("GS_INIT",this.handleInit,!0)}));function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(re=te||(te={}))[re.SET=1]="SET",re[re.ADD=2]="ADD",re[re.CYCLE=3]="CYCLE",function(e){e[e.FX=1]="FX",e[e.AUDIO_FX=2]="AUDIO_FX",e[e.MEDIA=3]="MEDIA",e[e.MISC=4]="MISC"}(ne||(ne={}));var ue={nothing:{group:ne.MISC,generate:function(){return{id:T(),command:"nothing",enabled:!0,greedy:!0}}},runCode:{group:ne.MISC,valueType:"modalString",generate:function(){return{id:T(),command:"runCode",enabled:!0,greedy:!0,valueString:"// code here"}}},openUrl:{group:ne.MISC,valueType:"string",generate:function(){return{id:T(),command:"openUrl",enabled:!0,greedy:!0,valueString:"https://www.google.com/"}}},adjustSpeed:{valueType:"adjustMode",hasFeedback:!0,valueMin:.07,valueMax:16,valueStep:.1,valueDefault:1,generate:function(){return{id:T(),command:"adjustSpeed",enabled:!0,greedy:!0,adjustMode:te.SET}}},speedChangesPitch:{valueType:"state",hasFeedback:!0,requiresMedia:!0,generate:function(){return{id:T(),command:"speedChangesPitch",enabled:!0,greedy:!0,valueState:"toggle"}}},setPin:{valueType:"state",hasFeedback:!0,generate:function(){return{id:T(),command:"setPin",enabled:!0,greedy:!0,valueState:"toggle"}}},setState:{valueType:"state",hasFeedback:!0,generate:function(){return{id:T(),command:"setState",enabled:!0,greedy:!0,valueState:"toggle"}}},seek:{group:ne.MEDIA,valueType:"number",requiresMedia:!0,noNull:!0,hasFeedback:!0,generate:function(){return{id:T(),command:"seek",enabled:!0,greedy:!0,valueNumber:10}}},setPause:{group:ne.MEDIA,valueType:"state",requiresMedia:!0,hasFeedback:!0,generate:function(){return{id:T(),command:"setPause",enabled:!0,greedy:!0,valueState:"toggle"}}},setMute:{group:ne.MEDIA,hasFeedback:!0,valueType:"state",requiresMedia:!0,generate:function(){return{id:T(),command:"setMute",enabled:!0,greedy:!0,valueState:"toggle"}}},adjustVolume:{group:ne.MEDIA,hasFeedback:!0,valueType:"number",requiresMedia:!0,valueDefault:.05,generate:function(){return{id:T(),command:"adjustVolume",enabled:!0,greedy:!0}}},setMark:{group:ne.MEDIA,hasFeedback:!0,valueType:"string",requiresMedia:!0,generate:function(){return{id:T(),command:"setMark",enabled:!0,greedy:!0,valueString:"mark1"}}},seekMark:{group:ne.MEDIA,hasFeedback:!0,valueType:"string",requiresMedia:!0,generate:function(){return{id:T(),command:"seekMark",enabled:!0,greedy:!0,valueString:"mark1"}}},toggleLoop:{group:ne.MEDIA,hasFeedback:!0,valueType:"string",requiresMedia:!0,generate:function(){return{id:T(),command:"toggleLoop",enabled:!0,greedy:!0,valueString:"mark1"}}},fullscreen:{group:ne.MEDIA,requiresVideo:!0,generate:function(){return{id:T(),command:"fullscreen",enabled:!0,greedy:!0}}},PiP:{group:ne.MEDIA,valueType:"state",requiresVideo:!0,requiresPiPApi:!0,generate:function(){return{id:T(),command:"PiP",enabled:!0,greedy:!0,valueState:"toggle"}}},setFx:{group:ne.FX,hasFeedback:!0,withFilterTarget:!0,valueType:"state",generate:function(){return{id:T(),command:"setFx",enabled:!0,greedy:!0,valueState:"toggle",filterTarget:"element"}}},resetFx:{group:ne.FX,hasFeedback:!0,withFilterTarget:!0,generate:function(){return{id:T(),command:"resetFx",enabled:!0,greedy:!0,filterTarget:"element"}}},flipFx:{group:ne.FX,hasFeedback:!0,generate:function(){return{id:T(),command:"flipFx",enabled:!0,greedy:!0}}},adjustFilter:{group:ne.FX,hasFeedback:!0,valueType:"adjustMode",withFilterOption:!0,withFilterTarget:!0,generate:function(){return{id:T(),command:"adjustFilter",filterOption:"hueRotate",enabled:!0,greedy:!0,filterTarget:"element",adjustMode:te.ADD}}},adjustGain:{group:ne.AUDIO_FX,hasFeedback:!0,valueType:"adjustMode",requiresTabCapture:!0,valueMin:0,valueMax:16,valueStep:.05,valueDefault:1,generate:function(){return{id:T(),command:"adjustGain",enabled:!0,greedy:!0,adjustMode:te.ADD}}},adjustPitch:{group:ne.AUDIO_FX,hasFeedback:!0,valueType:"adjustMode",requiresTabCapture:!0,valueMin:-36,valueMax:36,valueStep:1,valueDefault:0,generate:function(){return{id:T(),command:"adjustPitch",enabled:!0,greedy:!0,adjustMode:te.ADD}}},adjustDelay:{group:ne.AUDIO_FX,hasFeedback:!0,valueType:"adjustMode",requiresTabCapture:!0,valueMin:0,valueMax:60,valueStep:.05,valueDefault:0,generate:function(){return{id:T(),command:"adjustDelay",enabled:!0,greedy:!0,adjustMode:te.ADD}}},tabCapture:{group:ne.AUDIO_FX,hasFeedback:!0,valueType:"state",requiresTabCapture:!0,generate:function(){return{id:T(),command:"tabCapture",enabled:!0,greedy:!0,valueState:"toggle",global:!0}}}};!function(e,t){var n,r=[],o=!1,i=k(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;o&&(r.push(null),o=!1),r=[].concat(E(r),E(a)),o=!0}}catch(e){i.e(e)}finally{i.f()}}(function(e,t){var n,r=new Map,o=k(e);try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=a[1],c=null!==(i=r.get(s))&&void 0!==i?i:[];c.push(a),r.set(s,c)}}catch(e){o.e(e)}finally{o.f()}var l=[];return r.forEach((function(e){l.push(e)})),l}(Object.entries(ue).filter((function(e){return!e[1].requiresTabCapture||chrome.tabCapture})).filter((function(e){return!e[1].requiresPiPApi||A})).map((function(e){var t=le(e,2);return[t[0],t[1].group]}))).map((function(e){return e.map((function(e){return e[0]}))}))),Object.freeze([{name:"1965",values:[-6,-17.2,-6,0,-3.6,9.2,1.2,9.2,3.6,-5.2]},{name:"1965 - Part 2",values:[-18,-14.4,0,0,-3.6,9.2,1.2,9.2,3.6,-5.2]},{name:"Lo-Fidelity",values:[-15.1,-9.4,0,2.3,-2,4.3,4.3,-2.3,-4.6,-8.9]},{name:"Musical Presence",values:[0,0,0,0,0,2.5,5,2.5,0,0]},{name:"Notch Every Two Octaves",values:[-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99]},{name:"Rattle The Trunk",values:[17.99,17.99,9,0,0,0,0,0,0,0]},{name:"Simple Bass Cut",values:[-4,-3,-2,-2,-2,0,0,0,0,0]},{name:"Simple Bass Lift",values:[6,6,3,3,3,0,0,0,0,0]},{name:"Simple High Cut",values:[0,0,0,0,0,-2,-2,-3,-3,-3]},{name:"Simple High Lift",values:[0,0,0,0,0,1,2,2,3,4]},{name:"Vocal Presence - Boost",values:[0,0,0,0,0,0,6.5,0,0,0]},{name:"Vocal Presence - Cut",values:[0,0,0,0,0,0,-6.5,0,0,0]}]),Object.freeze([{name:"20 Band Classic V",values:[5,6,3.54,.59,-.48,-2.5,-5,-7,-8,-8,-7,-5,-3,-2.5,-1,2,3,4,5,4.02]},{name:"Bowed String",values:[0,0,-1.2,-1.6,-2.4,-2.8,-1.6,-1.6,-1.6,0,0,0,0,0,2.4,3.6,5.6,0,0,0]},{name:"Bright and Punchy",values:[-3,3,6,4.5,3,1.5,0,0,0,0,0,0,0,1,2,3,4,4,4,4]},{name:"Cymbal Shimmer",values:[0,0,0,0,0,0,0,0,0,0,0,-.1,-.3,-.5,-.4,.2,1.3,2.6,3.6,4]},{name:"Dark and Dull",values:[-6,-4,-2,0,0,0,0,0,0,0,0,0,0,-3,-6,-9,-12,-15,-18,-18]},{name:"Destination - Car Stereo",values:[-4,-2,0,3,4,3,1.5,0,-1,-2,-2,-1,0,1,2,3,4,2,0,-3]},{name:"Heavy Guitar",values:[0,-.2,-.1,1,1.9,1.6,.4,-.5,-1.1,-2.2,-3.6,-3.9,-2.9,-1.6,-.5,.1,.1,0,0,0]},{name:"Liven up dead samples",values:[0,0,0,0,0,0,0,0,0,0,0,.1,.1,-.2,-.6,.5,3,3.9,1.5,-.4]},{name:"Notch Every Octave",values:[-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99]},{name:"Possible Bass",values:[0,0,5.2,6,3.2,0,-11.6,-5.2,-4,-4,0,3.2,4.8,0,0,0,-3.2,-7.2,-10.8,-14]},{name:"Sloping High End Boost",values:[0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,6,7,8,8]},{name:"Sloping Low End Boost",values:[8,8,8,8,7,6,5,4,3,2,1,0,0,0,0,0,0,0,0,0]},{name:"Tinny and Brittle",values:[-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,0,0,0,1,3.52,6,6,3,1]},{name:"Vocal Magic (breath)",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,.1,-.1,-.5,2,2.5,1]}]),Object.freeze([{name:"Bass - Increased Clarity",values:[-4,-3.4,-1.9,-.3,.6,.6,.2,-.3,-1.2,-1.5,1.4,2.9,.7,.2,.8,.5,0,-2,-.5,-.5,-.4,-.2,0,0,-.2,-.4,-.4,-.3,-.1,0]},{name:"Background Vocal",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.2,-.3,-.4,-.4,-3,-6,-3,0,0,-.1,0,0,0]},{name:"Classic V",values:[3,2.5,1.3,.2,-.4,-.5,-.2,.2,.4,.3,-.3,-1.6,-3.4,-5.7,-8.2,-10.2,-10.9,-9.8,-7.4,-4.5,-2.3,-.9,-.1,0,-.2,-.3,.2,1.3,2.5,3]},{name:"Destination - Home Theater",values:[4.5,6,7.5,7.5,5,3,1.5,.5,0,-.5,-1.5,-3,-5,-3,-1.5,0,1.5,3,3,3,1.5,0,0,3,6,7.5,7.5,6,3,0]},{name:"Drums",values:[0,0,0,0,0,0,0,-.1,.3,.4,-2,-2.8,0,.6,-.2,-.1,0,-.2,-.3,-.5,-.4,-.1,0,0,.2,-.3,-.1,2.5,2.1,0]},{name:"Generic Attack Booster",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.1,-.1,-.1,.2,.6,1.3,2,2.8,3.1,2.7,1.8,.6,-.2,-.3,-.1,0]},{name:"Generic Mud Removal",values:[0,0,0,0,-.1,-.3,-.7,-1.5,-2.4,-3,-2.8,-2,-.8,0,.4,.3,0,-.1,-.1,0,0,0,0,0,0,0,0,0,0,0]},{name:"Gentle Hi Boost",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5,1.5,3,5,5,3,1.5,.5]},{name:"Gentle Hi Cut",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.5,-1.5,-3,-5,-5,-3,-1.5,-.5]},{name:"Gentle Low Boost",values:[0,.5,1.5,3,5,3,1.5,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"Gentle Low Cut",values:[0,-.5,-1.5,-3,-5,-3,-1.5,-.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"Gentle Mid Boost",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,.5,1.5,3,5,5,3,1.5,.5,0,0,0,0,0,0,0,0,0]},{name:"Gentle Mid Cut",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,-.5,-1.5,-3,-5,-5,-3,-1.5,-.5,0,0,0,0,0,0,0,0,0]},{name:"Guitar - Increases Attack",values:[0,0,0,0,-1.5,-4,-2,0,0,0,0,0,0,0,0,0,0,-.2,-.3,-.4,2,0,-.1,0,0,0,-.1,0,0,0]},{name:"Keyboards - Bright and Clear",values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.2,-.3,-.4,-.4,2,5,2.5,0,0,-.1,0,0,0]},{name:"Kick - Less Boxy, more Attack",values:[0,0,0,0,0,0,0,0,0,0,-2.5,-6,-2.5,0,0,0,0,0,0,0,0,2,5,2,0,0,0,0,0,0]},{name:"Lead Vocal - Clarity",values:[0,0,0,0,0,0,0,0,-3,0,0,0,0,0,0,0,0,-.2,-.3,-.4,-.4,0,2,0,0,4,-.1,0,0,0]},{name:"Notch Every 2/3 Octave",values:[-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99,-18,17.99]},{name:"RIAA De-Emphasis",values:[18.3,17.6,16.7,15.6,14.2,12.8,11.3,9.6,8,6.5,5,3.7,2.6,1.6,.7,0,-.7,-1.6,-2.6,-3.7,-5.1,-6.6,-8.2,-10,-11.9,-13.8,-15.7,-17.7,-19.7,-20]},{name:"Snare - Increase Snap",values:[0,-.1,-.2,-.1,.5,1.3,1.9,1.9,1.3,.4,-.1,-.3,-.2,0,.1,0,0,-.1,-.2,-.4,-.6,-.7,-.5,1.5,2,0,0,0,.9,0]},{name:"cymbals sans gong",values:[-8,-6.5,-3.3,-.4,.4,-.5,-2.3,-3.7,-4.5,-4.4,-3.7,-2.3,-.9,.1,.5,.3,0,-.3,-.5,-.5,-.4,-.2,0,.1,0,0,-.1,0,0,0]}]);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e,t){return window.globalState?Promise.resolve(window.globalState.get(e,t)):new Promise((function(n,r){window.globalState?n(window.globalState.get(e,t)):chrome.runtime.sendMessage({type:"FETCH_VIEW",selector:e,tabId:t},(function(e){chrome.runtime.lastError?r(chrome.runtime.lastError):n(e)}))}))}function he(e,t,n,r,i,a){e=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=le(e,2);return t[0],t[1]})))}(e);var s={cbs:r?new Set([r]):new Set,subId:T()},c=function(e,t){s.view=e,s.cbs.forEach((function(n){n(e,t)}))};if(window.globalState){var l=ie()(c,null!=i?i:0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({trailing:!0,leading:!0},null==a?{}:{maxWait:a})),u={selector:e,tabId:t,handleUpdate:l,id:s.subId};window.globalState.subs.add(u),s.release=function(){s.released||(s.released=!0,s.cbs.clear(),window.globalState.subs.delete(u))}}else{var d=chrome.runtime.connect({name:"subscribe ".concat(JSON.stringify({selector:e,tabId:t,id:s.subId,wait:i,maxWait:a}))});d.onMessage.addListener((function(e){c(e)})),s.release=function(){s.released||(s.released=!0,s.cbs.clear(),d.disconnect())}}return s.push=function(n){var r,o,i={};Object.keys(e).forEach((function(e){i[e]=n[e]})),c(i,!1),r={override:i,tabId:t,ignoreSub:s.subId},null!==(o=window.globalState)&&void 0!==o&&o.set?(window.globalState.set(r),Promise.resolve()):new Promise((function(e,t){for(var n={},o=0,i=Object.entries(r.override||{});o<i.length;o++){var a=le(i[o],2),s=a[0],c=a[1];n[s]=null!=c?c:null}r.override=n,chrome.runtime.sendMessage({type:"PUSH_VIEW",init:r},(function(n){chrome.runtime.lastError?t(chrome.runtime.lastError):e()}))}))},n&&fe(e,t).then((function(e){c(e,!0)})),s}n(3465);var ve=n(3174).gvar;function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me=t((function e(){var t=this;r(this,e),o(this,"released",void 0),o(this,"elementQuery",void 0),o(this,"elementIntervalId",void 0),o(this,"backdropIntervalId",void 0),o(this,"styleJail",new ge),o(this,"documentTransform",new ye),o(this,"elemFilter",void 0),o(this,"elemTransform",void 0),o(this,"elemTransformOrigin",void 0),o(this,"backdropFilter",void 0),o(this,"backdropTransform",void 0),o(this,"backdropTransformOrigin",void 0),o(this,"lastResult",void 0),o(this,"client",he({elementFx:!0,backdropFx:!0},ve.tabInfo.tabId,!0,(function(e){t.handleChange(e)}))),o(this,"release",(function(){var e;t.released||(null===(e=t.client)||void 0===e||e.release(),delete t.client,t.released=!0,t.backdropIntervalId=clearInterval(t.backdropIntervalId),t.elementIntervalId=clearInterval(t.elementIntervalId),t.styleJail.clear(),ve.overlay.updateBackdrop(),t.documentTransform.clear())})),o(this,"handleChange",(function(e){var n,r;t.elemFilter=j(null===(n=e.elementFx)||void 0===n?void 0:n.filters),t.elemTransform=j(null===(r=e.elementFx)||void 0===r?void 0:r.transforms.slice().reverse()),t.elemTransformOrigin="".concat(e.elementFx.originX||"center"," ").concat(e.elementFx.originY||"center"),t.backdropFilter=j(e.backdropFx.filters),t.backdropTransform=j(e.backdropFx.transforms.slice().reverse()),t.backdropTransformOrigin="".concat(e.backdropFx.originX||"center"," ").concat(e.backdropFx.originY||"top");var o,i,a=e.elementFx.enabled&&!(!t.elemFilter&&!t.elemTransform),s=e.backdropFx.enabled&&!(!t.backdropFilter&&!t.backdropTransform);t.elementQuery=e.elementFx.query||"video",a?(t.elementIntervalId=null!==(o=t.elementIntervalId)&&void 0!==o?o:setInterval(t.handleElementInterval,1e3),t.handleElementInterval()):(clearInterval(t.elementIntervalId),delete t.elementIntervalId,t.styleJail.clear()),s?(t.backdropIntervalId=null!==(i=t.backdropIntervalId)&&void 0!==i?i:setInterval(t.handleBackdropInterval,1e3),t.handleBackdropInterval()):(clearInterval(t.backdropIntervalId),delete t.backdropIntervalId,t.documentTransform.clear(),ve.overlay.updateBackdrop())})),o(this,"handleElementInterval",(function(){var e;e="video"===t.elementQuery?ve.mediaTower.media.filter((function(e){return e.isConnected&&e instanceof HTMLVideoElement})):we.get(t.elementQuery),t.styleJail.set(e,{filter:t.elemFilter},{transform:t.elemTransform,origin:t.elemTransformOrigin})})),o(this,"handleBackdropInterval",(function(){t.backdropFilter&&(window.top===window.self||document.fullscreenElement)?ve.overlay.updateBackdrop(t.backdropFilter):ve.overlay.updateBackdrop(),t.backdropTransform&&(window.top===window.self||document.fullscreenElement)?t.documentTransform.set(t.backdropTransform,t.backdropTransformOrigin):t.documentTransform.clear()}))})),ge=t((function e(){var t=this;r(this,e),o(this,"elems",[]),o(this,"set",(function(e,n,r){t.elems.forEach((function(n){e.includes(n)||(t.clearFilter(n),t.clearTransform(n))})),t.elems=e,t.elems.forEach((function(e){n?(e.ogFilter||(e.ogFilter={filter:e.style.filter}),e.style.filter!=n.filter&&(e.style.filter=n.filter)):t.clearFilter(e),r?(e.ogTransform||(e.ogTransform={transform:e.style.transform,origin:e.style.transformOrigin}),e.style.transform!=r.transform&&(e.style.transform=r.transform),e.style.transformOrigin!=r.origin&&(e.style.transformOrigin=r.origin)):t.clearTransform(e)}))})),o(this,"clear",(function(){t.elems.forEach((function(e){e.style&&(t.clearFilter(e),t.clearTransform(e))})),t.elems=[]})),o(this,"clearFilter",(function(e){e.ogFilter&&(e.style.filter!=e.ogFilter.filter&&(e.style.filter=e.ogFilter.filter),delete e.ogFilter)})),o(this,"clearTransform",(function(e){e.ogTransform&&(e.style.transform!=e.ogTransform.transform&&(e.style.transform=e.ogTransform.transform),e.style.transformOrigin!=e.ogTransform.origin&&(e.style.transformOrigin=e.ogTransform.origin),delete e.ogTransform)}))})),ye=t((function e(){var t=this;r(this,e),o(this,"memoized",void 0),o(this,"set",(function(e,n){t.memoized=t.memoized||{transform:document.body.style.transform,origin:document.body.style.transformOrigin},document.body.style.transform!==e&&(document.body.style.transform=e),document.body.style.transformOrigin!==n&&(document.body.style.transformOrigin=n)})),o(this,"clear",(function(){t.memoized&&(document.body.style.transform=t.memoized.transform,document.body.style.transformOrigin=t.memoized.origin,delete t.memoized)}))})),we=function(){function e(){r(this,e)}return t(e,null,[{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=e.prev,o=(new Date).getTime();if(r&&r.query===t&&o-r.time<n)return r.value;var i=r&&r.query===t?r.tagNames:ke(t),a=be(t,i);return e.prev={query:t,tagNames:i,time:o,value:a},a}}]),e}();function be(e,t){var n=[];if(null!=t&&t.length)t.forEach((function(e){n=[].concat(E(n),E(document.getElementsByTagName(e)))}));else try{n=E(document.querySelectorAll(e))}catch(e){return n.filter((function(e){return e instanceof HTMLElement}))}return ve.mediaTower.docs.forEach((function(t){if(t instanceof ShadowRoot&&t.isConnected)try{n=[].concat(E(n),E(t.querySelectorAll(e)))}catch(e){return n.filter((function(e){return e instanceof HTMLElement}))}})),n.filter((function(e){return e instanceof HTMLElement}))}o(we,"prev",void 0);var Ee=/^[_a-z]+[_a-z0-9-]*$/i;function ke(e){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e.trim().split(",").map((function(e){return e.trim()})));try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!Ee.test(o))return;n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}var xe=n(3174).gvar,Se=t((function e(){var t=this;r(this,e),o(this,"released",void 0),o(this,"intervalId",void 0),o(this,"latest",void 0),o(this,"client",he({speed:!0,freePitch:!0},xe.tabInfo.tabId,!0,(function(e){t.latest={speed:e.speed,freePitch:e.freePitch},t.updatePage()}),150,300)),o(this,"release",(function(){var e;t.released||(null===(e=t.client)||void 0===e||e.release(),delete t.client,t.released=!0,t.intervalId=clearInterval(t.intervalId),xe.mediaTower.newMediaCallbacks.delete(t.updatePage))})),o(this,"updatePage",(function(){t.latest&&xe.mediaTower.applySpeedToAll(t.latest.speed,t.latest.freePitch)})),this.intervalId=setInterval(this.updatePage,1e3),xe.mediaTower.newMediaCallbacks.add(this.updatePage)}));function Me(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}var Te,Ie=t((function e(t){var n,i=this;r(this,e),this.filter=t,o(this,"div",document.createElement("div")),o(this,"innerDiv",document.createElement("div")),o(this,"sDiv",new Ce(this.div)),o(this,"hasBorder",!0),o(this,"colorInput",void 0),o(this,"releaseCb",void 0),o(this,"release",(function(){var t;delete i.div,null===(t=i.sDiv)||void 0===t||t.release(),delete i.sDiv,e.deletePane(i)})),o(this,"sync",(function(){i.hasBorder?(i.div.style.border="1px solid black",i.div.classList.add("hasBorder")):(i.div.style.border="none",i.div.classList.remove("hasBorder")),i.colorInput?(i.innerDiv.style.backgroundColor=i.colorInput.value,i.innerDiv.style.backdropFilter="none"):(i.innerDiv.style.backdropFilter=i.filter,i.innerDiv.style.backgroundColor="transparent")})),this.innerDiv.classList.add("inner"),this.div.appendChild(this.innerDiv),this.div.classList.add("pane"),e.addPane(this),null===(n=e.shadowRoot)||void 0===n||n.append(this.div),this.div.tabIndex=0,this.div.addEventListener("contextmenu",(function(e){e.preventDefault(),e.stopImmediatePropagation(),i.release()}),{once:!0});var a={clone:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"></path></svg>'),times:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 352 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>'),paintRoller:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 128V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32h352c17.67 0 32-14.33 32-32zm32-64v128c0 17.67-14.33 32-32 32H256c-35.35 0-64 28.65-64 64v32c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32v-32h160c53.02 0 96-42.98 96-96v-64c0-35.35-28.65-64-64-64z"></path></svg>'),borderAll:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H32A32 32 0 0 0 0 64v384a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 64v128H256V96zm-192 0v128H64V96zM64 416V288h128v128zm192 0V288h128v128z"></path></svg>')},s=document.createElement("div");this.div.appendChild(s),s.classList.add("menu"),s.appendChild(a.clone),s.appendChild(a.paintRoller),s.appendChild(a.borderAll),s.appendChild(a.times),a.clone.addEventListener("click",(function(t){e.clone(i).div.focus()})),a.paintRoller.addEventListener("click",(function(e){i.colorInput?(delete i.colorInput,i.sync()):(i.colorInput=document.createElement("input"),i.colorInput.type="color",i.colorInput.addEventListener("input",i.sync),i.colorInput.click())})),a.borderAll.addEventListener("click",(function(e){i.hasBorder=!i.hasBorder,i.sync()})),a.times.addEventListener("click",(function(e){i.release()})),this.sync()}));o(Ie,"panes",new Set),o(Ie,"shadowRoot",void 0),o(Ie,"addPane",(function(e){if(Ie.panes.add(e),Ie.panes.size&&!Ie.shadowRoot){Ie.shadowRoot=document.createElement("div").attachShadow({mode:"closed"});var t=document.createElement("style");t.textContent="\n        .pane:focus { outline: none; }\n        .pane.hasBorder:focus { outline: 2px solid black; }\n\n        .menu {\n          position: absolute;\n          right: 3px;\n          top: 3px;\n          display: none;\n          grid-auto-flow: column;\n          justify-content: right;\n          grid-column-gap: 5px;\n          font-size: 16px;\n        }\n\n        .inner {\n          width: 100%;\n          height: 100%;\n        }\n\n        .pane:focus > .menu, .pane:hover > .menu {\n          display: grid;\n        }\n\n        svg {\n          opacity: 0.5;\n          background-color: black;\n          color: white;\n          padding: 5px;\n        }\n\n        svg:hover {\n          opacity: 1;\n        }\n      ",Ie.shadowRoot.appendChild(t),document.body.appendChild(Ie.shadowRoot.host)}})),o(Ie,"deletePane",(function(e){Ie.panes.delete(e),0===Ie.panes.size&&Ie.shadowRoot&&(Ie.shadowRoot.host.remove(),delete Ie.shadowRoot)})),o(Ie,"clone",(function(e){var t=new Ie(e.filter,!0);return t.colorInput=e.colorInput?e.colorInput.cloneNode():null,t.sDiv.x=e.sDiv.x+20,t.sDiv.y=e.sDiv.y+20,t.sDiv.width=e.sDiv.width,t.sDiv.height=e.sDiv.height,t.sDiv.sync(),t.hasBorder=e.hasBorder,t.sync(),t})),function(e){e[e.X_LEFT=1]="X_LEFT",e[e.X_RIGHT=2]="X_RIGHT",e[e.Y_TOP=3]="Y_TOP",e[e.Y_BOTTOM=4]="Y_BOTTOM",e[e.MOVING=5]="MOVING"}(Te||(Te={}));var Ce=function(){function e(t){var n=this;r(this,e),this.div=t,o(this,"width",500),o(this,"height",350),o(this,"x",(window.innerWidth-this.width)/2+window.scrollX),o(this,"y",(window.innerHeight-this.height)/2+window.scrollY),o(this,"ref",void 0),o(this,"handleDimChange",void 0),o(this,"release",(function(){n.handleMouseUp(),n.div.remove(),n.div.removeEventListener("mousedown",n.handleMouseDown)})),o(this,"handleMouseDown",(function(e){if(0===e.button)if(e.stopImmediatePropagation(),n.ref)n.handleMouseUp();else{var t=new Set;e.offsetX<20?t.add(Te.X_LEFT):n.width-e.offsetX<20&&t.add(Te.X_RIGHT),e.offsetY<20?t.add(Te.Y_TOP):n.height-e.offsetY<20&&t.add(Te.Y_BOTTOM),0===t.size&&t.add(Te.MOVING),n.ref={x:n.x,y:n.y,width:n.width,height:n.height,cursorX:e.pageX,cursorY:e.pageY,transforms:t},window.addEventListener("mousemove",n.handleMouseMove,{capture:!0,passive:!0}),window.addEventListener("mouseup",n.handleMouseUp,{capture:!0,passive:!0})}})),o(this,"handleMouseUp",(function(){delete n.ref,window.removeEventListener("mousemove",n.handleMouseMove,{capture:!0}),window.removeEventListener("mouseup",n.handleMouseUp,{capture:!0})})),o(this,"handleMouseMove",(function(e){if(n.ref){var t={x:n.x,y:n.y,width:n.width,height:n.height},r=e.pageX-n.ref.cursorX,o=e.pageY-n.ref.cursorY;n.ref.transforms.has(Te.X_LEFT)?(t.width=Math.max(n.ref.width-r,150),t.x=n.ref.x-(t.width-n.ref.width)):n.ref.transforms.has(Te.X_RIGHT)&&(t.width=n.ref.width+r),n.ref.transforms.has(Te.Y_TOP)?(t.height=Math.max(n.ref.height-o,100),t.y=n.ref.y-(t.height-n.ref.height)):n.ref.transforms.has(Te.Y_BOTTOM)&&(t.height=n.ref.height+(e.pageY-n.ref.cursorY)),n.ref.transforms.has(Te.MOVING)&&(t.x=n.ref.x+r,t.y=n.ref.y+o),n.width=Math.max(150,t.width),n.height=Math.max(100,t.height),n.x=t.x,n.y=t.y,n.sync()}else n.handleMouseUp()})),this.div.addEventListener("mousedown",this.handleMouseDown),this.sync()}return t(e,[{key:"sync",value:function(){this.div.style.width="".concat(this.width,"px"),this.div.style.height="".concat(this.height,"px"),this.div.style.position="absolute",this.div.style.left="".concat(this.x,"px"),this.div.style.top="".concat(this.y,"px"),this.div.style.zIndex="99999999999",this.div.style.userSelect="none"}}]),e}(),Le=n(3174).gvar,_e=["v.qq.com","www.qq.com","sports.qq.com","wetv.vip","web.whatsapp.com","pan.baidu.com","onedrive.live.com"],Oe=t((function e(){var t=this;r(this,e),o(this,"port",void 0),o(this,"released",!1),o(this,"blockKeyUp",!1),o(this,"lastTrigger",0),o(this,"fxSync",void 0),o(this,"speedSync",void 0),o(this,"client",he({ghostMode:!0,enabled:!0,enabledLatestViaPopup:!0,keybinds:!0,keybindsUrlCondition:!0,superDisable:!0},Le.tabInfo.tabId,!0,(function(){t.handleEnabledChange()}),300)),o(this,"indicatorClient",he({indicatorInit:!0},Le.tabInfo.tabId,!0,(function(e){var t;null===(t=Le.overlay)||void 0===t||t.setInit(e.indicatorInit||{})}),500)),o(this,"release",(function(){var e,n,r,o;t.released||(null===(e=t.client)||void 0===e||e.release(),delete t.client,t.released=!0,null===(n=t.fxSync)||void 0===n||n.release(),delete t.fxSync,null===(r=t.speedSync)||void 0===r||r.release(),delete t.speedSync,null===(o=t.port)||void 0===o||o.disconnect(),delete t.port,Le.keyListener.downCbs.delete(t.handleKeyDown),Le.keyListener.upCbs.delete(t.handleKeyUp),chrome.runtime.onMessage.removeListener(t.handleMessage))})),o(this,"handleEnabledChange",(function(){var e,n,r,o,i,a,s;if(null!==(e=t.client.view)&&void 0!==e&&e.enabled?(t.fxSync=null!==(o=t.fxSync)&&void 0!==o?o:new me,t.speedSync=null!==(i=t.speedSync)&&void 0!==i?i:new Se):(null===(a=t.fxSync)||void 0===a||a.release(),delete t.fxSync,null===(s=t.speedSync)||void 0===s||s.release(),delete t.speedSync),null!==(n=t.client.view)&&void 0!==n&&n.enabled&&(null!==(r=t.client.view)&&void 0!==r&&r.ghostMode||_e.some((function(e){return(location.hostname||"").includes(e)})))){if(Le.ghostMode)return;Le.ghostMode=!0;var c=function(){Le.mediaTower.server.send({type:"GHOST"})};Le.mediaTower.server.initialized?c():Le.mediaTower.server.initCbs.add(c)}else{if(!Le.ghostMode)return;Le.ghostMode=!1;var l=function(){Le.mediaTower.server.send({type:"GHOST",off:!0})};Le.mediaTower.server.initialized?l():Le.mediaTower.server.initCbs.add(l)}})),o(this,"handleKeyUp",(function(e){t.lastTrigger=0,t.blockKeyUp&&(t.blockKeyUp=!1,e.stopImmediatePropagation(),e.preventDefault())})),o(this,"handleKeyDown",(function(e){var n,r,o;if(null!==(n=t.client)&&void 0!==n&&n.view&&!t.client.view.superDisable){var i=t.client.view.enabled;if(i||!t.client.view.enabledLatestViaPopup){var a=t.client.view.keybinds;t.blockKeyUp=!1;var s=e.target;if(!["INPUT","TEXTAREA"].includes(s.tagName)&&!s.isContentEditable){var c=m(document);if((s===c||!["INPUT","TEXTAREA"].includes(c.tagName)&&!c.isContentEditable)&&(null===(r=t.client.view.keybindsUrlCondition)||void 0===r||null===(o=r.parts)||void 0===o||!o.length||F(location.href||"",t.client.view.keybindsUrlCondition,!0))){var l,u={ctrlKey:(l=e).ctrlKey,altKey:l.altKey,shiftKey:l.shiftKey,metaKey:l.metaKey,code:l.code},d=i?a:a.filter((function(e){return"setState"===e.command}));if((d=(d=d.filter((function(e){return e.enabled&&!e.global&&(t=e.key,n=u,null!=t&&null!=n&&("string"==typeof t&&(t={code:t}),"string"==typeof n&&(n={code:n}),!0===t.ctrlKey==(!0===n.ctrlKey)&&!0===t.altKey==(!0===n.altKey)&&!0===t.shiftKey==(!0===n.shiftKey)&&!0===t.metaKey==(!0===n.metaKey)&&t.code===n.code));var t,n}))).filter((function(e){var t;return!((null===(t=e.condition)||void 0===t?void 0:t.parts.length)>0)||F(window.location.href||"",e.condition,!0)}))).some((function(e){return e.greedy}))&&(t.blockKeyUp=!0,e.preventDefault(),e.stopImmediatePropagation()),d.length){var f=(new Date).getTime();f-t.lastTrigger>50&&(t.lastTrigger=f,chrome.runtime.sendMessage({type:"TRIGGER_KEYBINDS",ids:d.map((function(e){return e.id}))}))}}}}}})),o(this,"handleMessage",(function(e,t,n){if("SHOW_INDICATOR"===e.type){if(e.requiresFocus&&!h())return;return Le.overlay.show(e.opts),void n(!0)}if("INJECT_SCRIPT"===e.type){if(e.requiresFocus&&!h())return;return d(e.code),void n(!0)}"ADD_PANE"===e.type?new Ie(e.filter):"CLEAR_PANES"===e.type&&E(Ie.panes).forEach((function(e){e.release()}))})),this.port=chrome.runtime.connect({name:"configSync"}),setTimeout((function(){Le.keyListener.downCbs.add(t.handleKeyDown),Le.keyListener.upCbs.add(t.handleKeyUp)}),100),chrome.runtime.onMessage.addListener(this.handleMessage)})),je=n(3174).gvar,Fe=t((function e(t){var n,i=this;r(this,e),o(this,"wrapper",document.createElement("div")),o(this,"shadowRoot",this.wrapper.attachShadow({mode:"closed"})),o(this,"indicator",document.createElement("div")),o(this,"backdrop",document.createElement("div")),o(this,"timeoutId",void 0),o(this,"icons",{play:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="0.8em" width="0.8em" xmlns="http://www.w3.org/2000/svg"><path d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"></path></svg>'),pause:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="0.8em" width="0.8em" xmlns="http://www.w3.org/2000/svg"><path d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"></path></svg>'),bookmark:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="0.8em" width="0.8em" xmlns="http://www.w3.org/2000/svg"><path d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"></path></svg>'),arrowRight:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg>'),arrowLeft:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg>'),forward:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"></path></svg>'),backward:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"></path></svg>'),loop:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1.1em" width="1.1em" xmlns="http://www.w3.org/2000/svg"><path d="M471.1 96C405 96 353.3 137.3 320 174.6 286.7 137.3 235 96 168.9 96 75.8 96 0 167.8 0 256s75.8 160 168.9 160c66.1 0 117.8-41.3 151.1-78.6 33.3 37.3 85 78.6 151.1 78.6 93.1 0 168.9-71.8 168.9-160S564.2 96 471.1 96zM168.9 320c-40.2 0-72.9-28.7-72.9-64s32.7-64 72.9-64c38.2 0 73.4 36.1 94 64-20.4 27.6-55.9 64-94 64zm302.2 0c-38.2 0-73.4-36.1-94-64 20.4-27.6 55.9-64 94-64 40.2 0 72.9 28.7 72.9 64s-32.7 64-72.9 64z"></path></svg>'),fx:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 10 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 7H6l3-7-9 9h4l-3 7 9-9z"></path></svg>'),power:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="0.95em" width="0.95em" xmlns="http://www.w3.org/2000/svg"><path d="M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"></path></svg>'),swap:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"></path></svg>'),reset:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M248.91 50c11.882-.006 23.875 1.018 35.857 3.13 85.207 15.025 152.077 81.895 167.102 167.102 15.023 85.208-24.944 170.917-99.874 214.178-32.782 18.927-69.254 27.996-105.463 27.553-46.555-.57-92.675-16.865-129.957-48.15l30.855-36.768c50.95 42.75 122.968 49.05 180.566 15.797 57.597-33.254 88.152-98.777 76.603-164.274-11.55-65.497-62.672-116.62-128.17-128.168-51.656-9.108-103.323 7.98-139.17 43.862L185 192H57V64l46.34 46.342C141.758 71.962 194.17 50.03 248.91 50z"></path></svg>'),speedChangesPitch:Me('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z"></path><path fill-rule="evenodd" d="M12 3v10h-1V3h1z" clip-rule="evenodd"></path><path d="M11 2.82a1 1 0 01.804-.98l3-.6A1 1 0 0116 2.22V4l-5 1V2.82z"></path><path fill-rule="evenodd" d="M0 11.5a.5.5 0 01.5-.5H4a.5.5 0 010 1H.5a.5.5 0 01-.5-.5zm0-4A.5.5 0 01.5 7H8a.5.5 0 010 1H.5a.5.5 0 01-.5-.5zm0-4A.5.5 0 01.5 3H8a.5.5 0 010 1H.5a.5.5 0 01-.5-.5z" clip-rule="evenodd"></path></svg>')}),o(this,"released",!1),o(this,"hasIndicator",!1),o(this,"hasFilter",!1),o(this,"root",document.documentElement),o(this,"scaling",1),o(this,"duration",1),o(this,"static",!1),o(this,"setInit",(function(e){var t,n,r,o,a;e=e||{},i.indicator.style.backgroundColor=e.backgroundColor||"#000000",i.indicator.style.color=e.textColor||"#ffffff",i.static=e.static,i.duration=null!==(t=e.duration)&&void 0!==t?t:1,i.scaling=null!==(n=e.scaling)&&void 0!==n?n:1;var s=(null!==(r=e.rounding)&&void 0!==r?r:0)*i.scaling;i.indicator.style.padding="".concat(10*(i.scaling+.12*s),"px"),i.indicator.style.fontSize="".concat(30*i.scaling,"px"),i.indicator.style.borderRadius=s?"".concat(10*s,"px"):"0px",i.indicator.style.left="".concat(30*(null!==(o=e.offset)&&void 0!==o?o:1),"px"),i.indicator.style.top="".concat(30*(null!==(a=e.offset)&&void 0!==a?a:1),"px")})),o(this,"release",(function(){var e;i.released||(i.released=!0,window.removeEventListener("fullscreenchange",i.handleFullscreenChange,{capture:!0}),window.removeEventListener("webkitfullscreenchange",i.handleFullscreenChange,{capture:!0}),null===(e=i.wrapper)||void 0===e||e.remove(),delete i.wrapper)})),o(this,"show",(function(e){var t;i.timeoutId&&clearTimeout(i.timeoutId),i.indicator.innerText=e.preText||"",(e.icons||[]).forEach((function(e){i.indicator.appendChild(i.icons[e])})),i.indicator.append(e.text||"");var n=(null!==(t=e.duration)&&void 0!==t?t:900)*i.duration;i.indicator.style.fontSize="".concat((e.small?24.9:30)*i.scaling,"px"),i.indicator.style.animation=e.static||i.static?"":"gsScale ".concat(n,"ms ease-out forwards"),i.indicator.remove(),i.shadowRoot.appendChild(i.indicator),i.hasIndicator=!0,i.syncWrapper(),i.timeoutId=setTimeout((function(){i.indicator.remove(),i.hasIndicator=!1,i.syncWrapper(),delete i.timeoutId}),n)})),o(this,"updateBackdrop",(function(e){e?(i.backdrop.style.backdropFilter!==e&&(i.backdrop.style.backdropFilter=e),i.backdrop.isConnected||i.shadowRoot.appendChild(i.backdrop),i.hasFilter=!0,i.syncWrapper()):(i.backdrop.remove(),i.hasFilter=!1,i.syncWrapper())})),o(this,"syncWrapper",(function(){if(i.hasFilter||i.hasIndicator){var e;if(i.root=null!==(e=i.root)&&void 0!==e&&e.isConnected?i.root:document.documentElement,i.wrapper.parentNode===i.root)return;try{i.root.appendChild(i.wrapper)}catch(e){i.root!==document.documentElement&&(i.root=document.documentElement,document.documentElement.appendChild(i.wrapper))}}else{var t;null===(t=i.wrapper)||void 0===t||t.remove()}})),o(this,"handleFullscreenChange",(function(e){var t=document.documentElement,n=Ae(document);n&&"IFRAME"!==n.tagName&&(t=n),i.root=t,i.syncWrapper()})),this.indicator.setAttribute("style","\n      box-sizing: border-box; \n      position: fixed;\n      font-family: Courier, monospace;\n      color: white;\n      background-color: black;\n      z-index: 999999999999;\n      white-space: pre;\n      display: grid;\n      grid-auto-flow: column;\n      align-items: center;\n      border: none;\n      user-select: none;\n    "),this.backdrop.setAttribute("style","\n      position: fixed;\n      left: 0;\n      top: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: 999999999999;\n      pointer-events: none;\n    ");var a=document.createElement("style");this.shadowRoot.appendChild(a),a.textContent="\n      @keyframes gsScale {\n        from {\n          transform: scale(0.95);\n          opacity: 1;\n        }\n        to {\n          transform: scale(1.05);\n          opacity: 0;\n        }\n      }\n    ",t||(window.addEventListener("fullscreenchange",this.handleFullscreenChange,{capture:!0,passive:!0}),window.addEventListener("webkitfullscreenchange",this.handleFullscreenChange,{capture:!0,passive:!0})),null===(n=this.setInit)||void 0===n||n.call(this,{})}));function Ae(e){if(!e.fullscreenElement)return null;var t=e.fullscreenElement,n=t.shadowRoot;if(n&&je.mediaTower.processDoc(t.shadowRoot),n||(n=je.mediaTower.docs.find((function(e){return e instanceof ShadowRoot&&e.host===t}))),n){var r=Ae(n);if(r)return r}return t}var Pe=n(3174).gvar,De=t((function e(){var t=this;r(this,e),o(this,"lock",void 0),o(this,"operationLock",void 0),o(this,"handleFullscreenChange",(function(e){if(t.lock){if(document.fullscreenElement&&t.lock.getRootNode().fullscreenElement===t.lock)return;t.lock=null}document.fullscreenElement&&t.attemptIntegration()})),o(this,"attemptIntegration",a(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.fullscreenElement&&!(document.fullscreenElement instanceof HTMLVideoElement)){e.next=2;break}return e.abrupt("return");case 2:if(t=Pe.mediaTower.media.filter((function(e){return e.readyState&&e instanceof HTMLVideoElement&&e.videoWidth&&e.isConnected})).map((function(e){return Ne(e)})).filter((function(e){return e})),t.length>1&&(t=t.filter((function(e){return e.child.intersectionRatio})).sort((function(e,t){return t.child.intersectionRatio-e.child.intersectionRatio})).slice(0,1)),1===t.length){e.next=6;break}return e.abrupt("return");case 6:if(n=He(t[0]),e.t0=n,!e.t0){e.next=11;break}return e.next=11,Ve(n);case 11:case"end":return e.stop()}}),e)})))),o(this,"toggleSafe",function(){var e=a(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.operationLock){e.next=2;break}return e.abrupt("return");case 2:return t.operationLock=!0,e.next=5,t.toggle(n).finally((function(){delete t.operationLock}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o(this,"toggle",function(){var e=a(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.fullscreenElement){e.next=4;break}return e.next=3,document.exitFullscreen();case 3:return e.abrupt("return");case 4:if(K&&null!=n&&n.isConnected&&n.readyState&&n.videoWidth){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Ge(n,.5);case 8:if(r=e.sent){e.next=13;break}return e.next=12,Pe.nativeFs.toggleSafe(n);case 12:return e.abrupt("return");case 13:return e.next=15,r.ancestor.requestFullscreen();case 15:t.lock=r.ancestor;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("fullscreenchange",this.handleFullscreenChange,{passive:!0,capture:!0}),window.addEventListener("webkitfullscreenchange",this.handleFullscreenChange,{passive:!0,capture:!0})}));function Re(e,t){for(var n=e,r=0;r<t;r++)if(!(n=n.parentNode||n.host))return;return n}function Ne(e){var t;if(e){var n=null===(t=function(e){if(e)for(var t=e;;){var n,r=null===(n=t)||void 0===n?void 0:n.getRootNode();if(!r)return;if(r.fullscreenElement)return r;if(!(r instanceof ShadowRoot))return;t=r.host}}(e))||void 0===t?void 0:t.fullscreenElement;if(n&&n!==e)return function(e,t){if(e&&t)for(var n=0,r=t;;){var o,i;if(n++,!(r=(null===(o=r)||void 0===o?void 0:o.parentNode)||(null===(i=r)||void 0===i?void 0:i.host)))return;if(r===e)return{ancestor:e,distance:n,child:t}}}(n,e)}}function Ue(e,t){if(e.distance!==t.distance)return-1/0;if(e.parentTag!==t.parentTag)return-1/0;var n=0;return new Set([].concat(E(e.videoAttributes),E(t.videoAttributes))).forEach((function(r){n+=e.videoAttributes.includes(r)&&t.videoAttributes.includes(r)?10:-10})),new Set([].concat(E(e.parentAttributes),E(t.parentAttributes))).forEach((function(r){n+=e.parentAttributes.includes(r)&&t.parentAttributes.includes(r)?10:-10})),new Set([].concat(E(e.videoClassNames),E(t.videoClassNames))).forEach((function(r){n+=e.videoClassNames.includes(r)&&t.videoClassNames.includes(r)?10:0})),new Set([].concat(E(e.parentClassNames),E(t.parentClassNames))).forEach((function(r){n+=e.parentClassNames.includes(r)&&t.parentClassNames.includes(r)?10:0})),n+=e.videoId===t.videoId?e.videoId?25:10:0,n+=e.parentId===t.parentId?e.parentId?25:10:0,e.slashes[0]&&t.slashes[1]&&(n+=e.slashes[0]===t.slashes[1]?25:0),e.slashes[1]&&t.slashes[1]&&(n+=e.slashes[1]===t.slashes[1]?10:0),n}function He(e){var t,n,r,o,i=e.distance,a=e.child,s=e.ancestor,c=[],l=((null===(t=document)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.pathname)||"").substr(1);l&&(c=l.split("/").slice(0,3));var u={created:(new Date).getTime(),distance:i,videoId:(null==a?void 0:a.id)||null,videoClassNames:E((null==a?void 0:a.classList)||[]),videoAttributes:null!==(r=null==a?void 0:a.getAttributeNames())&&void 0!==r?r:[],parentId:s.id||null,parentTag:s.tagName,parentClassNames:E((null==s?void 0:s.classList)||[]),parentAttributes:null!==(o=null==s?void 0:s.getAttributeNames())&&void 0!==o?o:[],slashes:c};return u.maxScore=Ue(u,u),u}function Be(){return ze.apply(this,arguments)}function ze(){return(ze=a(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="fs::".concat(location.hostname),e.next=3,y(t);case 3:if(e.t1=t,e.t0=e.sent[e.t1],e.t0){e.next=7;break}e.t0=[];case 7:return n=e.t0,e.abrupt("return",{key:t,profiles:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e){return Ke.apply(this,arguments)}function Ke(){return Ke=a(c().mark((function e(t){var n,r,i,a,s,l,u,d=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:.5,e.next=3,Be();case 3:r=e.sent,i=r.profiles,a=r.key,i=i.filter((function(e){return e.created>(new Date).getTime()-7776e6})),s=i.map((function(e){return{profile:e,score:Ue(e,t)}})).sort((function(e,t){return t.score-e.score})),(null==(l=s[0])?void 0:l.score)>0&&l.score/t.maxScore>(null!=n?n:.5)&&(u=i.indexOf(l.profile))>=0&&i.splice(u,1),i.unshift(t),chrome.storage.local.set(o({},a,i.slice(0,10)));case 12:case"end":return e.stop()}}),e)}))),Ke.apply(this,arguments)}function Ge(e){return Xe.apply(this,arguments)}function Xe(){return Xe=a(c().mark((function e(t){var n,r,o,i,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:.5,e.next=3,Be();case 3:if(r=e.sent,o=r.profiles,new Set(o.map((function(e){return e.distance}))).forEach((function(e){var n=Re(t,e);if(n instanceof Element){var r=He({distance:e,child:t,ancestor:n});o.filter((function(t){return t.distance===e})).forEach((function(e){var t=Ue(r,e);(!i||t>i.score)&&(i={profile:e,score:t,ancestor:n})}))}})),!(i&&i.score/i.profile.maxScore>n)){e.next=8;break}return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)}))),Xe.apply(this,arguments)}var Ye=function(){function e(){var t=this;r(this,e),o(this,"lock",void 0),o(this,"operationLock",void 0),o(this,"toggleSafe",function(){var e=a(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.operationLock){e.next=2;break}return e.abrupt("return");case 2:return t.operationLock=!0,e.next=5,t.toggle(n).finally((function(){delete t.operationLock}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o(this,"toggle",function(){var e=a(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.lock){e.next=4;break}return e.next=3,t.release();case 3:case 7:return e.abrupt("return");case 4:if(!document.fullscreenElement){e.next=8;break}return e.next=7,document.exitFullscreen();case 8:if(null==n||!n.isConnected||!V){e.next=11;break}return e.next=11,t.activate(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o(this,"ensureProper",(function(){if(t.lock){var e=t.lock,n=e.video,r=e.resetCount;n&&(n.controls||(n.controls=!0,r++>1e3&&t.release()),"initial"!==n.style.pointerEvents&&(n.style.pointerEvents="initial",r++>1e3&&t.release()),"none"!==n.style.background&&(n.style.background="none",r++>1e3&&t.release()))}})),o(this,"release",a(c().mark((function e(){var n,r,o,i,a,s,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.lock,o=t.lock,i=o.video,a=o.originalValues,s=a.scrollX,l=a.scrollY,r){e.next=3;break}return e.abrupt("return");case 3:if(null===(n=r.mo)||void 0===n||n.disconnect(),delete r.mo,r.modifiedSheets.forEach((function(e){var t=e.sheet,n=e.original;t.disabled=n})),i.controls=r.originalValues.controls,i.style.pointerEvents=r.originalValues.pointerEvents,i.style.background=r.originalValues.background,!document.fullscreenElement){e.next=12;break}return e.next=12,document.exitFullscreen();case 12:window.scrollTo(s,l),delete t.lock;case 14:case"end":return e.stop()}}),e)})))),o(this,"handleFsChange",(function(){var e,n=null===(e=t.lock)||void 0===e?void 0:e.video;n&&n.getRootNode().fullscreenElement!==n&&t.release()})),window.addEventListener("fullscreenchange",this.handleFsChange,{capture:!0,passive:!0}),window.addEventListener("webkitfullscreenchange",this.handleFsChange,{capture:!0,passive:!0})}var n;return t(e,[{key:"activate",value:(n=a(c().mark((function e(t){var n,r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestFullscreen();case 2:this.lock={video:t,originalValues:{controls:t.controls,pointerEvents:t.style.pointerEvents,background:t.style.background,scrollX:window.scrollX,scrollY:window.scrollY},mo:new MutationObserver(this.ensureProper),modifiedSheets:[],resetCount:0},n=this.lock,r=n.mo,o=n.modifiedSheets,r.observe(t,{attributeFilter:["controls","style"]}),E(document.styleSheets).forEach((function(e){try{var t=e.disabled;e.disabled=!0,o.push({sheet:e,original:t})}catch(e){}})),this.ensureProper();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}(),qe=n(3174).gvar;function We(){return(We=a(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.gvar=qe,qe.mediaTower=new se,qe.smartFs=new De,qe.nativeFs=new Ye,qe.keyListener=new p,"ajaxframe"!==(null===(t=window.frameElement)||void 0===t?void 0:t.id)&&(f(),I()&&f(!0)),e.next=9,Promise.all([g().then((function(e){qe.tabInfo=e}),(function(e){}))]);case 9:if(qe.tabInfo){e.next=20;break}return e.next=12,new Promise((function(e,t){return setTimeout((function(){return e(!0)}),3e3)}));case 12:return e.prev=12,e.next=15,Promise.all([g().then((function(e){qe.tabInfo=e}))]);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(12),e.abrupt("return");case 20:return e.next=22,fe({staticOverlay:!0,indicatorInit:!0});case 22:if(e.t1=e.sent,e.t1){e.next=25;break}e.t1={};case 25:n=e.t1,qe.overlay=qe.overlay||new Fe(n.staticOverlay),qe.overlay.setInit(n.indicatorInit||{}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",$e,{capture:!0,passive:!0,once:!0}):$e();case 29:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function $e(){qe.visibleSync=new Je,chrome.runtime.connect({name:"canopy"}).onDisconnect.addListener((function(){var e,t,n,r;null===(e=qe.visibleSync)||void 0===e||e.release(),delete qe.visibleSync,null===(t=qe.configSync)||void 0===t||t.release(),delete qe.configSync,null===(n=qe.overlay)||void 0===n||n.release(),delete qe.overlay,null===(r=qe.keyListener)||void 0===r||r.release(),delete qe.keyListener}))}var Je=t((function e(){var t=this;r(this,e),o(this,"timeoutId",void 0),o(this,"release",(function(){window.removeEventListener("visibilitychange",t.handleChange,!0)})),o(this,"handleChange",(function(){t.timeoutId&&(t.timeoutId=clearTimeout(t.timeoutId)),document.hidden?t.timeoutId=setTimeout(t.sync,1500):t.sync()})),o(this,"sync",(function(){var e,t;document.hidden?(null===(e=qe.configSync)||void 0===e||e.release(),delete qe.configSync):qe.configSync=null!==(t=qe.configSync)&&void 0!==t?t:new Oe})),window.addEventListener("visibilitychange",this.handleChange,{capture:!0,passive:!0}),this.sync()}));!function(){We.apply(this,arguments)}()}()}();